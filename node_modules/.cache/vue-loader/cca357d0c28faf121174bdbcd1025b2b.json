{"remainingRequest":"C:\\git\\workspace\\vue\\canvas-edit\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\git\\workspace\\vue\\canvas-edit\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\git\\workspace\\vue\\canvas-edit\\src\\App.vue","mtime":1634098137138},{"path":"C:\\git\\workspace\\vue\\canvas-edit\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1635392660698},{"path":"C:\\git\\workspace\\vue\\canvas-edit\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1635392641549},{"path":"C:\\git\\workspace\\vue\\canvas-edit\\node_modules\\babel-loader\\lib\\index.js","mtime":1635392663460},{"path":"C:\\git\\workspace\\vue\\canvas-edit\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1635392660698},{"path":"C:\\git\\workspace\\vue\\canvas-edit\\node_modules\\vue-loader\\lib\\index.js","mtime":1635392645713}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovL2ltcG9ydCBIZWxsb1dvcmxkIGZyb20gJy4vY29tcG9uZW50cy9IZWxsb1dvcmxkLnZ1ZScNCg0KZXhwb3J0IGRlZmF1bHQgew0KCW5hbWU6ICdBcHAnLA0KCS8qY29tcG9uZW50czogew0KCQlIZWxsb1dvcmxkDQoJfSovDQoJLy9wcm9wczpbJ3Byb3AxJywncHJvcDInXSwNCgkvL2NyZWF0ZWQ6IGZ1bmN0aW9uICgpIHsNCgltb3VudGVkOiBmdW5jdGlvbigpIHsNCgkJLy9hbGVydCgne3twcm9wMX19IGNyZWF0ZWQuJyk7DQoJCS8vaWYoIXRoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uID09IGZhbHNlKXRoaXMucmVzZXRDYW52YXModGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb24ubGVuZ3RoKTsNCgkJLy90aGlzLmFkZGJveFNlbGVjdCgpOw0KCQkvL2lmKCFjYW52YXNTZXREYXRhLnZhbHVlID09IGZhbHNlKXsNCgkJLy9jb25zb2xlLmxvZyh0aGlzLnRvZG9zKTsNCgkJaWYodGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb24ubGVuZ3RoID4gMCl7DQoJCQkvL+i8ieWFpeWOn+Wni+ioreWumg0KCQkJLy9jYW52YXNTZXQgPSBKU09OLnBhcnNlKGNhbnZhc1NldERhdGEudmFsdWUpOw0KCQkJdGhpcy5yZXNldENhbnZhcyh0aGlzLmNhbnZhc1NldC5jYW52YXNQb3NpdGlvbi5sZW5ndGgpOw0KCQkJLy9zZXRUaW1lb3V0KCd0aGlzLnJlc2V0Q2FudmFzKHRoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uLmxlbmd0aCknLDUwMCk7DQoJCQkvL+W7uueri+aWh+Wtl+izh+aWmQ0KCQkJLyppZighdGhpcy5jYW52YXNTZXQudGV4dCl0aGlzLmNhbnZhc1NldC50ZXh0ID0gW107DQoJCQlpZih0aGlzLmNhbnZhc1NldC50ZXh0Lmxlbmd0aCA+IDApew0KCQkJCWZvcihsZXQgaT0wO2k8dGhpcy5jYW52YXNTZXQudGV4dC5sZW5ndGg7aSsrKXsNCgkJCQkJdGhpcy5hZGRUZXh0KHRoaXMuY2FudmFzU2V0LnRleHRbaV0saSk7DQoJCQkJfQ0KCQkJfSovDQoJCX0NCgkJLyp3aW5kb3cub25yZXNpemUgPSBmdW5jdGlvbigpew0KCQkJaWYoIXRoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uID09IGZhbHNlKXRoaXMucmVzZXRDYW52YXModGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb24ubGVuZ3RoKTsNCgkJfSovDQoJfSwNCgkvKmNvbXB1dGVkOiB7DQoJCS8vIGEgY29tcHV0ZWQgZ2V0dGVyDQoJCXJldmVyc2VkTWVzc2FnZTogZnVuY3Rpb24gKCkgew0KCQkJLy8gYHRoaXNgIHBvaW50cyB0byB0aGUgdm0gaW5zdGFuY2UNCgkJCXJldHVybiB0aGlzLm1lc3NhZ2Uuc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKQ0KCQl9LA0KCQlic2FyZWEoKSB7DQoJCQkvL3JldHVybiAnPGJ1dHRvbj48L2J1dHRvbiA+Jw0KCQkJcmV0dXJuIHRoaXMuYWRkYm94U2VsZWN0KCk7DQoJCX0NCgl9LCovDQoJZGF0YSgpew0KCQlyZXR1cm57DQoJCQljb250cm9sczpbXSwNCgkJCXBvaW50eHlzOltdLA0KCQkJdG9kb3M6IFsNCgkJCQl7InBvaW50IjpbWzAsNDgwLDk2MF0sWzAsOTYwXV0sImNhbnZhc1Bvc2l0aW9uIjpbWzAsMCwxLDFdLFsxLDAsMiwxXV19LA0KCQkJCXsicG9pbnQiOltbMCw5NjBdLFswLDQ4MCw5NjBdXSwiY2FudmFzUG9zaXRpb24iOltbMCwwLDEsMV0sWzAsMSwxLDJdXX0sDQoJCQkJeyJwb2ludCI6W1swLDI0MCw0ODAsOTYwXSxbMCw5NjBdXSwiY2FudmFzUG9zaXRpb24iOltbMCwwLDEsMV0sWzEsMCwyLDFdLFsyLDAsMywxXV19LA0KCQkJCXsicG9pbnQiOltbMCw5NjBdLFswLDI0MCw0ODAsOTYwXV0sImNhbnZhc1Bvc2l0aW9uIjpbWzAsMCwxLDFdLFswLDEsMSwyXSxbMCwyLDEsM11dfSwNCgkJCQl7InBvaW50IjpbWzAsNDgwLDk2MF0sWzAsNDgwLDk2MF1dLCJjYW52YXNQb3NpdGlvbiI6W1swLDAsMSwxXSxbMCwxLDEsMl0sWzEsMCwyLDJdXX0sDQoJCQkJeyJwb2ludCI6W1swLDQ4MCw5NjBdLFswLDQ4MCw5NjBdXSwiY2FudmFzUG9zaXRpb24iOltbMCwwLDEsMV0sWzEsMCwyLDFdLFswLDEsMiwyXV19LA0KCQkJCXsicG9pbnQiOltbMCw0ODAsOTYwXSxbMCw0ODAsOTYwXV0sImNhbnZhc1Bvc2l0aW9uIjpbWzAsMCwyLDFdLFswLDEsMSwyXSxbMSwxLDIsMl1dfSwNCgkJCQl7InBvaW50IjpbWzAsNDgwLDk2MF0sWzAsNDgwLDk2MF1dLCJjYW52YXNQb3NpdGlvbiI6W1swLDAsMSwyXSxbMSwwLDIsMV0sWzEsMSwyLDJdXX0sDQoJCQkJeyJwb2ludCI6W1swLDI0MCw0ODAsNzIwLDk2MF0sWzAsOTYwXV0sImNhbnZhc1Bvc2l0aW9uIjpbWzAsMCwxLDFdLFsxLDAsMiwxXSxbMiwwLDMsMV0sWzMsMCw0LDFdXX0sDQoJCQkJeyJwb2ludCI6W1swLDk2MF0sWzAsMjQwLDQ4MCw3MjAsOTYwXV0sImNhbnZhc1Bvc2l0aW9uIjpbWzAsMCwxLDFdLFswLDEsMSwyXSxbMCwyLDEsM10sWzAsMywxLDRdXX0sDQoJCQkJeyJwb2ludCI6W1swLDQ4MCw5NjBdLFswLDQ4MCw5NjBdXSwiY2FudmFzUG9zaXRpb24iOltbMCwwLDEsMV0sWzEsMCwyLDFdLFswLDEsMSwyXSxbMSwxLDIsMl1dfSwNCgkJCQl7InBvaW50IjpbWzAsNDgwLDk2MF0sWzAsMzIwLDY0MCw5NjBdXSwiY2FudmFzUG9zaXRpb24iOltbMCwwLDEsMV0sWzAsMSwxLDJdLFswLDIsMSwzXSxbMSwwLDIsM11dfSwNCgkJCQl7InBvaW50IjpbWzAsMzIwLDY0MCw5NjBdLFswLDQ4MCw5NjBdXSwiY2FudmFzUG9zaXRpb24iOltbMCwwLDEsMV0sWzEsMCwyLDFdLFsyLDAsMywxXSxbMCwxLDMsMl1dfSwNCgkJCQl7InBvaW50IjpbWzAsMzIwLDY0MCw5NjBdLFswLDQ4MCw5NjBdXSwiY2FudmFzUG9zaXRpb24iOltbMCwwLDMsMV0sWzAsMSwxLDJdLFsxLDEsMiwyXSxbMiwxLDMsMl1dfSwNCgkJCQl7InBvaW50IjpbWzAsNDgwLDk2MF0sWzAsMzIwLDY0MCw5NjBdXSwiY2FudmFzUG9zaXRpb24iOltbMCwwLDEsM10sWzEsMCwyLDFdLFsxLDEsMiwyXSxbMSwyLDIsM11dfQ0KCQkJXSwNCgkJCS8vY2FyZWE6ICcnLA0KCQkJLy9ic2FyZWE6ICcnLA0KCQkJY2FudmFzX2FyZWE6JycsDQoJCQllYXJlYV9zdHlsZTondHJhbnNmb3JtOiBzY2FsZSgxKScsDQoJCQljYW52YXNXaWR0aDowLA0KCQkJY2FudmFzSGVpZ2h0OjAsDQoJCQkvL2NhbnZhc2xpbmV3aWR0aDowLA0KCQkJLy9jYW52YXNTZXQ6IHsicG9pbnQiOltbMCw0ODAsOTYwXSxbMCw0ODAsOTYwXV0sImNhbnZhc1Bvc2l0aW9uIjpbWzAsMCwyLDFdLFswLDEsMSwyXSxbMSwxLDIsMl1dLCJzcGFjaW5nIjowLCJpbWdQb3NpdGlvbiI6W1siaW1hZ2VzLzUzODNfUF8yMDIwMDMyMDEyMjIwOV81LmpwZyIsMCwwLDEsMF0sWyJpbWFnZXMvNTQxNV9QXzIwMjAwMzA3MDEyOTIxXzEuanBnIiwwLDAsMSwwXSxbImltYWdlcy81NDI4X1BfMjAyMDAzMDcwMDI5NDdfMS5qcGciLDAsLTUyLDEsMF1dfSwNCgkJCWNhbnZhc1NldDp7DQoJCQkJInBvaW50IjpbXSwNCgkJCQkiY2FudmFzUG9zaXRpb24iOltdLA0KCQkJCSJzcGFjaW5nIjowLA0KCQkJCSJpbWdQb3NpdGlvbiI6W10NCgkJCX0sDQoJCQl0ZW1wU2V0OiB7DQoJCQkJImNhbnZhc0FyZWEiOltdLA0KCQkJCSJjYW52YXNQb3NpdGlvbkN1c3RvbSI6W10sDQoJCQkJLy/ntIDpjITmu5HpvKDmk43kvZzkuovku7YNCgkJCQkidGV4dF9pc0Rvd24iOmZhbHNlLA0KCQkJCSJjb250cm9sX2lzRG93biI6ZmFsc2UsDQoJCQkJInBvbml0eHlfaXNEb3duIjpmYWxzZSwNCgkJCQkiY2FudmFzQ3VzdG9tX2lzRG93biI6ZmFsc2UsDQoJCQkJLy/ntIDpjITmu5HpvKDmk43kvZzmlbjmk5ot6Ieq6KiC5Y2A5aGK5Y6f5aeL6LW36bueDQoJCQkJImNhbnZhc0N1c3RvbV94IjowLA0KCQkJCSJjYW52YXNDdXN0b21feSI6MCwNCgkJCQkvL+e0gOmMhOa7kem8oOaTjeS9nOaVuOaTmg0KCQkJCSJtX250aCI6MCwNCgkJCQkibV9tb3ZlX3giOjAsDQoJCQkJIm1fbW92ZV95IjowLA0KCQkJCSJtX2Rvd25feCI6MCwNCgkJCQkibV9kb3duX3kiOjAsDQoJCQkJIm1fbnRoX3giOjAsDQoJCQkJIm1fbnRoX3kiOjANCgkJCX0NCgkJfQ0KCX0sDQoJbWV0aG9kczp7DQoJCWFkZENvbW1lbnQ6ZnVuY3Rpb24gKGV2ZW50KSB7DQoJCQlpZihldmVudC50YXJnZXQubm9kZU5hbWUgPT09ICdCVVRUT04nKXsNCgkJCQkvLyDojrflj5bop6blj5Hkuovku7blr7nosaHnmoTlsZ7mgKcNCgkJCQljb25zb2xlLmxvZygxMjMpOw0KCQkJfQ0KCQl9LA0KCQlyZXNldENhbnZhczogZnVuY3Rpb24oc2l6ZSxpbWdSZXBvc2l0aW9uKXsNCgkJCWltZ1JlcG9zaXRpb24gPSBpbWdSZXBvc2l0aW9uIHx8IGZhbHNlOw0KCQkJbGV0IGJhcmVhID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiYnV0dG9uLWFyZWEiKVswXTsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzDQoJCQl0aGlzLmNhbnZhc1dpZHRoID0gdGhpcy5jYW52YXNTZXQucG9pbnRbMF1bdGhpcy5jYW52YXNTZXQucG9pbnRbMF0ubGVuZ3RoLTFdOw0KCQkJdGhpcy5jYW52YXNIZWlnaHQgPSB0aGlzLmNhbnZhc1NldC5wb2ludFsxXVt0aGlzLmNhbnZhc1NldC5wb2ludFsxXS5sZW5ndGgtMV07DQoJCQl0aGlzLmNhbnZhc19hcmVhPScnOw0KCQkJY29uc29sZS5sb2codGhpcy5jYW52YXNXaWR0aCk7DQoJCQkvL+ioreWumueVq+W4g+mhr+ekuue4ruaUvuWAjeeOhw0KCQkJbGV0IHNjYWxlID0gMTsNCgkJCQ0KCQkJbGV0IGVhcmVhX3dyYXBfdyA9IHdpbmRvdy5pbm5lcldpZHRoIC0gMzAwOw0KCQkJbGV0IGVhcmVhX3dyYXBfaCA9IHdpbmRvdy5pbm5lckhlaWdodDsNCgkJCWlmKHRoaXMuY2FudmFzV2lkdGg+ZWFyZWFfd3JhcF93KjAuOSl7DQoJCQkJdGhpcy5lYXJlYV9zdHlsZSA9J3RyYW5zZm9ybTogc2NhbGUoJysoZWFyZWFfd3JhcF93KjAuOS90aGlzLmNhbnZhc1dpZHRoKSsnKSc7DQoJCQkJc2NhbGUgPSAxLyhlYXJlYV93cmFwX3cqMC45L3RoaXMuY2FudmFzV2lkdGgpOw0KCQkJfQ0KCQkJaWYodGhpcy5jYW52YXNIZWlnaHQqKGVhcmVhX3dyYXBfdyowLjkvdGhpcy5jYW52YXNXaWR0aCk+ZWFyZWFfd3JhcF9oKjAuOSl7DQoJCQkJdGhpcy5lYXJlYV9zdHlsZSA9J3RyYW5zZm9ybTogc2NhbGUoJysoZWFyZWFfd3JhcF9oKjAuOS90aGlzLmNhbnZhc0hlaWdodCkrJyknOw0KCQkJCXNjYWxlID0gMS8oZWFyZWFfd3JhcF9oKjAuOS90aGlzLmNhbnZhc0hlaWdodCk7DQoJCQl9DQoJCQlmb3IobGV0IGk9MDtpPGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInRleHQtY29udHJvbCIpLmxlbmd0aDtpKyspew0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInRleHQtY29udHJvbCIpW2ldLnNldEF0dHJpYnV0ZSgic3R5bGUiLCd0cmFuc2Zvcm06IHNjYWxlKCcrc2NhbGUrJyknKTsNCgkJCX0NCgkJCS8v5Y+W5b6X55Wr5biD5Y+v6KaL5Y2A5Z+f6LW36bue57WC6bue5a+s6auYDQoJCQlmb3IobGV0IGk9MDtpPHNpemU7aSsrKXsNCgkJCQl0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVtpXT1bDQoJCQkJCXRoaXMuY2FudmFzU2V0LnBvaW50WzBdW3RoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uW2ldWzBdXSwNCgkJCQkJdGhpcy5jYW52YXNTZXQucG9pbnRbMV1bdGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb25baV1bMV1dLA0KCQkJCQl0aGlzLmNhbnZhc1NldC5wb2ludFswXVt0aGlzLmNhbnZhc1NldC5jYW52YXNQb3NpdGlvbltpXVsyXV0sDQoJCQkJCXRoaXMuY2FudmFzU2V0LnBvaW50WzFdW3RoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uW2ldWzNdXSwNCgkJCQkJdGhpcy5jYW52YXNTZXQucG9pbnRbMF1bdGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb25baV1bMl1dLXRoaXMuY2FudmFzU2V0LnBvaW50WzBdW3RoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uW2ldWzBdXSwNCgkJCQkJdGhpcy5jYW52YXNTZXQucG9pbnRbMV1bdGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb25baV1bM11dLXRoaXMuY2FudmFzU2V0LnBvaW50WzFdW3RoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uW2ldWzFdXQ0KCQkJCV07DQoJCQkJLy9jb25zb2xlLmxvZyh0aGlzLmNhbnZhc1NldC5wb2ludFswXSk7DQoJCQl9DQoJCQkvL2NvbnNvbGUubG9nKHRoaXMuY2FudmFzU2V0LnBvaW50KTsNCgkJCXRoaXMuY29udHJvbHMgPSBbXTsNCgkJCXRoaXMucG9pbnR4eXMgPSBbXTsNCgkJCWZvcihsZXQgaT0xO2k8PXNpemUrMTtpKyspew0KCQkJCS8v5bu656uL55Wr5biDDQoJCQkJbGV0IGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpOw0KCQkJCQlpZihpPD1zaXplKXsNCgkJCQkJCS8vY29uc29sZS5sb2codGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbaS0xXVs0XSk7DQoJCQkJCQlib3guaWQgPSAiY2FudmFzIitpOw0KCQkJCQkJYm94LndpZHRoID0gdGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbaS0xXVs0XS0oK3RoaXMuY2FudmFzU2V0LnNwYWNpbmcqMik7DQoJCQkJCQlib3guaGVpZ2h0ID0gdGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbaS0xXVs1XS0oK3RoaXMuY2FudmFzU2V0LnNwYWNpbmcqMik7DQoJCQkJCQlib3guc3R5bGUubGVmdCA9ICh0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVtpLTFdWzBdKygrdGhpcy5jYW52YXNTZXQuc3BhY2luZykpICsgInB4IjsNCgkJCQkJCWJveC5zdHlsZS50b3AgPSAodGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbaS0xXVsxXSsoK3RoaXMuY2FudmFzU2V0LnNwYWNpbmcpKSArICJweCI7DQoJCQkJCX1lbHNlew0KCQkJCQkJYm94LmlkID0gImZpbmFsQ2FudmFzIjsNCgkJCQkJCWJveC53aWR0aCA9IHRoaXMuY2FudmFzV2lkdGg7DQoJCQkJCQlib3guaGVpZ2h0ID0gdGhpcy5jYW52YXNIZWlnaHQ7DQoJCQkJCX0NCgkJCQlsZXQgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KCQkJCQl3cmFwLmFwcGVuZENoaWxkKGJveCk7DQoJCQkJCXRoaXMuY2FudmFzX2FyZWErPXdyYXAuaW5uZXJIVE1MOw0KCQkJCWlmKGk8PXNpemUpew0KCQkJCQkvL+W7uueri+e3qeihneeVq+W4gw0KCQkJCQlsZXQgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7DQoJCQkJCQlib3guaWQgPSAidGVtcGNhbnZhcyIraTsNCgkJCQkJCWJveC53aWR0aCA9IHRoaXMudGVtcFNldC5jYW52YXNBcmVhW2ktMV1bNF0tKCt0aGlzLmNhbnZhc1NldC5zcGFjaW5nKjIpOw0KCQkJCQkJYm94LmhlaWdodCA9IHRoaXMudGVtcFNldC5jYW52YXNBcmVhW2ktMV1bNV0tKCt0aGlzLmNhbnZhc1NldC5zcGFjaW5nKjIpOw0KCQkJCQkJYm94LnN0eWxlLmxlZnQgPSAodGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbaS0xXVswXSsoK3RoaXMuY2FudmFzU2V0LnNwYWNpbmcpKSArICJweCI7DQoJCQkJCQkvL2NvbnNvbGUubG9nKHRoaXMudGVtcFNldC5jYW52YXNBcmVhW2ktMV1bMF0sdGhpcy5jYW52YXNTZXQuc3BhY2luZyx0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVtpLTFdWzBdKygrdGhpcy5jYW52YXNTZXQuc3BhY2luZykpDQoJCQkJCQlib3guc3R5bGUudG9wID0gKHRoaXMudGVtcFNldC5jYW52YXNBcmVhW2ktMV1bMV0rKCt0aGlzLmNhbnZhc1NldC5zcGFjaW5nKSkgKyAicHgiOw0KCQkJCQlsZXQgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KCQkJCQkJd3JhcC5hcHBlbmRDaGlsZChib3gpOw0KCQkJCQkJdGhpcy5jYW52YXNfYXJlYSs9d3JhcC5pbm5lckhUTUw7DQoJCQkJCS8v5bu656uL5ZyW54mH5a6a5L2N57SA6YyEDQoJCQkJCWlmKCF0aGlzLmNhbnZhc1NldC5pbWdQb3NpdGlvbil0aGlzLmNhbnZhc1NldC5pbWdQb3NpdGlvbj1bXTsNCgkJCQkJaWYoIXRoaXMuY2FudmFzU2V0LmltZ1Bvc2l0aW9uW2ktMV0pew0KCQkJCQkJdGhpcy5jYW52YXNTZXQuaW1nUG9zaXRpb24ucHVzaChbXSk7DQoJCQkJCX1lbHNlew0KCQkJCQkJdGhpcy5hZGRpbWcoaSx0aGlzLmNhbnZhc1NldC5pbWdQb3NpdGlvbltpLTFdWzBdLHRoaXMuY2FudmFzU2V0LmltZ1Bvc2l0aW9uW2ktMV1bMV0sdGhpcy5jYW52YXNTZXQuaW1nUG9zaXRpb25baS0xXVsyXSx0aGlzLmNhbnZhc1NldC5pbWdQb3NpdGlvbltpLTFdWzNdLHRoaXMuY2FudmFzU2V0LmltZ1Bvc2l0aW9uW2ktMV1bNF0saW1nUmVwb3NpdGlvbik7DQoJCQkJCX0NCgkJCQkJLy/lu7rnq4vnlavluIPmjqfliLbljYANCgkJCQkJbGV0IGJveDIgPSB7c3R5bGU6IiIsc2NhbGU6c2NhbGV9Ow0KCQkJCQlsZXQgeCA9IHRoaXMudGVtcFNldC5jYW52YXNBcmVhW2ktMV1bMF0sDQoJCQkJCQl5ID0gdGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbaS0xXVsxXSwNCgkJCQkJCXcgPSB0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVtpLTFdWzRdLA0KCQkJCQkJaCA9IHRoaXMudGVtcFNldC5jYW52YXNBcmVhW2ktMV1bNV07DQoJCQkJCQlib3gyLnN0eWxlPSd0b3A6Jyt5KydweDtsZWZ0OicreCsncHg7d2lkdGg6Jyt3KydweDtoZWlnaHQ6JytoKydweDsnOw0KCQkJCQkJdGhpcy5jb250cm9scy5wdXNoKGJveDIpOw0KCQkJCX0NCgkJCX0NCgkJCS8v5bu656uL55Wr5biD5Y+v6KaL56+E5ZyN5o6n5Yi25oyJ6YiVDQoJCQlmb3IobGV0IGk9MTtpPHNpemUrMTtpKyspew0KCQkJCWxldCBib3ggPSB7c3R5bGU6IiJ9Ow0KCQkJCWxldCBzdHlsZSA9ICcnOw0KCQkJCQkJaWYoc2NhbGUgIT0gMSlzdHlsZT0ndHJhbnNmb3JtOnNjYWxlKCcrc2NhbGUrJyk7JzsNCgkJCQkJYm94LnN0eWxlPSd0b3A6Jyt0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVtpLTFdWzNdKydweDtsZWZ0OicrdGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbaS0xXVsyXSsncHg7JytzdHlsZTsNCgkJCQkJdGhpcy5wb2ludHh5cy5wdXNoKGJveCk7DQoJCQl9DQoJCX0sDQoJCS8v572u5YWl5ZyW54mHLA0KCQlhZGRpbWc6IGZ1bmN0aW9uKG50aCxpbWdOYW1lLGltZ3gsaW1neSxpbWd6LGltZ3IsaW1nUmVwb3NpdGlvbil7DQoJCQlpbWdSZXBvc2l0aW9uID0gaW1nUmVwb3NpdGlvbiB8fCBmYWxzZTsNCgkJCWlmKCFpbWdOYW1lKXJldHVybiBmYWxzZTsNCgkJCWxldCBjdnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FudmFzIitudGgpLA0KCQkJCWN2c3RlbXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVtcGNhbnZhcyIrbnRoKSwNCgkJCQljdHggPSBjdnMuZ2V0Q29udGV4dCgiMmQiKSwNCgkJCQljdHh0ZW1wID0gY3ZzdGVtcC5nZXRDb250ZXh0KCIyZCIpOw0KCQkJY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj0iY29weSI7DQoJCQlsZXQgaW1nID0gbmV3IEltYWdlKCk7DQoJCQkJaW1nLnNyYz1pbWdOYW1lOw0KCQkJCWltZy5zZXRBdHRyaWJ1dGUoJ2Nyb3Nzb3JpZ2luJywgJ2Fub255bW91cycpOw0KCQkJCWltZy5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnOw0KCQkJaW1neCA9IGltZ3ggfHwgMDsNCgkJCWltZ3kgPSBpbWd5IHx8IDA7DQoJCQlpbWd6ID0gaW1neiB8fCAxOw0KCQkJaW1nciA9IGltZ3IgfHwgMDsNCgkJCS8v5bu656uL5ZyW54mH57ep6KGd5b6M5riF6Zmk5ZyW54mHDQoJCQljdHh0ZW1wLmRyYXdJbWFnZShjdnMsIDAsIDApOw0KCQkJY3R4LmNsZWFyUmVjdCgwLDAsY3ZzLndpZHRoLGN2cy5oZWlnaHQpOw0KCQkJaW1nLm9ubG9hZD1mdW5jdGlvbigpew0KCQkJCWxldCBpbWd3ID0gdGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbbnRoLTFdWzRdLA0KCQkJCQlpbWdoID0gaW1nLmhlaWdodCppbWd3L2ltZy53aWR0aDsNCgkJCQlpZihpbWdoPHRoaXMudGVtcFNldC5jYW52YXNBcmVhW250aC0xXVs1XSl7DQoJCQkJCWltZ2ggPSB0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVtudGgtMV1bNV07DQoJCQkJCWltZ3cgPSBpbWcud2lkdGgqaW1naC9pbWcuaGVpZ2h0Ow0KCQkJCX0NCgkJCQkvL+mZkOWItuenu+WLleWNgOWfn+S4jeWPr+i2heWHuuWclueJhyzlop7liqDnuK7lsI/lnJbniYflip/og73lvozlgZznlKgs6Zmk6Z2e55Wr5biD6K6K5pu0DQoJCQkJaWYoaW1nUmVwb3NpdGlvbj09dHJ1ZSl7DQoJCQkJCWlmKGltZ3g+MCAmJiBpbWd5PjApew0KCQkJCQkJaW1neCA9IDA7DQoJCQkJCQlpbWd5ID0gMDsNCgkJCQkJfWVsc2UgaWYoaW1neD4wKXsNCgkJCQkJCWltZ3ggPSAwOw0KCQkJCQl9ZWxzZSBpZihpbWd5PjApew0KCQkJCQkJaW1neSA9IDA7DQoJCQkJCX0NCgkJCQkJaWYoaW1neCsoaW1ndyppbWd6KTx0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVtudGgtMV1bNF0gJiYgaW1neSsoaW1naCppbWd6KTx0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVtudGgtMV1bNV0pew0KCQkJCQkJaW1neCA9IHRoaXMudGVtcFNldC5jYW52YXNBcmVhW250aC0xXVs0XS0oaW1ndyppbWd6KTsNCgkJCQkJCWltZ3kgPSB0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVtudGgtMV1bNV0tKGltZ2gqaW1neik7DQoJCQkJCX1lbHNlIGlmKGltZ3grKGltZ3cqaW1neik8dGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbbnRoLTFdWzRdKXsNCgkJCQkJCWltZ3ggPSB0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVtudGgtMV1bNF0tKGltZ3cqaW1neik7DQoJCQkJCX1lbHNlIGlmKGltZ3krKGltZ2gqaW1neik8dGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbbnRoLTFdWzVdKXsNCgkJCQkJCWltZ3kgPSB0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVtudGgtMV1bNV0tKGltZ2gqaW1neik7DQoJCQkJCX0NCgkJCQl9DQoJCQkJDQoJCQkJLy/ntIDpjITlnJbniYfmlbjmk5oNCgkJCQl0aGlzLmNhbnZhc1NldC5pbWdQb3NpdGlvbltudGgtMV09W2ltZ05hbWUsaW1neCxpbWd5LGltZ3osaW1ncl07DQoJCQkJY3R4LnRyYW5zbGF0ZShpbWd4LSgrdGhpcy5jYW52YXNTZXQuc3BhY2luZykrKGltZ3cqaW1nei8yKSxpbWd5LSgrdGhpcy5jYW52YXNTZXQuc3BhY2luZykrKGltZ2gqaW1nei8yKSk7DQoJCQkJY3R4LnJvdGF0ZShpbWdyLzE4MCpNYXRoLlBJKTsNCgkJCQljdHguZHJhd0ltYWdlKGltZyxpbWd4LShpbWd3KmltZ3ovMiksIGltZ3ktKGltZ2gqaW1nei8yKSwgaW1ndyAqIGltZ3osIGltZ2ggKiBpbWd6KTsNCgkJCQljdHgucm90YXRlKC1pbWdyLzE4MCpNYXRoLlBJKTsNCgkJCQljdHgudHJhbnNsYXRlKCt0aGlzLmNhbnZhc1NldC5zcGFjaW5nLWltZ3gtKGltZ3cqaW1nei8yKSwrdGhpcy5jYW52YXNTZXQuc3BhY2luZy1pbWd5LShpbWdoKmltZ3ovMikpOy8v6YeN6Kit5Y+D6ICD6bue54K6MCwwDQoJCQkJLy/muIXnkIbph43nlorljYDln58NCgkJCQljdHh0ZW1wLmNsZWFyUmVjdCgwLDAsY3ZzLndpZHRoLGN2cy5oZWlnaHQpOw0KCQkJfQ0KCQl9LA0KCQkvL+WQhOWcluWQiOS9teS4gOW8teWcliwNCgkJZ2V0QmFzZTY0OiBmdW5jdGlvbigpey8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMNCgkJCS8v5pW45pOa6LOH5paZ6L2J5oiQanNvbg0KCQkJLy9jYW52YXNTZXREYXRhLnZhbHVlID0gSlNPTi5zdHJpbmdpZnkodGhpcy5jYW52YXNTZXQpOw0KCQkJbGV0IGRvbUNvbnRleHQgPSBmaW5hbENhbnZhcy5nZXRDb250ZXh0KCcyZCcpOw0KCQkJCWRvbUNvbnRleHQuY2xlYXJSZWN0KDAsMCxmaW5hbENhbnZhcy53aWR0aCxmaW5hbENhbnZhcy5oZWlnaHQpOw0KCQkJCWRvbUNvbnRleHQuZmlsbFN0eWxlPSIjZmZmZmZmIjsNCgkJCQlkb21Db250ZXh0LmZpbGxSZWN0KDAsMCxmaW5hbENhbnZhcy53aWR0aCxmaW5hbENhbnZhcy5oZWlnaHQpOw0KCQkJLy9kb21Db250ZXh0LnNjYWxlKDIsMik7DQoJCQlmb3IobGV0IGk9MTtpPD10aGlzLnRlbXBTZXQuY2FudmFzQXJlYS5sZW5ndGg7aSsrKXsNCgkJCQlsZXQgY3ZzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbnZhcyIraSk7DQoJCQkJZG9tQ29udGV4dC5kcmF3SW1hZ2UoY3ZzLCB0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVtpLTFdWzBdKygrdGhpcy5jYW52YXNTZXQuc3BhY2luZyksIHRoaXMudGVtcFNldC5jYW52YXNBcmVhW2ktMV1bMV0rKCt0aGlzLmNhbnZhc1NldC5zcGFjaW5nKSk7DQoJCQl9DQoJCQlpZighdGhpcy5jYW52YXNTZXQudGV4dD09ZmFsc2Upew0KCQkJCWZvcihsZXQgaT0wO2k8dGhpcy5jYW52YXNTZXQudGV4dC5sZW5ndGg7aSsrKXsNCgkJCQkJZG9tQ29udGV4dC50ZXh0QmFzZWxpbmUgPSAidG9wIjsvL2NhbnZhc+aWh+Wtl+WumuS9jeW+nuW3puS4i+inkuaUueaIkOS4iuaWuQ0KCQkJCQlkb21Db250ZXh0LmZvbnQgPSB0aGlzLmNhbnZhc1NldC50ZXh0W2ldLndlaWdodCArICIgIiArIHRoaXMuY2FudmFzU2V0LnRleHRbaV0uc2l6ZSArICJweCAiICsgdGhpcy5jYW52YXNTZXQudGV4dFtpXS5mb250Ow0KCQkJCQlkb21Db250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuY2FudmFzU2V0LnRleHRbaV0uY29sb3I7DQoJCQkJCWRvbUNvbnRleHQuZmlsbFRleHQodGhpcy5jYW52YXNTZXQudGV4dFtpXS50ZXh0LHRoaXMuY2FudmFzU2V0LnRleHRbaV0ueCx0aGlzLmNhbnZhc1NldC50ZXh0W2ldLnkpOw0KCQkJCX0NCgkJCX0NCgkJCXRoaXMudGVtcFNldC5kYXRhVVJMID0gZmluYWxDYW52YXMudG9EYXRhVVJMKCk7ICAgLy9nZXQgYmFzZTY0IGltZw0KCQkJbGV0IGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KCQkJCWJveC5pZCA9ICJzZWxlY3RpbWciOw0KCQkJCWJveC5pbm5lckhUTUwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVtcFNob3ciKS5pbm5lckhUTUw7DQoJCQkJYm94LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbWciKVswXS5zZXRBdHRyaWJ1dGUoInNyYyIsdGhpcy50ZW1wU2V0LmRhdGFVUkwpOw0KCQkJZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChib3gpOw0KCQl9LA0KCQkvL+ioreWumueVq+W4g+mhr+ekuue4ruaUvuWAjeeOhywNCgkJc2V0U2NhbGU6IGZ1bmN0aW9uKCl7DQoJCQlsZXQgZWFyZWFfd3JhcCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImVkaXQtYm94LXdyYXAiKVswXSwNCgkJCQljYW52YXNXaWR0aCA9IHRoaXMuY2FudmFzU2V0LnBvaW50WzBdW3RoaXMuY2FudmFzU2V0LnBvaW50WzBdLmxlbmd0aC0xXSwNCgkJCQljYW52YXNIZWlnaHQgPSB0aGlzLmNhbnZhc1NldC5wb2ludFsxXVt0aGlzLmNhbnZhc1NldC5wb2ludFsxXS5sZW5ndGgtMV07DQoJCQlsZXQgc2NhbGUgPSAxOw0KCQkJaWYoY2FudmFzV2lkdGg+ZWFyZWFfd3JhcC5jbGllbnRXaWR0aCowLjkpew0KCQkJCXNjYWxlID0gMS8oZWFyZWFfd3JhcC5jbGllbnRXaWR0aCowLjkvY2FudmFzV2lkdGgpOw0KCQkJfQ0KCQkJaWYoY2FudmFzSGVpZ2h0KihlYXJlYV93cmFwLmNsaWVudFdpZHRoKjAuOS9jYW52YXNXaWR0aCk+ZWFyZWFfd3JhcC5jbGllbnRIZWlnaHQqMC45KXsNCgkJCQlzY2FsZSA9IDEvKGVhcmVhX3dyYXAuY2xpZW50SGVpZ2h0KjAuOS9jYW52YXNIZWlnaHQpOw0KCQkJfQ0KCQkJcmV0dXJuIHNjYWxlOw0KCQl9LA0KCQkvL+aLluabs+WclueJhywNCgkJY29udHJvbF9kb3duOiBmdW5jdGlvbihudGgpey8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMNCgkJCWlmKHRoaXMudGVtcFNldC50ZXh0X2lzRG93biA9PSB0cnVlKXJldHVybiBmYWxzZTsNCgkJCWlmKCF0aGlzLmNhbnZhc1NldC5pbWdQb3NpdGlvbltudGgtMV1bMF0pew0KCQkJCS8vc2VhcmNoaW1nKG50aCk7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfQ0KCQkJdGhpcy50ZW1wU2V0Lm1fbnRoID0gbnRoOw0KCQkJdGhpcy50ZW1wU2V0LmNvbnRyb2xfaXNEb3duID0gdHJ1ZTsNCgkJCS8v542y5Y+W5ruR6byg5oyJ5LiL5pmC5bqn5qiZDQoJCQl0aGlzLnRlbXBTZXQubV9kb3duX3ggPSBldmVudC5jbGllbnRYOw0KCQkJdGhpcy50ZW1wU2V0Lm1fZG93bl95ID0gZXZlbnQuY2xpZW50WTsNCgkJCXRoaXMudGVtcFNldC5tX250aF94ID0gdGhpcy5jYW52YXNTZXQuaW1nUG9zaXRpb25bdGhpcy50ZW1wU2V0Lm1fbnRoLTFdWzFdOw0KCQkJdGhpcy50ZW1wU2V0Lm1fbnRoX3kgPSB0aGlzLmNhbnZhc1NldC5pbWdQb3NpdGlvblt0aGlzLnRlbXBTZXQubV9udGgtMV1bMl07DQoJCX0sDQoJCS8v5ruR6byg56e75YuVLA0KCQltb3ZlOiBmdW5jdGlvbigpey8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMNCgkJCS8v542y5Y+W5ruR6byg56e75YuV5a+m5pmC5bqn5qiZDQoJCQl0aGlzLnRlbXBTZXQubV9tb3ZlX3ggPSBldmVudC5jbGllbnRYOw0KCQkJdGhpcy50ZW1wU2V0Lm1fbW92ZV95ID0gZXZlbnQuY2xpZW50WTsNCgkJCS8v6Kit5a6a55Wr5biD6aGv56S657iu5pS+5YCN546HDQoJCQkvL2lmKHRoaXMuY2FudmFzU2V0LnBvaW50Lmxlbmd0aCA+IDApdmFyIHNjYWxlID0gdGhpcy5zZXRTY2FsZSgpOw0KCQkJLy/mu5HpvKDmjInkuIvmmYLnp7vli5XmiY3op7jnmbwNCgkJCWlmKHRoaXMudGVtcFNldC5jb250cm9sX2lzRG93bil7DQoJCQkJLy/miormlrBkaXbluqfmqJnlgLzos6bntaZkaXbnianku7YNCgkJCQlsZXQgeCA9IE1hdGguZmxvb3IoK3RoaXMudGVtcFNldC5tX250aF94ICsgKHRoaXMudGVtcFNldC5tX21vdmVfeCAtIHRoaXMudGVtcFNldC5tX2Rvd25feCkqdGhpcy5zZXRTY2FsZSgpKSwNCgkJCQkJeSA9IE1hdGguZmxvb3IoK3RoaXMudGVtcFNldC5tX250aF95ICsgKHRoaXMudGVtcFNldC5tX21vdmVfeSAtIHRoaXMudGVtcFNldC5tX2Rvd25feSkqdGhpcy5zZXRTY2FsZSgpKTsNCgkJCQl0aGlzLmFkZGltZyh0aGlzLnRlbXBTZXQubV9udGgsdGhpcy5jYW52YXNTZXQuaW1nUG9zaXRpb25bdGhpcy50ZW1wU2V0Lm1fbnRoLTFdWzBdLHgseSx0aGlzLmNhbnZhc1NldC5pbWdQb3NpdGlvblt0aGlzLnRlbXBTZXQubV9udGgtMV1bM10sdGhpcy5jYW52YXNTZXQuaW1nUG9zaXRpb25bdGhpcy50ZW1wU2V0Lm1fbnRoLTFdWzRdKTsNCgkJCX0NCgkJCWlmKHRoaXMudGVtcFNldC50ZXh0X2lzRG93bil7DQoJCQkJLy/miormlrBkaXbluqfmqJnlgLzos6bntaZkaXbnianku7YNCgkJCQlsZXQgeCA9IE1hdGguZmxvb3IoK3RoaXMudGVtcFNldC5tX250aF94ICsgKHRoaXMudGVtcFNldC5tX21vdmVfeCAtIHRoaXMudGVtcFNldC5tX2Rvd25feCkqdGhpcy5zZXRTY2FsZSgpKSwNCgkJCQkJeSA9IE1hdGguZmxvb3IoK3RoaXMudGVtcFNldC5tX250aF95ICsgKHRoaXMudGVtcFNldC5tX21vdmVfeSAtIHRoaXMudGVtcFNldC5tX2Rvd25feSkqdGhpcy5zZXRTY2FsZSgpKTsNCgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGV4dEJsb2NrIit0aGlzLnRlbXBTZXQubV9udGgpLnN0eWxlLmxlZnQgPSB4ICsgInB4IjsNCgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGV4dEJsb2NrIit0aGlzLnRlbXBTZXQubV9udGgpLnN0eWxlLnRvcCA9IHkgKyAicHgiOw0KCQkJCXRoaXMuY2FudmFzU2V0LnRleHRbdGhpcy50ZW1wU2V0Lm1fbnRoLTFdLnggPSB4Ow0KCQkJCXRoaXMuY2FudmFzU2V0LnRleHRbdGhpcy50ZW1wU2V0Lm1fbnRoLTFdLnkgPSB5Ow0KCQkJfQ0KCQkJaWYodGhpcy50ZW1wU2V0LnBvbml0eHlfaXNEb3duKXsNCgkJCQkvL+aKiuaWsGRpduW6p+aomeWAvOizpue1pmRpdueJqeS7tg0KCQkJCWxldCB4ID0gTWF0aC5mbG9vcigrdGhpcy50ZW1wU2V0Lm1fbnRoX3ggKyAodGhpcy50ZW1wU2V0Lm1fbW92ZV94IC0gdGhpcy50ZW1wU2V0Lm1fZG93bl94KSp0aGlzLnNldFNjYWxlKCkpLA0KCQkJCQl5ID0gTWF0aC5mbG9vcigrdGhpcy50ZW1wU2V0Lm1fbnRoX3kgKyAodGhpcy50ZW1wU2V0Lm1fbW92ZV95IC0gdGhpcy50ZW1wU2V0Lm1fZG93bl95KSp0aGlzLnNldFNjYWxlKCkpLA0KCQkJCQl0aGlzUG9pbnR4eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwb2ludHh5Iit0aGlzLnRlbXBTZXQubV9udGgpOw0KCQkJCS8v5qqi5p+l6IiH5bqn5qiZ6ZaT55qE6Led6ZuiDQoJCQkJaWYoDQoJCQkJCXg8dGhpcy5jYW52YXNTZXQucG9pbnRbMF1bdGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb25bdGhpcy50ZW1wU2V0Lm1fbnRoLTFdWzJdLTFdKzEwIHx8IA0KCQkJCQl5PHRoaXMuY2FudmFzU2V0LnBvaW50WzFdW3RoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uW3RoaXMudGVtcFNldC5tX250aC0xXVszXS0xXSsxMCB8fCANCgkJCQkJKCF0aGlzLmNhbnZhc1NldC5wb2ludFswXVt0aGlzLmNhbnZhc1NldC5jYW52YXNQb3NpdGlvblt0aGlzLnRlbXBTZXQubV9udGgtMV1bMl0rMV0gIT0gdHJ1ZSAmJiB4PnRoaXMuY2FudmFzU2V0LnBvaW50WzBdW3RoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uW3RoaXMudGVtcFNldC5tX250aC0xXVsyXSsxXS0xMCkgfHwgDQoJCQkJCSghdGhpcy5jYW52YXNTZXQucG9pbnRbMV1bdGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb25bdGhpcy50ZW1wU2V0Lm1fbnRoLTFdWzNdKzFdICE9IHRydWUgJiYgeT50aGlzLmNhbnZhc1NldC5wb2ludFsxXVt0aGlzLmNhbnZhc1NldC5jYW52YXNQb3NpdGlvblt0aGlzLnRlbXBTZXQubV9udGgtMV1bM10rMV0tMTApIHx8DQoJCQkJCXg+MzAwMCB8fCB5PjMwMDANCgkJCQkJKXJldHVybiBmYWxzZTsNCgkJCQl0aGlzUG9pbnR4eS5zZXRBdHRyaWJ1dGUoInN0eWxlIiwndG9wOicreSsncHg7bGVmdDonK3grJ3B4OycpOw0KCQkJCS8vbGV0IHN0eWxlID0gJyc7DQoJCQkJLy9pZihzY2FsZSAhPSAxKXN0eWxlPSd0cmFuc2Zvcm06c2NhbGUoJytzY2FsZSsnKTsnOw0KCQkJCS8vdGhpcy5wb2ludHh5c1t0aGlzLnRlbXBTZXQubV9udGgtMV0uc3R5bGU9DQoJCQkJY29uc29sZS5sb2codGhpcy5wb2ludHh5c1t0aGlzLnRlbXBTZXQubV9udGgtMV0uc3R5bGUpOw0KCQkJCXRoaXMuY2FudmFzU2V0LnBvaW50WzBdW3RoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uW3RoaXMudGVtcFNldC5tX250aC0xXVsyXV09eDsNCgkJCQl0aGlzLmNhbnZhc1NldC5wb2ludFsxXVt0aGlzLmNhbnZhc1NldC5jYW52YXNQb3NpdGlvblt0aGlzLnRlbXBTZXQubV9udGgtMV1bM11dPXk7DQoJCQkJdGhpcy5yZXNldENhbnZhcyh0aGlzLmNhbnZhc1NldC5jYW52YXNQb3NpdGlvbi5sZW5ndGgpOw0KCQkJfQ0KCQl9LA0KCQl1cDogZnVuY3Rpb24oKXsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzDQoJCQl0aGlzLnRlbXBTZXQuY29udHJvbF9pc0Rvd24gPSBmYWxzZTsNCgkJCXRoaXMudGVtcFNldC5wb25pdHh5X2lzRG93biA9IGZhbHNlOw0KCQkJdGhpcy50ZW1wU2V0LnRleHRfaXNEb3duID0gZmFsc2U7DQoJCX0sDQoJCXBvbml0eHlfZG93bjogZnVuY3Rpb24obnRoKXsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzDQoJCQlpZih0aGlzLnRlbXBTZXQudGV4dF9pc0Rvd24gPT0gdHJ1ZSlyZXR1cm4gZmFsc2U7DQoJCQl0aGlzLnRlbXBTZXQubV9udGggPSBudGg7DQoJCQl0aGlzLnRlbXBTZXQucG9uaXR4eV9pc0Rvd24gPSB0cnVlOw0KCQkJLy/njbLlj5bmu5HpvKDmjInkuIvmmYLluqfmqJkNCgkJCXRoaXMudGVtcFNldC5tX2Rvd25feCA9IGV2ZW50LmNsaWVudFg7DQoJCQl0aGlzLnRlbXBTZXQubV9kb3duX3kgPSBldmVudC5jbGllbnRZOw0KCQkJdGhpcy50ZW1wU2V0Lm1fbnRoX3ggPSB0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVt0aGlzLnRlbXBTZXQubV9udGgtMV1bMl07DQoJCQl0aGlzLnRlbXBTZXQubV9udGhfeSA9IHRoaXMudGVtcFNldC5jYW52YXNBcmVhW3RoaXMudGVtcFNldC5tX250aC0xXVszXTsNCgkJfSwNCgkJdGV4dF9kb3duOiBmdW5jdGlvbihudGgpey8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMNCgkJCXRoaXMudGVtcFNldC5tX250aCA9IG50aDsNCgkJCXRoaXMudGVtcFNldC50ZXh0X2lzRG93biA9IHRydWU7DQoJCQkvL+eNsuWPlua7kem8oOaMieS4i+aZguW6p+aomQ0KCQkJdGhpcy50ZW1wU2V0Lm1fZG93bl94ID0gZXZlbnQuY2xpZW50WDsNCgkJCXRoaXMudGVtcFNldC5tX2Rvd25feSA9IGV2ZW50LmNsaWVudFk7DQoJCQl0aGlzLnRlbXBTZXQubV9udGhfeCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXh0QmxvY2siK250aCkub2Zmc2V0TGVmdDsNCgkJCXRoaXMudGVtcFNldC5tX250aF95ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRleHRCbG9jayIrbnRoKS5vZmZzZXRUb3A7DQoJCX0sDQoJCS8vZXZlbnQuY2xpZW50WOOAgWV2ZW50LmNsaWVudFkNCgkJLy/lnJbniYfnuK7mlL4sDQoJCU1vdXNlV2hlZWw6IGZ1bmN0aW9uKG50aCxlKXsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzDQoJCQkvL3dpbmRvdy5ldmVudC5zaGlmdEtleT09MQ0KCQkJaWYoIXRoaXMuY2FudmFzU2V0LmltZ1Bvc2l0aW9uW250aC0xXVswXSl7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfQ0KCQkJZSA9IGUgfHwgd2luZG93LmV2ZW50Ow0KCQkJaWYoZS5zaGlmdEtleSl7DQoJCQkJbGV0IGltZ3IgPSB0aGlzLmNhbnZhc1NldC5pbWdQb3NpdGlvbltudGgtMV1bNF07DQoJCQkJKCBlLndoZWVsRGVsdGEgPD0gMCB8fCBlLmRldGFpbCA+IDApID8gaW1nci09MyA6IGltZ3IrPTM7DQoJCQkJaWYoaW1ncjwwKWltZ3IrPTM2MDsNCgkJCQlpZihpbWdyPjM2MClpbWdyLT0zNjA7DQoJCQkJdGhpcy5hZGRpbWcobnRoLHRoaXMuY2FudmFzU2V0LmltZ1Bvc2l0aW9uW250aC0xXVswXSx0aGlzLmNhbnZhc1NldC5pbWdQb3NpdGlvbltudGgtMV1bMV0sdGhpcy5jYW52YXNTZXQuaW1nUG9zaXRpb25bbnRoLTFdWzJdLHRoaXMuY2FudmFzU2V0LmltZ1Bvc2l0aW9uW250aC0xXVszXSxpbWdyKTsNCgkJCX1lbHNlew0KCQkJCWxldCBpbWd6PXRoaXMuY2FudmFzU2V0LmltZ1Bvc2l0aW9uW250aC0xXVszXTsNCgkJCQlsZXQgaW1nem8gPSBpbWd6Ow0KCQkJCSggZS53aGVlbERlbHRhIDw9IDAgfHwgZS5kZXRhaWwgPiAwKSA/IGltZ3otPTAuMDUgOiBpbWd6Kz0wLjA1Ow0KCQkJCWltZ3ogPSBNYXRoLnJvdW5kKGltZ3oqMTAwKS8xMDA7DQoJCQkJaWYoaW1nejwwLjEpaW1nej0wLjE7DQoJCQkJbGV0IGNvbnRlcnggPSB0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVtudGgtMV1bNF0vMiwNCgkJCQkJY29udGVyeSA9IHRoaXMudGVtcFNldC5jYW52YXNBcmVhW250aC0xXVs1XS8yLA0KCQkJCQlpbWd4ID0gTWF0aC5yb3VuZChjb250ZXJ4IC0gKChjb250ZXJ4LXRoaXMuY2FudmFzU2V0LmltZ1Bvc2l0aW9uW250aC0xXVsxXSkqaW1nei9pbWd6bykpLA0KCQkJCQlpbWd5ID0gTWF0aC5yb3VuZChjb250ZXJ5IC0gKChjb250ZXJ5LXRoaXMuY2FudmFzU2V0LmltZ1Bvc2l0aW9uW250aC0xXVsyXSkqaW1nei9pbWd6bykpOw0KCQkJCXRoaXMuYWRkaW1nKG50aCx0aGlzLmNhbnZhc1NldC5pbWdQb3NpdGlvbltudGgtMV1bMF0saW1neCxpbWd5LGltZ3osdGhpcy5jYW52YXNTZXQuaW1nUG9zaXRpb25bbnRoLTFdWzRdKTsNCgkJCX0NCgkJfSwNCgkJLy/pgbjmk4flnJbniYcsDQoJCXNlYXJjaGltZzogZnVuY3Rpb24obnRoKXsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzDQoJCQl0aGlzLnRlbXBTZXQubV9udGggPSBudGg7DQoJCQlsZXQgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQoJCQkJYm94LmlkID0gInNlbGVjdGltZyI7DQoJCQkJYm94LmlubmVySFRNTCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZW1wU2VhcmNoSW1nIikuaW5uZXJIVE1MOw0KCQkJZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChib3gpOw0KCQl9DQoJCS8qdmFyIHNlbGVjdGltZzogZnVuY3Rpb24obnRoKXsNCgkJCXRoaXMudGVtcFNldC5tX250aCA9IG50aDsNCgkJCWxldCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCgkJCQlib3guaWQgPSAic2VsZWN0aW1nIjsNCgkJCQlib3guaW5uZXJIVE1MID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlbXBTZWxlY3RJbWciKS5pbm5lckhUTUw7DQoJCQlkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGJveCk7DQoJCX0qLywNCgkJY2FudmFzX1dpZHRoOiBmdW5jdGlvbigpey8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMNCgkJCWlmKHRoaXMuY2FudmFzX2NoZWNrKHRoaXMuY2FudmFzV2lkdGgpKXsNCgkJCQl0aGlzLmNhbnZhc1NldC5wb2ludFswXVt0aGlzLmNhbnZhc1NldC5wb2ludFswXS5sZW5ndGgtMV0gPSB0aGlzLmNhbnZhc1dpZHRoOw0KCQkJCXRoaXMucmVzZXRDYW52YXModGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb24ubGVuZ3RoKTsNCgkJCX0NCgkJCXRoaXMuY2FudmFzV2lkdGggPSB0aGlzLmNhbnZhc1NldC5wb2ludFswXVt0aGlzLmNhbnZhc1NldC5wb2ludFswXS5sZW5ndGgtMV07DQoJCX0sDQoJCWNhbnZhc19IZWlnaHQ6IGZ1bmN0aW9uKCl7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFycw0KCQkJaWYodGhpcy5jYW52YXNfY2hlY2sodGhpcy5jYW52YXNIZWlnaHQpKXsNCgkJCQl0aGlzLmNhbnZhc1NldC5wb2ludFsxXVt0aGlzLmNhbnZhc1NldC5wb2ludFsxXS5sZW5ndGgtMV0gPSB0aGlzLmNhbnZhc0hlaWdodDsNCgkJCQl0aGlzLnJlc2V0Q2FudmFzKHRoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uLmxlbmd0aCk7DQoJCQl9DQoJCQl0aGlzLmNhbnZhc0hlaWdodCA9IHRoaXMuY2FudmFzU2V0LnBvaW50WzFdW3RoaXMuY2FudmFzU2V0LnBvaW50WzFdLmxlbmd0aC0xXTsNCgkJfSwNCgkJY2FudmFzX2xpbmVfV2lkdGg6IGZ1bmN0aW9uKCl7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFycw0KCQkJaWYodGhpcy5jYW52YXNfY2hlY2soKSl7DQoJCQkJLy90aGlzLmNhbnZhc1NldC5zcGFjaW5nID0gdGhpcy5jYW52YXNsaW5ld2lkdGg7DQoJCQkJdGhpcy5yZXNldENhbnZhcyh0aGlzLmNhbnZhc1NldC5jYW52YXNQb3NpdGlvbi5sZW5ndGgpOw0KCQkJfWVsc2V7DQoJCQkJaWYodGhpcy5jYW52YXNTZXQuc3BhY2luZz4zMDAwKXsNCgkJCQkJdGhpcy5jYW52YXNTZXQuc3BhY2luZz0zMDAwOw0KCQkJCX1lbHNlIGlmKHRoaXMuY2FudmFzU2V0LnNwYWNpbmc8MCl7DQoJCQkJCXRoaXMuY2FudmFzU2V0LnNwYWNpbmc9MDsNCgkJCQl9DQoJCQl9DQoJCQljb25zb2xlLmxvZyh0aGlzLmNhbnZhc1NldC5zcGFjaW5nKTsNCgkJCS8vdGhpcy5jYW52YXNsaW5ld2lkdGggPSB0aGlzLmNhbnZhc1NldC5zcGFjaW5nOw0KCQl9LA0KCQljYW52YXNfY2hlY2s6IGZ1bmN0aW9uKHZhbHVlKXsNCgkJCWlmKHZhbHVlPjMwMDApew0KCQkJCWFsZXJ0KCLli7/otoXpgY4zMDAwIik7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfWVsc2UgaWYodmFsdWU8MCl7DQoJCQkJYWxlcnQoIuWLv+eCuuiyoOaVuCIpOw0KCQkJCXJldHVybiBmYWxzZTsNCgkJCX0NCgkJCXJldHVybiB0cnVlOw0KCQl9LA0KCQljaGFuZ2VURVNUOiBmdW5jdGlvbigpew0KCQkJY29uc29sZS5sb2coInN0YXJ0Iik7DQoJCX0sDQoJCWNoYW5nZUJveDogZnVuY3Rpb24oYXJyKXsNCgkJCS8vYXJyID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhcnIpKTsNCgkJCXRoaXMudGVtcFNldC5jYW52YXNQb3NpdGlvbkN1c3RvbT1bXTsNCgkJCS8vdGhpcy5hZGRib3hTZWxlY3QoKTsNCgkJCXRoaXMuY2FudmFzU2V0LnBvaW50ID0gYXJyLnBvaW50Ow0KCQkJLy9jb25zb2xlLmxvZyhhcnIucG9pbnRbMF0pOw0KCQkJdGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb24gPSBhcnIuY2FudmFzUG9zaXRpb247DQoJCQkvL2lmKCFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgnY2FudmFzV2lkdGgnKVswXS52YWx1ZSA9PSBmYWxzZSl7DQoJCQlpZih0aGlzLmNhbnZhc1dpZHRoIT0wKXsNCgkJCQlsZXQgbWFnID0gdGhpcy5jYW52YXNXaWR0aCAvIHRoaXMuY2FudmFzU2V0LnBvaW50WzBdW3RoaXMuY2FudmFzU2V0LnBvaW50WzBdLmxlbmd0aC0xXTsNCgkJCQljb25zb2xlLmxvZyh0aGlzLmNhbnZhc1dpZHRoKTsNCgkJCQljb25zb2xlLmxvZyhtYWcpOw0KCQkJCWZvcihsZXQgaT0wO2k8dGhpcy5jYW52YXNTZXQucG9pbnRbMF0ubGVuZ3RoO2krKyl7DQoJCQkJCXRoaXMuY2FudmFzU2V0LnBvaW50WzBdW2ldPXRoaXMuY2FudmFzU2V0LnBvaW50WzBdW2ldKm1hZzsNCgkJCQl9DQoJCQl9ZWxzZXsNCgkJCQl0aGlzLmNhbnZhc1dpZHRoID0gdGhpcy5jYW52YXNTZXQucG9pbnRbMF1bdGhpcy5jYW52YXNTZXQucG9pbnRbMF0ubGVuZ3RoLTFdOw0KCQkJfQ0KCQkJLy9pZighZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoJ2NhbnZhc0hlaWdodCcpWzBdLnZhbHVlID09IGZhbHNlKXsNCgkJCWlmKHRoaXMuY2FudmFzSGVpZ2h0IT0wKXsNCgkJCQlsZXQgbWFnID0gdGhpcy5jYW52YXNIZWlnaHQgLyB0aGlzLmNhbnZhc1NldC5wb2ludFsxXVt0aGlzLmNhbnZhc1NldC5wb2ludFsxXS5sZW5ndGgtMV07DQoJCQkJY29uc29sZS5sb2cobWFnKTsNCgkJCQlmb3IobGV0IGk9MDtpPHRoaXMuY2FudmFzU2V0LnBvaW50WzFdLmxlbmd0aDtpKyspew0KCQkJCQl0aGlzLmNhbnZhc1NldC5wb2ludFsxXVtpXT10aGlzLmNhbnZhc1NldC5wb2ludFsxXVtpXSptYWc7DQoJCQkJfQ0KCQkJfWVsc2V7DQoJCQkJdGhpcy5jYW52YXNIZWlnaHQgPSB0aGlzLmNhbnZhc1NldC5wb2ludFsxXVt0aGlzLmNhbnZhc1NldC5wb2ludFsxXS5sZW5ndGgtMV07DQoJCQl9DQoJCQkvL2lmKCF0aGlzLmNhbnZhc1NldC5zcGFjaW5nKXRoaXMuY2FudmFzU2V0LnNwYWNpbmcgPSAwOw0KCQkJdGhpcy5yZXNldENhbnZhcyh0aGlzLmNhbnZhc1NldC5jYW52YXNQb3NpdGlvbi5sZW5ndGgsdHJ1ZSk7DQoJCX0sDQoJCW1ha2VTVkc6IGZ1bmN0aW9uKHRhZywgYXR0cnMpIHsNCgkJCWxldCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCgkJCWxldCBlbD0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIHRhZyk7DQoJCQlmb3IgKGxldCBrIGluIGF0dHJzKQ0KCQkJCWVsLnNldEF0dHJpYnV0ZShrLCBhdHRyc1trXSk7DQoJCQkJYm94LmFwcGVuZENoaWxkKGVsKTsNCgkJCXJldHVybiBib3guaW5uZXJIVE1MOw0KCQl9LA0KCQljYW52YXNDdXN0b206IGZ1bmN0aW9uKHgseSl7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFycw0KCQkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbnZhc0N1c3RvbSIreCt5KS5jbGFzc05hbWUgPT0gJ2xvY2snKXJldHVybiBmYWxzZTsNCgkJCWlmKCF0aGlzLnRlbXBTZXQuY2FudmFzQ3VzdG9tX2lzRG93bil7DQoJCQkJdGhpcy50ZW1wU2V0LmNhbnZhc0N1c3RvbV94ID0geDsNCgkJCQl0aGlzLnRlbXBTZXQuY2FudmFzQ3VzdG9tX3kgPSB5Ow0KCQkJCXRoaXMudGVtcFNldC5jYW52YXNDdXN0b21faXNEb3duPXRydWU7DQoJCQl9ZWxzZXsNCgkJCQlsZXQgdG1wX3ggPSB0aGlzLnRlbXBTZXQuY2FudmFzQ3VzdG9tX3gsDQoJCQkJCXRtcF95ID0gdGhpcy50ZW1wU2V0LmNhbnZhc0N1c3RvbV95LA0KCQkJCQl0ZW1wX2Vycm9yID0gZmFsc2U7DQoJCQkJaWYodGhpcy50ZW1wU2V0LmNhbnZhc0N1c3RvbV94Pngpew0KCQkJCQl0aGlzLnRlbXBTZXQuY2FudmFzQ3VzdG9tX3ggPSB4Ow0KCQkJCQl4ID0gdG1wX3g7DQoJCQkJfQ0KCQkJCWlmKHRoaXMudGVtcFNldC5jYW52YXNDdXN0b21feT55KXsNCgkJCQkJdGhpcy50ZW1wU2V0LmNhbnZhc0N1c3RvbV95ID0geTsNCgkJCQkJeSA9IHRtcF95Ow0KCQkJCX0NCgkJCQlmb3IobGV0IGk9dGhpcy50ZW1wU2V0LmNhbnZhc0N1c3RvbV94O2k8PXg7aSsrKXsNCgkJCQkJZm9yKGxldCBqPXRoaXMudGVtcFNldC5jYW52YXNDdXN0b21feTtqPD15O2orKyl7DQoJCQkJCQlpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FudmFzQ3VzdG9tIitpK2opLmNsYXNzTmFtZSA9PSAnbG9jaycpew0KCQkJCQkJCXRlbXBfZXJyb3IgPSB0cnVlOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJCWlmKHRlbXBfZXJyb3Ipew0KCQkJCQlhbGVydCgi6YG45Y+W56+E5ZyN6YeN6KSHIik7DQoJCQkJCXRoaXMudGVtcFNldC5jYW52YXNDdXN0b21faXNEb3duPWZhbHNlOw0KCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJfQ0KCQkJCWxldCBjb2xvclN0cj0iIjsNCgkJCQlsZXQgciA9IGZ1bmN0aW9uKCl7cmV0dXJuIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMjI0KzE2KSkudG9TdHJpbmcoMTYpfTsNCgkJCQkvL+eUoueUn+S4gOWAi+WFreS9jeeahOWtl+S4sg0KCQkJCWNvbG9yU3RyID0gIiMiK3IoKStyKCkrcigpOw0KCQkJCWZvcihsZXQgaT10aGlzLnRlbXBTZXQuY2FudmFzQ3VzdG9tX3g7aTw9eDtpKyspew0KCQkJCQlmb3IobGV0IGo9dGhpcy50ZW1wU2V0LmNhbnZhc0N1c3RvbV95O2o8PXk7aisrKXsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYW52YXNDdXN0b20iK2kraikuY2xhc3NOYW1lID0gJ2xvY2snOw0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbnZhc0N1c3RvbSIraStqKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9Y29sb3JTdHI7DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FudmFzQ3VzdG9tIitpK2opLmRpc2FibGVkPSJkaXNhYmxlZCI7DQoJCQkJCX0NCgkJCQl9DQoJCQkJdGhpcy50ZW1wU2V0LmNhbnZhc1Bvc2l0aW9uQ3VzdG9tLnB1c2goW3RoaXMudGVtcFNldC5jYW52YXNDdXN0b21feCx0aGlzLnRlbXBTZXQuY2FudmFzQ3VzdG9tX3kseCsxLHkrMV0pDQoJCQkJdGhpcy50ZW1wU2V0LmNhbnZhc0N1c3RvbV9pc0Rvd249ZmFsc2U7DQoJCQkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgibG9jayIpLmxlbmd0aD09MTAwKXsNCgkJCQkJbGV0IHBvaW50PVtbMCw5NiwxOTIsMjg4LDM4NCw0ODAsNTc2LDY3Miw3NjgsODY0LDk2MF0sWzAsOTYsMTkyLDI4OCwzODQsNDgwLDU3Niw2NzIsNzY4LDg2NCw5NjBdXTsNCgkJCQkJbGV0IGNhbnZhc1Bvc2l0aW9uPVtbXSxbXV07DQoJCQkJCWxldCBhcnI9W107DQoJCQkJCWZvcihsZXQgaT0wO2k8dGhpcy50ZW1wU2V0LmNhbnZhc1Bvc2l0aW9uQ3VzdG9tLmxlbmd0aDtpKyspew0KCQkJCQkJYXJyID0gYXJyLmNvbmNhdCh0aGlzLnRlbXBTZXQuY2FudmFzUG9zaXRpb25DdXN0b21baV0pOw0KCQkJCQl9DQoJCQkJCWZvcihsZXQgaT0wO2k8YXJyLmxlbmd0aC8yO2krKyl7DQoJCQkJCQljYW52YXNQb3NpdGlvblswXS5wdXNoKGFycltpKjJdKTsNCgkJCQkJCWlmKGkqMisxPGFyci5sZW5ndGgpY2FudmFzUG9zaXRpb25bMV0ucHVzaChhcnJbaSoyKzFdKTsNCgkJCQkJfQ0KCQkJCQljYW52YXNQb3NpdGlvblswXT1jYW52YXNQb3NpdGlvblswXS5maWx0ZXIoIChlbCwgaSwgYXJyKSA9PiBhcnIuaW5kZXhPZihlbCkgPT09IGkpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtyZXR1cm4gYSAtIGJ9KTsNCgkJCQkJY2FudmFzUG9zaXRpb25bMV09Y2FudmFzUG9zaXRpb25bMV0uZmlsdGVyKCAoZWwsIGksIGFycikgPT4gYXJyLmluZGV4T2YoZWwpID09PSBpKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7cmV0dXJuIGEgLSBifSk7DQoJCQkJCWFyciA9IHtwb2ludDpbW10sW11dfTsNCgkJCQkJZm9yKGxldCBpPTA7aTxjYW52YXNQb3NpdGlvblswXS5sZW5ndGg7aSsrKXsNCgkJCQkJCWFyci5wb2ludFswXS5wdXNoKHBvaW50WzBdW2NhbnZhc1Bvc2l0aW9uWzBdW2ldXSk7DQoJCQkJCX0NCgkJCQkJZm9yKGxldCBpPTA7aTxjYW52YXNQb3NpdGlvblsxXS5sZW5ndGg7aSsrKXsNCgkJCQkJCWFyci5wb2ludFsxXS5wdXNoKHBvaW50WzFdW2NhbnZhc1Bvc2l0aW9uWzFdW2ldXSk7DQoJCQkJCX0NCgkJCQkJZm9yKGxldCBpPTA7aTx0aGlzLnRlbXBTZXQuY2FudmFzUG9zaXRpb25DdXN0b20ubGVuZ3RoO2krKyl7DQoJCQkJCQlmb3IobGV0IGo9MDtqPGNhbnZhc1Bvc2l0aW9uWzBdLmxlbmd0aDtqKyspew0KCQkJCQkJCWlmKHRoaXMudGVtcFNldC5jYW52YXNQb3NpdGlvbkN1c3RvbVtpXVswXT09Y2FudmFzUG9zaXRpb25bMF1bal0pdGhpcy50ZW1wU2V0LmNhbnZhc1Bvc2l0aW9uQ3VzdG9tW2ldWzBdPWo7DQoJCQkJCQkJaWYodGhpcy50ZW1wU2V0LmNhbnZhc1Bvc2l0aW9uQ3VzdG9tW2ldWzJdPT1jYW52YXNQb3NpdGlvblswXVtqXSl0aGlzLnRlbXBTZXQuY2FudmFzUG9zaXRpb25DdXN0b21baV1bMl09ajsNCgkJCQkJCX0NCgkJCQkJCWZvcihsZXQgaj0wO2o8Y2FudmFzUG9zaXRpb25bMV0ubGVuZ3RoO2orKyl7DQoJCQkJCQkJaWYodGhpcy50ZW1wU2V0LmNhbnZhc1Bvc2l0aW9uQ3VzdG9tW2ldWzFdPT1jYW52YXNQb3NpdGlvblsxXVtqXSl0aGlzLnRlbXBTZXQuY2FudmFzUG9zaXRpb25DdXN0b21baV1bMV09ajsNCgkJCQkJCQlpZih0aGlzLnRlbXBTZXQuY2FudmFzUG9zaXRpb25DdXN0b21baV1bM109PWNhbnZhc1Bvc2l0aW9uWzFdW2pdKXRoaXMudGVtcFNldC5jYW52YXNQb3NpdGlvbkN1c3RvbVtpXVszXT1qOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJCWFyci5jYW52YXNQb3NpdGlvbj10aGlzLnRlbXBTZXQuY2FudmFzUG9zaXRpb25DdXN0b207DQoJCQkJCXRoaXMuY2hhbmdlQm94KGFycik7DQoJCQkJCWZvcihsZXQgaz0wO2s8MTAwO2srKyl7DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJsb2NrIilbMF0ucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpOw0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgibG9jayIpWzBdLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImxvY2siKVswXS5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCX0sDQoJCW1hZGVTVkc6IGZ1bmN0aW9uKG50aCl7DQoJCQkvL3JldHVybiAiNDU2IjsNCgkJCS8vY29uc29sZS5sb2codGhpcy50b2Rvc1tudGhdKQ0KCQkJLy9yZXR1cm4gbnRoOw0KCQkJbGV0IGJveHBvcyA9IHRoaXMudG9kb3NbbnRoXS5wb2ludDsNCgkJCWxldCBib3hzZXQgPSB0aGlzLnRvZG9zW250aF0uY2FudmFzUG9zaXRpb247DQoJCQlsZXQgYm94em9vbXggPSA1MC9ib3hwb3NbMF1bYm94cG9zWzBdLmxlbmd0aC0xXTsNCgkJCWxldCBib3h6b29teSA9IDUwL2JveHBvc1sxXVtib3hwb3NbMV0ubGVuZ3RoLTFdOw0KCQkJbGV0IGJveCA9ICIiOw0KCQkJZm9yKGxldCBqPTA7ajx0aGlzLnRvZG9zW250aF0uY2FudmFzUG9zaXRpb24ubGVuZ3RoO2orKyl7DQoJCQkJbGV0IHJlY3QgPSB0aGlzLm1ha2VTVkcoJ3JlY3QnLCB7eDpib3hwb3NbMF1bYm94c2V0W2pdWzBdXSpib3h6b29teCsxLCB5OmJveHBvc1sxXVtib3hzZXRbal1bMV1dKmJveHpvb215KzEsIGhlaWdodDooYm94cG9zWzFdW2JveHNldFtqXVszXV0tYm94cG9zWzFdW2JveHNldFtqXVsxXV0pKmJveHpvb214LTIsIHdpZHRoOihib3hwb3NbMF1bYm94c2V0W2pdWzJdXS1ib3hwb3NbMF1bYm94c2V0W2pdWzBdXSkqYm94em9vbXktMiwgZmlsbDoiIzY2NiJ9KTsNCgkJCQkvL2JveC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic3ZnIilbMF0uYXBwZW5kQ2hpbGQocmVjdCk7DQoJCQkJYm94ICs9IHJlY3Q7DQoJCQl9DQoJCQkvL2NvbnNvbGUubG9nKHRoaXMudG9kb3NbbnRoXS5wb2ludCk7DQoJCQlyZXR1cm4gYm94Ow0KCQl9LA0KCQlhZGRib3hTZWxlY3Q6IGZ1bmN0aW9uKCl7DQoJCQkvL2xldCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaSIpOw0KCQkJbGV0IGJveCA9ICc8bGkgaWQ9ImNhbnZhc0N1c3RvbUFyZWEiPic7DQoJCQkJLy9ib3guc2V0QXR0cmlidXRlKCJzdHlsZSIsJ3dpZHRoOjIyMHB4O2hlaWdodDoyMjBweDsnKTsNCgkJCWxldCBodG1sdG1wID0gJzxkaXYgc3R5bGU9IndpZHRoOjEwMCU7bGluZS1oZWlnaHQ6MzBweDsiPuiHquioguWclueJh+mFjee9rjwvZGl2Pic7DQoJCQlmb3IobGV0IGk9MDtpPDEwO2krKyl7DQoJCQkJZm9yKGxldCBqPTA7ajwxMDtqKyspew0KCQkJCQlsZXQgYnV0dG9uID0gJzxidXR0b24gaWQ9ImNhbnZhc0N1c3RvbScraitpKyciIHR5cGU9ImJ1dHRvbiIgdi1vbjpjbGljaz1cJ2NhbnZhc0N1c3RvbSgnK2orJywnK2krJylcJz48L2J1dHRvbj4nOw0KCQkJCQlodG1sdG1wICs9IGJ1dHRvbjsNCgkJCQl9DQoJCQl9DQoJCQkvL2JveC5pZCA9ICdjYW52YXNDdXN0b21BcmVhJzsNCgkJCS8vYm94LmlubmVySFRNTCA9IGh0bWx0bXA7DQoJCQlib3ggKz0gaHRtbHRtcCArJzwvbGk+PGxpPjxidXR0b24gdHlwZT0iYnV0dG9uIiB2LW9uOmNsaWNrPSJhZGRUZXh0KCkiPlRFWFQ8L2J1dHRvbj48L2xpPic7DQoJCQkvL3RoaXMuYnNhcmVhLmFwcGVuZENoaWxkKGJveCk7DQoJCQl0aGlzLmJzYXJlYSArPSBib3g7DQoJCQkvKmxldCBib3gyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGkiKTsNCgkJCQlib3gyLmlubmVySFRNTCA9ICc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgdi1vbjpjbGljaz0iYWRkVGV4dCgpIj5URVhUPC9idXR0b24+JzsNCgkJCXRoaXMuYnNhcmVhLmFwcGVuZENoaWxkKGJveDIpOyovDQoJCX0sDQoJCS8v5paw5aKe5paH5a2XLA0KCQlhZGRUZXh0OiBmdW5jdGlvbihhcnIsbnRoKXsNCgkJCWlmKHRoaXMuY2FudmFzU2V0LnBvaW50Lmxlbmd0aCA9PSAwKXsNCgkJCQlhbGVydCgn6KuL5YWI5bu656uL55Wr5biDJyk7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfQ0KCQkJYXJyID0gYXJyIHx8IHt0ZXh0OiIiLHg6MCx5OjAsc2l6ZTozNixmb250OiInTm90b1xcIFNhbnNcXCBUQyciLGNvbG9yOiIjMDAwIix3ZWlnaHQ6NDAwfTsNCgkJCW50aCA9IG50aCsxfHxkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJ0ZXh0LWJsb2NrIikubGVuZ3RoKzE7DQoJCQlsZXQgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQoJCQkJYm94LmlkID0gInRleHRCbG9jayIrbnRoOw0KCQkJCWJveC5jbGFzc05hbWU9InRleHQtYmxvY2siOw0KCQkJCWJveC5pbm5lckhUTUwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVtcFNlbGVjdFRleHQiKS5pbm5lckhUTUw7DQoJCQkJYm94LnN0eWxlLnRvcCA9ICIwIjsNCgkJCQlib3guc3R5bGUubGVmdCA9ICIwIjsNCgkJCQlib3guZ2V0RWxlbWVudHNCeVRhZ05hbWUoIkJ1dHRvbiIpWzBdLnNldEF0dHJpYnV0ZSgib25tb3VzZWRvd24iLCd0ZXh0X2Rvd24oJytudGgrJyknKTsNCgkJCQlib3guZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgicGlja2VyIilbMF0uc2V0QXR0cmlidXRlKCJjbGFzcyIsInBpY2tlciBwaWNrZXIiK250aCk7DQoJCQkJYm94LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInBpY2tlciIpWzBdLnNldEF0dHJpYnV0ZSgiZGF0YS1udGgiLG50aCk7DQoJCQkJYm94LnNldEF0dHJpYnV0ZSgib25tb3VzZXVwIiwndXAoKScpOw0KCQkJbGV0IHRleHQgPSBib3guZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgidGV4dCIpWzBdOw0KCQkJCXRleHQuc2V0QXR0cmlidXRlKCJvbmNoYW5nZSIsJ3RleHRWYWx1ZSgnK250aCsnKScpOw0KCQkJCXRleHQudmFsdWUgPSBhcnIudGV4dDsNCgkJCQl0ZXh0LnN0eWxlLmNvbG9yID0gYXJyLmNvbG9yOw0KCQkJbGV0IHNpemUgPSBib3guZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgic2l6ZSIpWzBdOw0KCQkJCXNpemUuc2V0QXR0cmlidXRlKCJvbmNoYW5nZSIsJ3RleHRTaXplKCcrbnRoKycpJyk7DQoJCQlsZXQgdHlwZSA9IGJveC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJmb250LXR5cGUiKVswXTsNCgkJCQl0eXBlLnNldEF0dHJpYnV0ZSgib25jaGFuZ2UiLCd0ZXh0Rm9udCgnK250aCsnKScpOw0KCQkJbGV0IHdlaWdodCA9IGJveC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJmb250LXdlaWdodCIpWzBdOw0KCQkJCXdlaWdodC5zZXRBdHRyaWJ1dGUoIm9uY2hhbmdlIiwndGV4dFdlaWdodCgnK250aCsnKScpOw0KCQkJbGV0IHNjYWxlID0gdGhpcy5zZXRTY2FsZSgpOw0KCQkJCWJveC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJ0ZXh0LWNvbnRyb2wiKVswXS5zZXRBdHRyaWJ1dGUoInN0eWxlIiwndHJhbnNmb3JtOiBzY2FsZSgnK3NjYWxlKycpJyk7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJ0ZXh0LWFyZWEiKVswXS5hcHBlbmRDaGlsZChib3gpOw0KCQkJaWYoIXRoaXMuY2FudmFzU2V0LnRleHQpdGhpcy5jYW52YXNTZXQudGV4dCA9IFtdOw0KCQkJKHRoaXMuY2FudmFzU2V0LnRleHQubGVuZ3RoPG50aCk/dGhpcy5jYW52YXNTZXQudGV4dC5wdXNoKGFycik6dGhpcy5jYW52YXNTZXQudGV4dFtudGgtMV09YXJyOw0KCQkJdGhpcy50ZXh0VmFsdWUobnRoKTsNCgkJCXRoaXMudGV4dFNpemUobnRoLGFyci5zaXplKTsNCgkJCXRoaXMudGV4dEZvbnQobnRoLGFyci5mb250KTsNCgkJCXRoaXMudGV4dFdlaWdodChudGgsYXJyLndkaWdodCk7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGV4dEJsb2NrIitudGgpLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInBpY2tlciIpWzBdLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGFyci5jb2xvcjsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXh0QmxvY2siK250aCkuc3R5bGUudG9wID0gYXJyLnkgKyAicHgiOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRleHRCbG9jayIrbnRoKS5zdHlsZS5sZWZ0ID0gYXJyLnggKyAicHgiOw0KCQkJLypDb2xvcnBpY2tlci5jcmVhdGUoew0KCQkJCWJpbmRDbGFzczoncGlja2VyJytudGgsIC8vIOi/memHjOeahHBpY2tlcuWPr+maj+aEj+WhqyDkuI3pobvopoHot5/miJHlkIzmoLcNCgkJCQlpbml0Q29sb3I6YXJyLmNvbG9yLA0KCQkJCWNoYW5nZTogZnVuY3Rpb24oZWxlbSxoZXgpew0KCQkJCSAgLy8gZWxlbTog57uR5a6a55qE5YWD57SgDQoJCQkJICAvLyBoZXjvvJrlvZPliY3pgInkuK3popzoibLnmoRoZXjlgLwNCgkJCQkgIGVsZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gaGV4Ow0KCQkJCSAgbGV0IG50aCA9IGVsZW0uZ2V0QXR0cmlidXRlKCJkYXRhLW50aCIpOw0KCQkJCSAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRleHRCbG9jayIrbnRoKS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJ0ZXh0IilbMF0uc3R5bGUuY29sb3IgPSBoZXg7DQoJCQkJICB0aGlzLmNhbnZhc1NldC50ZXh0W250aC0xXS5jb2xvciA9IGhleDsNCgkJCQl9DQoJCQl9KSovDQoJCX0sDQoJCXRleHRWYWx1ZTogZnVuY3Rpb24obnRoKXsNCgkJCWxldCB0ZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRleHRCbG9jayIrbnRoKS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJ0ZXh0IilbMF07DQoJCQkJdGV4dC5zZXRBdHRyaWJ1dGUoInNpemUiLHRleHQudmFsdWUubGVuZ3RoKjIpOw0KCQkJCWlmKHRleHQudmFsdWUubGVuZ3RoPT0wKXRleHQuc2V0QXR0cmlidXRlKCJzaXplIiw1KTsNCgkJCXRoaXMuY2FudmFzU2V0LnRleHRbbnRoLTFdLnRleHQgPSB0ZXh0LnZhbHVlOw0KCQl9LA0KCQl0ZXh0U2l6ZTogZnVuY3Rpb24obnRoLHNpemUpew0KCQkJbGV0IHRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGV4dEJsb2NrIitudGgpLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInRleHQiKVswXTsNCgkJCQlzaXplID0gc2l6ZXx8ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRleHRCbG9jayIrbnRoKS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJzaXplIilbMF0udmFsdWU7DQoJCQl0aGlzLmNhbnZhc1NldC50ZXh0W250aC0xXS5zaXplID0gc2l6ZTsNCgkJCXRleHQuc3R5bGUuZm9udFNpemUgPSBzaXplKyJweCI7DQoJCQl0ZXh0LnN0eWxlLmhlaWdodCA9IHNpemUrInB4IjsNCgkJCXRleHQuc3R5bGUubGluZUhlaWdodCA9IHNpemUrInB4IjsNCgkJfSwNCgkJdGV4dEZvbnQ6IGZ1bmN0aW9uKG50aCxmb250KXsNCgkJCWxldCB0ZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRleHRCbG9jayIrbnRoKS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJ0ZXh0IilbMF07DQoJCQkJZm9udCA9IGZvbnR8fGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXh0QmxvY2siK250aCkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZm9udC10eXBlIilbMF0udmFsdWU7DQoJCQl0aGlzLmNhbnZhc1NldC50ZXh0W250aC0xXS5mb250ID0gZm9udDsNCgkJCXRleHQuc3R5bGUuZm9udEZhbWlseSA9IGZvbnQ7DQoJCX0sDQoJCXRleHRXZWlnaHQ6IGZ1bmN0aW9uKG50aCx3ZWlnaHQpew0KCQkJbGV0IHRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGV4dEJsb2NrIitudGgpLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInRleHQiKVswXTsNCgkJCQl3ZWlnaHQgPSB3ZWlnaHR8fGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXh0QmxvY2siK250aCkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZm9udC13ZWlnaHQiKVswXS52YWx1ZTsNCgkJCXRoaXMuY2FudmFzU2V0LnRleHRbbnRoLTFdLndlaWdodCA9IHdlaWdodDsNCgkJCXRleHQuc3R5bGUuZm9udFdlaWdodCA9IHdlaWdodDsNCgkJfSwNCgkJZ2V0SW1nOiBmdW5jdGlvbigpIHsNCgkJCS8vIOeZvOmAgSBBamF4IOafpeipouiri+axguS4puiZleeQhg0KCQkJdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsNCgkJCXJlcXVlc3Qub3BlbigiR0VUIiwgImltZy5waHA/aW1nPSIgKyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgia2V5d29yZCIpLnZhbHVlKTsNCgkJCXJlcXVlc3Quc2VuZCgpOw0KCQkJZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0aW1nJykpOw0KCQkJcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsNCgkJCQkvLyDkvLrmnI3lmajoq4vmsYLlrozmiJANCgkJCQlpZiAocmVxdWVzdC5yZWFkeVN0YXRlID09PSA0KSB7DQoJCQkJCS8vIOS8uuacjeWZqOWbnuaHieaIkOWKnw0KCQkJCQlpZiAocmVxdWVzdC5zdGF0dXMgPT09IDIwMCkgew0KCQkJCQkJdmFyIHR5cGUgPSByZXF1ZXN0LmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKTsgICAvLyDlj5blvpflm57mh4npoZ7lnosNCg0KCQkJCQkJLy8g5Yik5pa35Zue5oeJ6aGe5Z6LDQoJCQkJCQlpZiAodHlwZS5pbmRleE9mKCJhcHBsaWNhdGlvbi9qc29uIikgPT09IDApIHsJCQkgICANCgkJCQkJCQlsZXQgZGF0YSA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpOw0KCQkJCQkJCWxldCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCgkJCQkJCQkJYm94LmlkID0gInNlbGVjdGltZyI7DQoJCQkJCQkJCWJveC5pbm5lckhUTUwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVtcFNlbGVjdEltZyIpLmlubmVySFRNTDsNCgkJCQkJCQlpZiAoZGF0YS5pbWFnZXMpIHsNCgkJCQkJCQkJbGV0IGltYWdlcyA9ICIiOw0KCQkJCQkJCQlmb3IobGV0IGk9MDtpPGRhdGEuaW1hZ2VzLmxlbmd0aDtpKyspew0KCQkJCQkJCQkJaW1hZ2VzKz0nPGxpPjxpbWcgc3JjPSJpbWFnZXMvJytkYXRhLmltYWdlc1tpXSsnIiB2LW9uOmNsaWNrPSJhZGRpbWcodGVtcFNldC5tX250aCxcJycrZGF0YS5pbWFnZXNbaV0rJ1wnLDAsMCwxLDApO2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCdzZWxlY3RpbWdcJykpIj48L2xpPic7DQoJCQkJCQkJCX0NCgkJCQkJCQkJYm94LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ1bCIpWzBdLmlubmVySFRNTCA9IGltYWdlczsNCgkJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCQlib3guZ2V0RWxlbWVudHNCeVRhZ05hbWUoInVsIilbMF0uaW5uZXJIVE1MID0gZGF0YS5tc2c7DQoJCQkJCQkJfQ0KCQkJCQkJCWRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYm94KTsNCgkJCQkJCX0NCgkJCQkJfSBlbHNlIHsNCgkJCQkJCWFsZXJ0KCLnmbznlJ/pjK/oqqQ6ICIgKyByZXF1ZXN0LnN0YXR1cyk7DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCX0NCgl9DQp9DQoJCS8vdmFyIGFyciA9ICd7InBvaW50IjpbWzAsNDAwLDgwMF0sWzAsNDAwLDgwMF1dLCJjYW52YXNQb3NpdGlvbiI6W1swLDAsMSwxXSxbMCwxLDEsMl0sWzEsMCwyLDJdXSwiaW1nUG9zaXRpb24iOltbMCwwLDEsImltZy5qcGciXSxbMCwwLDEsImltZzIuanBnIl1dLCJzcGFjaW5nIjoxfSc7DQoJCS8qdmFyIGNhbnZhc1NldCA9IHt9Ow0KCQl2YXIgdGVtcFNldCA9IHsNCgkJCSJjYW52YXNBcmVhIjpbXSwNCgkJCSJjYW52YXNQb3NpdGlvbkN1c3RvbSI6W10sDQoJCQkvL+e0gOmMhOa7kem8oOaTjeS9nOS6i+S7tg0KCQkJInRleHRfaXNEb3duIjpmYWxzZSwNCgkJCSJjb250cm9sX2lzRG93biI6ZmFsc2UsDQoJCQkicG9uaXR4eV9pc0Rvd24iOmZhbHNlLA0KCQkJImNhbnZhc0N1c3RvbV9pc0Rvd24iOmZhbHNlLA0KCQkJLy/ntIDpjITmu5HpvKDmk43kvZzmlbjmk5ot6Ieq6KiC5Y2A5aGK5Y6f5aeL6LW36bueDQoJCQkiY2FudmFzQ3VzdG9tX3giOjAsDQoJCQkiY2FudmFzQ3VzdG9tX3kiOjAsDQoJCQkvL+e0gOmMhOa7kem8oOaTjeS9nOaVuOaTmg0KCQkJIm1fbnRoIjowLA0KCQkJIm1fbW92ZV94IjowLA0KCQkJIm1fbW92ZV95IjowLA0KCQkJIm1fZG93bl94IjowLA0KCQkJIm1fZG93bl95IjowLA0KCQkJIm1fbnRoX3giOjAsDQoJCQkibV9udGhfeSI6MA0KCQl9Ow0KCQl0aGlzLmFkZGJveFNlbGVjdCgpOw0KCQlpZighY2FudmFzU2V0RGF0YS52YWx1ZSA9PSBmYWxzZSl7DQoJCQkvL+i8ieWFpeWOn+Wni+ioreWumg0KCQkJY2FudmFzU2V0ID0gSlNPTi5wYXJzZShjYW52YXNTZXREYXRhLnZhbHVlKTsNCgkJCXRoaXMucmVzZXRDYW52YXModGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb24ubGVuZ3RoKTsNCgkJCS8v5bu656uL5paH5a2X6LOH5paZDQoJCQlpZighdGhpcy5jYW52YXNTZXQudGV4dCl0aGlzLmNhbnZhc1NldC50ZXh0ID0gW107DQoJCQlpZih0aGlzLmNhbnZhc1NldC50ZXh0Lmxlbmd0aCA+IDApew0KCQkJCWZvcihsZXQgaT0wO2k8dGhpcy5jYW52YXNTZXQudGV4dC5sZW5ndGg7aSsrKXsNCgkJCQkJdGhpcy5hZGRUZXh0KHRoaXMuY2FudmFzU2V0LnRleHRbaV0saSk7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJCXdpbmRvdy5vbnJlc2l6ZSA9IGZ1bmN0aW9uKCl7DQoJCQlpZighdGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb24gPT0gZmFsc2UpdGhpcy5yZXNldENhbnZhcyh0aGlzLmNhbnZhc1NldC5jYW52YXNQb3NpdGlvbi5sZW5ndGgpOw0KCQl9Ki8NCg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkJA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\r\n\t<div id=\"app\" @mouseup=\"up()\" @mousemove=\"move()\">\r\n\t\t<!--<ul class=\"box-select\" v-html=\"bsarea\">-->\r\n\t\t<ul class=\"box-select\">\r\n\t\t\t<li v-for=\"(todo, index) in todos\" :key='index'>\r\n\t\t\t\t<button type=\"button\" v-on:click=\"changeBox(todo)\"><svg v-html=\"madeSVG(index)\"></svg></button>\r\n\t\t\t</li>\r\n\t\t\t<li id=\"canvasCustomArea\">\r\n\t\t\t\t<div style=\"width:100%;line-height:30px;\">自訂圖片配置</div>\r\n\t\t\t\t<div v-for=\"i in 10\" :key='i'>\r\n\t\t\t\t\t<button v-for=\"j in 10\" :key='j' :id=\"'canvasCustom'+(j-1)+(i-1)\" type=\"button\" v-on:click=\"canvasCustom(j-1,i-1)\"></button>\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t\t<li><button type=\"button\" v-on:click=\"addText()\">TEXT</button></li>\r\n\t\t</ul>\r\n\t\t<div class=\"edit-box-wrap\">\r\n\t\t\t<div class=\"edit-box\" v-bind:style=\"earea_style\">\r\n\t\t\t\t<div class=\"canvas-area\" v-html=\"canvas_area\"></div>\r\n\t\t\t\t<div class=\"control-area\">\r\n\t\t\t\t\t<div v-for=\"(control, index) in controls\" :key='control.id' :id=\"'control'+(index+1)\" \r\n\t\t\t\t\t@mousedown=\"control_down(index+1)\" \r\n\t\t\t\t\t@wheel=\"MouseWheel(index+1)\" \r\n\t\t\t\t\t@mouseout=\"up()\" \r\n\t\t\t\t\t:style=\"control.style\">\r\n\t\t\t\t\t\t<button type=\"button\" \r\n\t\t\t\t\t\tv-on:click=\"searchimg(index+1)\" \r\n\t\t\t\t\t\t:style=\"'transform:scale('+control.scale+')'\">變更圖片</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div v-for=\"(pointxy, index) in pointxys\" :key='pointxy.id' \r\n\t\t\t\t\t@mousedown=\"ponitxy_down(index+1)\" \r\n\t\t\t\t\tclass=\"pointxy\" \r\n\t\t\t\t\t:id=\"'pointxy'+(index+1)\" \r\n\t\t\t\t\t:style=\"pointxy.style\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"text-area\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"button-area\">\r\n\t\t\t圖片尺寸 \r\n\t\t\t寬 <input type=\"number\" name=\"canvasWidth\" v-on:change='canvas_Width()' min=\"10\" max=\"3000\" v-model=\"canvasWidth\">\r\n\t\t\t高 <input type=\"number\" name=\"canvasHeight\" v-on:change='canvas_Height()' min=\"10\" max=\"3000\" v-model=\"canvasHeight\">\r\n\t\t\t間距 <input type=\"number\" name=\"canvaslinewidth\" v-on:change='canvas_line_Width()' min=0 v-model=\"canvasSet.spacing\">\r\n\t\t\t<button type=\"button\" v-on:click=\"changeTEST\">測試</button>\r\n\t\t\t<button type=\"button\" v-on:click=\"getBase64()\">完成送出</button>\r\n\t\t\t<button type=\"button\" v-on:click=\"resetCanvas(this.canvasSet.canvasPosition.length);\">重新整理</button>\r\n\t\t</div>\r\n\t\t\r\n\t\t<!--<textarea id=\"canvasSetData\" style=\"display:none;\">\r\n\t\t\t{\"point\":[[0,480,960],[0,480,960]],\"canvasPosition\":[[0,0,1,1],[1,0,2,1],[0,1,1,2],[1,1,2,2]],\"spacing\":0,\"imgPosition\":[[\"images/5415_P_20200307012921_1.jpg\",-21,-108,1.2,348],[\"images/5428_P_20200307002947_1.jpg\",-18,-92,1.15,0],[\"images/5345_P_20200220221542_1.jpg\",1,-70,1,0],[\"images/5488_P_20200330124416_1.jpg\",-25,-113,1.2,12]],\"text\":[{\"text\":\"文字\",\"x\":304,\"y\":565,\"size\":36,\"font\":\"'Noto\\\\ Sans\\\\ TC'\",\"color\":\"#cf610c\",\"weight\":\"400\"}]}\r\n\t\t</textarea>-->\r\n\t\t<textarea id=\"canvasSetData\" style=\"display:none;\" v-model=\"canvasSet\"></textarea>\r\n\t\t<div id=\"tempSelectImg\">\r\n\t\t\t<div class=\"selectimg-area\">\r\n\t\t\t\t<div class=\"selectimg\">\r\n\t\t\t\t\t<button type=\"button\" onclick=\"document.body.removeChild(document.getElementById('selectimg'))\">關閉</button>\r\n\t\t\t\t\t<input type=\"text\" name=\"keyword\" size=\"20\" id=\"keyword\">\r\n\t\t\t\t\t<button type=\"button\" v-on:click=\"getImg()\">搜尋</button>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li><img src=\"images/5522_P_20200328085257_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'images/5522_P_20200328085257_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"images/5523_P_20200325183143_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'images/5523_P_20200325183143_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"images/5524_P_20200417151430_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'images/5524_P_20200417151430_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"images/5525_P_20200328083559_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'images/5525_P_20200328083559_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"images/5526_P_20200328084253_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'images/5526_P_20200328084253_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"images/5527_P_20200330181837_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'images/5527_P_20200330181837_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"images/5528_P_20200328082251_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'images/5528_P_20200328082251_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"images/5529_P_20200328082627_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'images/5529_P_20200328082627_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"images/5536_P_20200407212522_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'images/5536_P_20200407212522_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div id=\"tempSearchImg\">\r\n\t\t\t<div class=\"selectimg-area\">\r\n\t\t\t\t<div class=\"selectimg\">\r\n\t\t\t\t\t<button type=\"button\" onclick=\"document.body.removeChild(document.getElementById('selectimg'))\">關閉</button>\r\n\t\t\t\t\t<input type=\"text\" name=\"keyword\" size=\"20\" id=\"keyword\">\r\n\t\t\t\t\t<button type=\"button\" v-on:click=\"getImg()\">搜尋</button>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5719_P_20200806154558_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'./assets/5719_P_20200806154558_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5720_P_20200806172459_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'./assets/5720_P_20200806172459_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5732_P_20200804164529_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'./assets/5732_P_20200804164529_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5741_P_20200731175711_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'./assets/5741_P_20200731175711_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5742_P_20200731174705_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'./assets/5742_P_20200731174705_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5749_P_20200731181755_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'./assets/5749_P_20200731181755_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5751_P_20200803164106_5.jpg\" v-on:click=\"addimg(tempSet.m_nth,'./assets/5751_P_20200803164106_5.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5752_P_20200803173334_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'./assets/5752_P_20200803173334_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5754_P_20200731212125_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'./assets/5754_P_20200731212125_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5763_P_20200731183842_5.jpg\" v-on:click=\"addimg(tempSet.m_nth,'./assets/5763_P_20200731183842_5.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5765_P_20200803182012_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'./assets/5765_P_20200803182012_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5767_P_20200804154721_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'./assets/5767_P_20200804154721_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div id=\"tempShow\">\r\n\t\t\t<div class=\"selectimg-area\">\r\n\t\t\t\t<div class=\"selectimg\">\r\n\t\t\t\t\t<button type=\"button\" onclick=\"document.body.removeChild(document.getElementById('selectimg'))\">關閉</button>\r\n\t\t\t\t\t<img>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div id=\"tempSelectText\">\r\n\t\t\t<input type=\"text\" class=\"text\" style=\"font-weight: 400;font-size: 36px;line-height: 36px;height: 36px;color:#f00;font-family: Noto Sans TC;\" size=\"3\">\r\n\t\t\t<div class=\"text-control\">\r\n\t\t\t\t<button type=\"button\">拖曳移動</button><br>\r\n\t\t\t\t<input class=\"size\" type=\"number\" min=\"6\" value=\"36\" title=\"文字大小\"><br>\r\n\t\t\t\t<select class=\"font-type\" title=\"字體\">\r\n\t\t\t\t\t<option value=\"'Noto\\ Sans\\ TC'\" style=\"font-family:'Noto Sans TC',sans-serif;\">Noto Sans TC-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'Noto\\ Serif\\ TC'\" style=\"font-family:'Noto Serif TC',sans-serif;\">Noto Serif TC-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'STXihei'\" style=\"font-family:STXihei;\">華文細黑-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'STHeiti'\" style=\"font-family:STHeiti;\">華文黑體-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'STKaiti'\" style=\"font-family:STKaiti;\">華文楷體-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'STSong'\" style=\"font-family:STSong;\">華文宋體-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'STFangsong'\" style=\"font-family:STFangsong;\">華文仿宋-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'LiHei Pro Medium'\" style=\"font-family:LiHei Pro Medium;\">儷黑 Pro-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'LiSong Pro Light'\" style=\"font-family:LiSong Pro Light;\">儷宋 Pro-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'BiauKai'\" style=\"font-family:BiauKai;\">標楷體-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'Apple LiGothic Medium'\" style=\"font-family:Apple LiGothic Medium;\">蘋果儷中黑-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'Apple LiSung Light'\" style=\"font-family:Apple LiSung Light;\">蘋果儷細宋-範例Sample</option>\r\n\r\n\t\t\t\t\t<option value=\"'PMingLiU'\" style=\"font-family:PMingLiU;\">新細明體-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'MingLiU'\" style=\"font-family:MingLiU;\">細明體-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'DFKai-SB'\" style=\"font-family:DFKai-SB;\">標楷體-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'SimHei'\" style=\"font-family:SimHei;\">黑體-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'NSimSun'\" style=\"font-family:NSimSun;\">新宋體-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'FangSong'\" style=\"font-family:FangSong;\">仿宋-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'KaiTi'\" style=\"font-family:KaiTi;\">楷體-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'FangSong_GB2312'\" style=\"font-family:FangSong_GB2312;\">仿宋_GB2312-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'KaiTi_GB2312'\" style=\"font-family:KaiTi_GB2312;\">楷體_GB2312-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'Microsoft JhengHei'\" style=\"font-family:Microsoft JhengHei;\">微軟正黑體-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'Microsoft YaHei'\" style=\"font-family:Microsoft YaHei;\">微軟雅黑體-範例Sample</option>\r\n\t\t\t\t</select><br>\r\n\t\t\t\t<select class=\"font-weight\" title=\"文字粗細\">\r\n\t\t\t\t\t<option value=\"100\">細</option>\r\n\t\t\t\t\t<option value=\"400\" selected=\"selected\">標準</option>\r\n\t\t\t\t\t<option value=\"900\">粗</option>\r\n\t\t\t\t</select>\r\n\t\t\t\t<div class=\"picker\" style=\"height:20px;width: 20px;background-color:#f00;\" title=\"文字顏色\"></div>\r\n\t\t\t\t<!--<input type=\"text\" name=\"\" id=\"\">-->\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n//import HelloWorld from './components/HelloWorld.vue'\r\n\r\nexport default {\r\n\tname: 'App',\r\n\t/*components: {\r\n\t\tHelloWorld\r\n\t}*/\r\n\t//props:['prop1','prop2'],\r\n\t//created: function () {\r\n\tmounted: function() {\r\n\t\t//alert('{{prop1}} created.');\r\n\t\t//if(!this.canvasSet.canvasPosition == false)this.resetCanvas(this.canvasSet.canvasPosition.length);\r\n\t\t//this.addboxSelect();\r\n\t\t//if(!canvasSetData.value == false){\r\n\t\t//console.log(this.todos);\r\n\t\tif(this.canvasSet.canvasPosition.length > 0){\r\n\t\t\t//載入原始設定\r\n\t\t\t//canvasSet = JSON.parse(canvasSetData.value);\r\n\t\t\tthis.resetCanvas(this.canvasSet.canvasPosition.length);\r\n\t\t\t//setTimeout('this.resetCanvas(this.canvasSet.canvasPosition.length)',500);\r\n\t\t\t//建立文字資料\r\n\t\t\t/*if(!this.canvasSet.text)this.canvasSet.text = [];\r\n\t\t\tif(this.canvasSet.text.length > 0){\r\n\t\t\t\tfor(let i=0;i<this.canvasSet.text.length;i++){\r\n\t\t\t\t\tthis.addText(this.canvasSet.text[i],i);\r\n\t\t\t\t}\r\n\t\t\t}*/\r\n\t\t}\r\n\t\t/*window.onresize = function(){\r\n\t\t\tif(!this.canvasSet.canvasPosition == false)this.resetCanvas(this.canvasSet.canvasPosition.length);\r\n\t\t}*/\r\n\t},\r\n\t/*computed: {\r\n\t\t// a computed getter\r\n\t\treversedMessage: function () {\r\n\t\t\t// `this` points to the vm instance\r\n\t\t\treturn this.message.split('').reverse().join('')\r\n\t\t},\r\n\t\tbsarea() {\r\n\t\t\t//return '<button></button >'\r\n\t\t\treturn this.addboxSelect();\r\n\t\t}\r\n\t},*/\r\n\tdata(){\r\n\t\treturn{\r\n\t\t\tcontrols:[],\r\n\t\t\tpointxys:[],\r\n\t\t\ttodos: [\r\n\t\t\t\t{\"point\":[[0,480,960],[0,960]],\"canvasPosition\":[[0,0,1,1],[1,0,2,1]]},\r\n\t\t\t\t{\"point\":[[0,960],[0,480,960]],\"canvasPosition\":[[0,0,1,1],[0,1,1,2]]},\r\n\t\t\t\t{\"point\":[[0,240,480,960],[0,960]],\"canvasPosition\":[[0,0,1,1],[1,0,2,1],[2,0,3,1]]},\r\n\t\t\t\t{\"point\":[[0,960],[0,240,480,960]],\"canvasPosition\":[[0,0,1,1],[0,1,1,2],[0,2,1,3]]},\r\n\t\t\t\t{\"point\":[[0,480,960],[0,480,960]],\"canvasPosition\":[[0,0,1,1],[0,1,1,2],[1,0,2,2]]},\r\n\t\t\t\t{\"point\":[[0,480,960],[0,480,960]],\"canvasPosition\":[[0,0,1,1],[1,0,2,1],[0,1,2,2]]},\r\n\t\t\t\t{\"point\":[[0,480,960],[0,480,960]],\"canvasPosition\":[[0,0,2,1],[0,1,1,2],[1,1,2,2]]},\r\n\t\t\t\t{\"point\":[[0,480,960],[0,480,960]],\"canvasPosition\":[[0,0,1,2],[1,0,2,1],[1,1,2,2]]},\r\n\t\t\t\t{\"point\":[[0,240,480,720,960],[0,960]],\"canvasPosition\":[[0,0,1,1],[1,0,2,1],[2,0,3,1],[3,0,4,1]]},\r\n\t\t\t\t{\"point\":[[0,960],[0,240,480,720,960]],\"canvasPosition\":[[0,0,1,1],[0,1,1,2],[0,2,1,3],[0,3,1,4]]},\r\n\t\t\t\t{\"point\":[[0,480,960],[0,480,960]],\"canvasPosition\":[[0,0,1,1],[1,0,2,1],[0,1,1,2],[1,1,2,2]]},\r\n\t\t\t\t{\"point\":[[0,480,960],[0,320,640,960]],\"canvasPosition\":[[0,0,1,1],[0,1,1,2],[0,2,1,3],[1,0,2,3]]},\r\n\t\t\t\t{\"point\":[[0,320,640,960],[0,480,960]],\"canvasPosition\":[[0,0,1,1],[1,0,2,1],[2,0,3,1],[0,1,3,2]]},\r\n\t\t\t\t{\"point\":[[0,320,640,960],[0,480,960]],\"canvasPosition\":[[0,0,3,1],[0,1,1,2],[1,1,2,2],[2,1,3,2]]},\r\n\t\t\t\t{\"point\":[[0,480,960],[0,320,640,960]],\"canvasPosition\":[[0,0,1,3],[1,0,2,1],[1,1,2,2],[1,2,2,3]]}\r\n\t\t\t],\r\n\t\t\t//carea: '',\r\n\t\t\t//bsarea: '',\r\n\t\t\tcanvas_area:'',\r\n\t\t\tearea_style:'transform: scale(1)',\r\n\t\t\tcanvasWidth:0,\r\n\t\t\tcanvasHeight:0,\r\n\t\t\t//canvaslinewidth:0,\r\n\t\t\t//canvasSet: {\"point\":[[0,480,960],[0,480,960]],\"canvasPosition\":[[0,0,2,1],[0,1,1,2],[1,1,2,2]],\"spacing\":0,\"imgPosition\":[[\"images/5383_P_20200320122209_5.jpg\",0,0,1,0],[\"images/5415_P_20200307012921_1.jpg\",0,0,1,0],[\"images/5428_P_20200307002947_1.jpg\",0,-52,1,0]]},\r\n\t\t\tcanvasSet:{\r\n\t\t\t\t\"point\":[],\r\n\t\t\t\t\"canvasPosition\":[],\r\n\t\t\t\t\"spacing\":0,\r\n\t\t\t\t\"imgPosition\":[]\r\n\t\t\t},\r\n\t\t\ttempSet: {\r\n\t\t\t\t\"canvasArea\":[],\r\n\t\t\t\t\"canvasPositionCustom\":[],\r\n\t\t\t\t//紀錄滑鼠操作事件\r\n\t\t\t\t\"text_isDown\":false,\r\n\t\t\t\t\"control_isDown\":false,\r\n\t\t\t\t\"ponitxy_isDown\":false,\r\n\t\t\t\t\"canvasCustom_isDown\":false,\r\n\t\t\t\t//紀錄滑鼠操作數據-自訂區塊原始起點\r\n\t\t\t\t\"canvasCustom_x\":0,\r\n\t\t\t\t\"canvasCustom_y\":0,\r\n\t\t\t\t//紀錄滑鼠操作數據\r\n\t\t\t\t\"m_nth\":0,\r\n\t\t\t\t\"m_move_x\":0,\r\n\t\t\t\t\"m_move_y\":0,\r\n\t\t\t\t\"m_down_x\":0,\r\n\t\t\t\t\"m_down_y\":0,\r\n\t\t\t\t\"m_nth_x\":0,\r\n\t\t\t\t\"m_nth_y\":0\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods:{\r\n\t\taddComment:function (event) {\r\n\t\t\tif(event.target.nodeName === 'BUTTON'){\r\n\t\t\t\t// 获取触发事件对象的属性\r\n\t\t\t\tconsole.log(123);\r\n\t\t\t}\r\n\t\t},\r\n\t\tresetCanvas: function(size,imgReposition){\r\n\t\t\timgReposition = imgReposition || false;\r\n\t\t\tlet barea = document.getElementsByClassName(\"button-area\")[0];// eslint-disable-line no-unused-vars\r\n\t\t\tthis.canvasWidth = this.canvasSet.point[0][this.canvasSet.point[0].length-1];\r\n\t\t\tthis.canvasHeight = this.canvasSet.point[1][this.canvasSet.point[1].length-1];\r\n\t\t\tthis.canvas_area='';\r\n\t\t\tconsole.log(this.canvasWidth);\r\n\t\t\t//設定畫布顯示縮放倍率\r\n\t\t\tlet scale = 1;\r\n\t\t\t\r\n\t\t\tlet earea_wrap_w = window.innerWidth - 300;\r\n\t\t\tlet earea_wrap_h = window.innerHeight;\r\n\t\t\tif(this.canvasWidth>earea_wrap_w*0.9){\r\n\t\t\t\tthis.earea_style ='transform: scale('+(earea_wrap_w*0.9/this.canvasWidth)+')';\r\n\t\t\t\tscale = 1/(earea_wrap_w*0.9/this.canvasWidth);\r\n\t\t\t}\r\n\t\t\tif(this.canvasHeight*(earea_wrap_w*0.9/this.canvasWidth)>earea_wrap_h*0.9){\r\n\t\t\t\tthis.earea_style ='transform: scale('+(earea_wrap_h*0.9/this.canvasHeight)+')';\r\n\t\t\t\tscale = 1/(earea_wrap_h*0.9/this.canvasHeight);\r\n\t\t\t}\r\n\t\t\tfor(let i=0;i<document.getElementsByClassName(\"text-control\").length;i++){\r\n\t\t\t\tdocument.getElementsByClassName(\"text-control\")[i].setAttribute(\"style\",'transform: scale('+scale+')');\r\n\t\t\t}\r\n\t\t\t//取得畫布可見區域起點終點寬高\r\n\t\t\tfor(let i=0;i<size;i++){\r\n\t\t\t\tthis.tempSet.canvasArea[i]=[\r\n\t\t\t\t\tthis.canvasSet.point[0][this.canvasSet.canvasPosition[i][0]],\r\n\t\t\t\t\tthis.canvasSet.point[1][this.canvasSet.canvasPosition[i][1]],\r\n\t\t\t\t\tthis.canvasSet.point[0][this.canvasSet.canvasPosition[i][2]],\r\n\t\t\t\t\tthis.canvasSet.point[1][this.canvasSet.canvasPosition[i][3]],\r\n\t\t\t\t\tthis.canvasSet.point[0][this.canvasSet.canvasPosition[i][2]]-this.canvasSet.point[0][this.canvasSet.canvasPosition[i][0]],\r\n\t\t\t\t\tthis.canvasSet.point[1][this.canvasSet.canvasPosition[i][3]]-this.canvasSet.point[1][this.canvasSet.canvasPosition[i][1]]\r\n\t\t\t\t];\r\n\t\t\t\t//console.log(this.canvasSet.point[0]);\r\n\t\t\t}\r\n\t\t\t//console.log(this.canvasSet.point);\r\n\t\t\tthis.controls = [];\r\n\t\t\tthis.pointxys = [];\r\n\t\t\tfor(let i=1;i<=size+1;i++){\r\n\t\t\t\t//建立畫布\r\n\t\t\t\tlet box = document.createElement(\"canvas\");\r\n\t\t\t\t\tif(i<=size){\r\n\t\t\t\t\t\t//console.log(this.tempSet.canvasArea[i-1][4]);\r\n\t\t\t\t\t\tbox.id = \"canvas\"+i;\r\n\t\t\t\t\t\tbox.width = this.tempSet.canvasArea[i-1][4]-(+this.canvasSet.spacing*2);\r\n\t\t\t\t\t\tbox.height = this.tempSet.canvasArea[i-1][5]-(+this.canvasSet.spacing*2);\r\n\t\t\t\t\t\tbox.style.left = (this.tempSet.canvasArea[i-1][0]+(+this.canvasSet.spacing)) + \"px\";\r\n\t\t\t\t\t\tbox.style.top = (this.tempSet.canvasArea[i-1][1]+(+this.canvasSet.spacing)) + \"px\";\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tbox.id = \"finalCanvas\";\r\n\t\t\t\t\t\tbox.width = this.canvasWidth;\r\n\t\t\t\t\t\tbox.height = this.canvasHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\tlet wrap = document.createElement(\"div\");\r\n\t\t\t\t\twrap.appendChild(box);\r\n\t\t\t\t\tthis.canvas_area+=wrap.innerHTML;\r\n\t\t\t\tif(i<=size){\r\n\t\t\t\t\t//建立緩衝畫布\r\n\t\t\t\t\tlet box = document.createElement(\"canvas\");\r\n\t\t\t\t\t\tbox.id = \"tempcanvas\"+i;\r\n\t\t\t\t\t\tbox.width = this.tempSet.canvasArea[i-1][4]-(+this.canvasSet.spacing*2);\r\n\t\t\t\t\t\tbox.height = this.tempSet.canvasArea[i-1][5]-(+this.canvasSet.spacing*2);\r\n\t\t\t\t\t\tbox.style.left = (this.tempSet.canvasArea[i-1][0]+(+this.canvasSet.spacing)) + \"px\";\r\n\t\t\t\t\t\t//console.log(this.tempSet.canvasArea[i-1][0],this.canvasSet.spacing,this.tempSet.canvasArea[i-1][0]+(+this.canvasSet.spacing))\r\n\t\t\t\t\t\tbox.style.top = (this.tempSet.canvasArea[i-1][1]+(+this.canvasSet.spacing)) + \"px\";\r\n\t\t\t\t\tlet wrap = document.createElement(\"div\");\r\n\t\t\t\t\t\twrap.appendChild(box);\r\n\t\t\t\t\t\tthis.canvas_area+=wrap.innerHTML;\r\n\t\t\t\t\t//建立圖片定位紀錄\r\n\t\t\t\t\tif(!this.canvasSet.imgPosition)this.canvasSet.imgPosition=[];\r\n\t\t\t\t\tif(!this.canvasSet.imgPosition[i-1]){\r\n\t\t\t\t\t\tthis.canvasSet.imgPosition.push([]);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.addimg(i,this.canvasSet.imgPosition[i-1][0],this.canvasSet.imgPosition[i-1][1],this.canvasSet.imgPosition[i-1][2],this.canvasSet.imgPosition[i-1][3],this.canvasSet.imgPosition[i-1][4],imgReposition);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//建立畫布控制區\r\n\t\t\t\t\tlet box2 = {style:\"\",scale:scale};\r\n\t\t\t\t\tlet x = this.tempSet.canvasArea[i-1][0],\r\n\t\t\t\t\t\ty = this.tempSet.canvasArea[i-1][1],\r\n\t\t\t\t\t\tw = this.tempSet.canvasArea[i-1][4],\r\n\t\t\t\t\t\th = this.tempSet.canvasArea[i-1][5];\r\n\t\t\t\t\t\tbox2.style='top:'+y+'px;left:'+x+'px;width:'+w+'px;height:'+h+'px;';\r\n\t\t\t\t\t\tthis.controls.push(box2);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//建立畫布可見範圍控制按鈕\r\n\t\t\tfor(let i=1;i<size+1;i++){\r\n\t\t\t\tlet box = {style:\"\"};\r\n\t\t\t\tlet style = '';\r\n\t\t\t\t\t\tif(scale != 1)style='transform:scale('+scale+');';\r\n\t\t\t\t\tbox.style='top:'+this.tempSet.canvasArea[i-1][3]+'px;left:'+this.tempSet.canvasArea[i-1][2]+'px;'+style;\r\n\t\t\t\t\tthis.pointxys.push(box);\r\n\t\t\t}\r\n\t\t},\r\n\t\t//置入圖片,\r\n\t\taddimg: function(nth,imgName,imgx,imgy,imgz,imgr,imgReposition){\r\n\t\t\timgReposition = imgReposition || false;\r\n\t\t\tif(!imgName)return false;\r\n\t\t\tlet cvs = document.getElementById(\"canvas\"+nth),\r\n\t\t\t\tcvstemp = document.getElementById(\"tempcanvas\"+nth),\r\n\t\t\t\tctx = cvs.getContext(\"2d\"),\r\n\t\t\t\tctxtemp = cvstemp.getContext(\"2d\");\r\n\t\t\tctx.globalCompositeOperation=\"copy\";\r\n\t\t\tlet img = new Image();\r\n\t\t\t\timg.src=imgName;\r\n\t\t\t\timg.setAttribute('crossorigin', 'anonymous');\r\n\t\t\t\timg.crossOrigin = 'anonymous';\r\n\t\t\timgx = imgx || 0;\r\n\t\t\timgy = imgy || 0;\r\n\t\t\timgz = imgz || 1;\r\n\t\t\timgr = imgr || 0;\r\n\t\t\t//建立圖片緩衝後清除圖片\r\n\t\t\tctxtemp.drawImage(cvs, 0, 0);\r\n\t\t\tctx.clearRect(0,0,cvs.width,cvs.height);\r\n\t\t\timg.onload=function(){\r\n\t\t\t\tlet imgw = this.tempSet.canvasArea[nth-1][4],\r\n\t\t\t\t\timgh = img.height*imgw/img.width;\r\n\t\t\t\tif(imgh<this.tempSet.canvasArea[nth-1][5]){\r\n\t\t\t\t\timgh = this.tempSet.canvasArea[nth-1][5];\r\n\t\t\t\t\timgw = img.width*imgh/img.height;\r\n\t\t\t\t}\r\n\t\t\t\t//限制移動區域不可超出圖片,增加縮小圖片功能後停用,除非畫布變更\r\n\t\t\t\tif(imgReposition==true){\r\n\t\t\t\t\tif(imgx>0 && imgy>0){\r\n\t\t\t\t\t\timgx = 0;\r\n\t\t\t\t\t\timgy = 0;\r\n\t\t\t\t\t}else if(imgx>0){\r\n\t\t\t\t\t\timgx = 0;\r\n\t\t\t\t\t}else if(imgy>0){\r\n\t\t\t\t\t\timgy = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(imgx+(imgw*imgz)<this.tempSet.canvasArea[nth-1][4] && imgy+(imgh*imgz)<this.tempSet.canvasArea[nth-1][5]){\r\n\t\t\t\t\t\timgx = this.tempSet.canvasArea[nth-1][4]-(imgw*imgz);\r\n\t\t\t\t\t\timgy = this.tempSet.canvasArea[nth-1][5]-(imgh*imgz);\r\n\t\t\t\t\t}else if(imgx+(imgw*imgz)<this.tempSet.canvasArea[nth-1][4]){\r\n\t\t\t\t\t\timgx = this.tempSet.canvasArea[nth-1][4]-(imgw*imgz);\r\n\t\t\t\t\t}else if(imgy+(imgh*imgz)<this.tempSet.canvasArea[nth-1][5]){\r\n\t\t\t\t\t\timgy = this.tempSet.canvasArea[nth-1][5]-(imgh*imgz);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//紀錄圖片數據\r\n\t\t\t\tthis.canvasSet.imgPosition[nth-1]=[imgName,imgx,imgy,imgz,imgr];\r\n\t\t\t\tctx.translate(imgx-(+this.canvasSet.spacing)+(imgw*imgz/2),imgy-(+this.canvasSet.spacing)+(imgh*imgz/2));\r\n\t\t\t\tctx.rotate(imgr/180*Math.PI);\r\n\t\t\t\tctx.drawImage(img,imgx-(imgw*imgz/2), imgy-(imgh*imgz/2), imgw * imgz, imgh * imgz);\r\n\t\t\t\tctx.rotate(-imgr/180*Math.PI);\r\n\t\t\t\tctx.translate(+this.canvasSet.spacing-imgx-(imgw*imgz/2),+this.canvasSet.spacing-imgy-(imgh*imgz/2));//重設參考點為0,0\r\n\t\t\t\t//清理重疊區域\r\n\t\t\t\tctxtemp.clearRect(0,0,cvs.width,cvs.height);\r\n\t\t\t}\r\n\t\t},\r\n\t\t//各圖合併一張圖,\r\n\t\tgetBase64: function(){// eslint-disable-line no-unused-vars\r\n\t\t\t//數據資料轉成json\r\n\t\t\t//canvasSetData.value = JSON.stringify(this.canvasSet);\r\n\t\t\tlet domContext = finalCanvas.getContext('2d');\r\n\t\t\t\tdomContext.clearRect(0,0,finalCanvas.width,finalCanvas.height);\r\n\t\t\t\tdomContext.fillStyle=\"#ffffff\";\r\n\t\t\t\tdomContext.fillRect(0,0,finalCanvas.width,finalCanvas.height);\r\n\t\t\t//domContext.scale(2,2);\r\n\t\t\tfor(let i=1;i<=this.tempSet.canvasArea.length;i++){\r\n\t\t\t\tlet cvs = document.getElementById(\"canvas\"+i);\r\n\t\t\t\tdomContext.drawImage(cvs, this.tempSet.canvasArea[i-1][0]+(+this.canvasSet.spacing), this.tempSet.canvasArea[i-1][1]+(+this.canvasSet.spacing));\r\n\t\t\t}\r\n\t\t\tif(!this.canvasSet.text==false){\r\n\t\t\t\tfor(let i=0;i<this.canvasSet.text.length;i++){\r\n\t\t\t\t\tdomContext.textBaseline = \"top\";//canvas文字定位從左下角改成上方\r\n\t\t\t\t\tdomContext.font = this.canvasSet.text[i].weight + \" \" + this.canvasSet.text[i].size + \"px \" + this.canvasSet.text[i].font;\r\n\t\t\t\t\tdomContext.fillStyle = this.canvasSet.text[i].color;\r\n\t\t\t\t\tdomContext.fillText(this.canvasSet.text[i].text,this.canvasSet.text[i].x,this.canvasSet.text[i].y);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.tempSet.dataURL = finalCanvas.toDataURL();   //get base64 img\r\n\t\t\tlet box = document.createElement(\"div\");\r\n\t\t\t\tbox.id = \"selectimg\";\r\n\t\t\t\tbox.innerHTML = document.getElementById(\"tempShow\").innerHTML;\r\n\t\t\t\tbox.getElementsByTagName(\"img\")[0].setAttribute(\"src\",this.tempSet.dataURL);\r\n\t\t\tdocument.body.appendChild(box);\r\n\t\t},\r\n\t\t//設定畫布顯示縮放倍率,\r\n\t\tsetScale: function(){\r\n\t\t\tlet earea_wrap = document.getElementsByClassName(\"edit-box-wrap\")[0],\r\n\t\t\t\tcanvasWidth = this.canvasSet.point[0][this.canvasSet.point[0].length-1],\r\n\t\t\t\tcanvasHeight = this.canvasSet.point[1][this.canvasSet.point[1].length-1];\r\n\t\t\tlet scale = 1;\r\n\t\t\tif(canvasWidth>earea_wrap.clientWidth*0.9){\r\n\t\t\t\tscale = 1/(earea_wrap.clientWidth*0.9/canvasWidth);\r\n\t\t\t}\r\n\t\t\tif(canvasHeight*(earea_wrap.clientWidth*0.9/canvasWidth)>earea_wrap.clientHeight*0.9){\r\n\t\t\t\tscale = 1/(earea_wrap.clientHeight*0.9/canvasHeight);\r\n\t\t\t}\r\n\t\t\treturn scale;\r\n\t\t},\r\n\t\t//拖曳圖片,\r\n\t\tcontrol_down: function(nth){// eslint-disable-line no-unused-vars\r\n\t\t\tif(this.tempSet.text_isDown == true)return false;\r\n\t\t\tif(!this.canvasSet.imgPosition[nth-1][0]){\r\n\t\t\t\t//searchimg(nth);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.tempSet.m_nth = nth;\r\n\t\t\tthis.tempSet.control_isDown = true;\r\n\t\t\t//獲取滑鼠按下時座標\r\n\t\t\tthis.tempSet.m_down_x = event.clientX;\r\n\t\t\tthis.tempSet.m_down_y = event.clientY;\r\n\t\t\tthis.tempSet.m_nth_x = this.canvasSet.imgPosition[this.tempSet.m_nth-1][1];\r\n\t\t\tthis.tempSet.m_nth_y = this.canvasSet.imgPosition[this.tempSet.m_nth-1][2];\r\n\t\t},\r\n\t\t//滑鼠移動,\r\n\t\tmove: function(){// eslint-disable-line no-unused-vars\r\n\t\t\t//獲取滑鼠移動實時座標\r\n\t\t\tthis.tempSet.m_move_x = event.clientX;\r\n\t\t\tthis.tempSet.m_move_y = event.clientY;\r\n\t\t\t//設定畫布顯示縮放倍率\r\n\t\t\t//if(this.canvasSet.point.length > 0)var scale = this.setScale();\r\n\t\t\t//滑鼠按下時移動才觸發\r\n\t\t\tif(this.tempSet.control_isDown){\r\n\t\t\t\t//把新div座標值賦給div物件\r\n\t\t\t\tlet x = Math.floor(+this.tempSet.m_nth_x + (this.tempSet.m_move_x - this.tempSet.m_down_x)*this.setScale()),\r\n\t\t\t\t\ty = Math.floor(+this.tempSet.m_nth_y + (this.tempSet.m_move_y - this.tempSet.m_down_y)*this.setScale());\r\n\t\t\t\tthis.addimg(this.tempSet.m_nth,this.canvasSet.imgPosition[this.tempSet.m_nth-1][0],x,y,this.canvasSet.imgPosition[this.tempSet.m_nth-1][3],this.canvasSet.imgPosition[this.tempSet.m_nth-1][4]);\r\n\t\t\t}\r\n\t\t\tif(this.tempSet.text_isDown){\r\n\t\t\t\t//把新div座標值賦給div物件\r\n\t\t\t\tlet x = Math.floor(+this.tempSet.m_nth_x + (this.tempSet.m_move_x - this.tempSet.m_down_x)*this.setScale()),\r\n\t\t\t\t\ty = Math.floor(+this.tempSet.m_nth_y + (this.tempSet.m_move_y - this.tempSet.m_down_y)*this.setScale());\r\n\t\t\t\tdocument.getElementById(\"textBlock\"+this.tempSet.m_nth).style.left = x + \"px\";\r\n\t\t\t\tdocument.getElementById(\"textBlock\"+this.tempSet.m_nth).style.top = y + \"px\";\r\n\t\t\t\tthis.canvasSet.text[this.tempSet.m_nth-1].x = x;\r\n\t\t\t\tthis.canvasSet.text[this.tempSet.m_nth-1].y = y;\r\n\t\t\t}\r\n\t\t\tif(this.tempSet.ponitxy_isDown){\r\n\t\t\t\t//把新div座標值賦給div物件\r\n\t\t\t\tlet x = Math.floor(+this.tempSet.m_nth_x + (this.tempSet.m_move_x - this.tempSet.m_down_x)*this.setScale()),\r\n\t\t\t\t\ty = Math.floor(+this.tempSet.m_nth_y + (this.tempSet.m_move_y - this.tempSet.m_down_y)*this.setScale()),\r\n\t\t\t\t\tthisPointxy = document.getElementById(\"pointxy\"+this.tempSet.m_nth);\r\n\t\t\t\t//檢查與座標間的距離\r\n\t\t\t\tif(\r\n\t\t\t\t\tx<this.canvasSet.point[0][this.canvasSet.canvasPosition[this.tempSet.m_nth-1][2]-1]+10 || \r\n\t\t\t\t\ty<this.canvasSet.point[1][this.canvasSet.canvasPosition[this.tempSet.m_nth-1][3]-1]+10 || \r\n\t\t\t\t\t(!this.canvasSet.point[0][this.canvasSet.canvasPosition[this.tempSet.m_nth-1][2]+1] != true && x>this.canvasSet.point[0][this.canvasSet.canvasPosition[this.tempSet.m_nth-1][2]+1]-10) || \r\n\t\t\t\t\t(!this.canvasSet.point[1][this.canvasSet.canvasPosition[this.tempSet.m_nth-1][3]+1] != true && y>this.canvasSet.point[1][this.canvasSet.canvasPosition[this.tempSet.m_nth-1][3]+1]-10) ||\r\n\t\t\t\t\tx>3000 || y>3000\r\n\t\t\t\t\t)return false;\r\n\t\t\t\tthisPointxy.setAttribute(\"style\",'top:'+y+'px;left:'+x+'px;');\r\n\t\t\t\t//let style = '';\r\n\t\t\t\t//if(scale != 1)style='transform:scale('+scale+');';\r\n\t\t\t\t//this.pointxys[this.tempSet.m_nth-1].style=\r\n\t\t\t\tconsole.log(this.pointxys[this.tempSet.m_nth-1].style);\r\n\t\t\t\tthis.canvasSet.point[0][this.canvasSet.canvasPosition[this.tempSet.m_nth-1][2]]=x;\r\n\t\t\t\tthis.canvasSet.point[1][this.canvasSet.canvasPosition[this.tempSet.m_nth-1][3]]=y;\r\n\t\t\t\tthis.resetCanvas(this.canvasSet.canvasPosition.length);\r\n\t\t\t}\r\n\t\t},\r\n\t\tup: function(){// eslint-disable-line no-unused-vars\r\n\t\t\tthis.tempSet.control_isDown = false;\r\n\t\t\tthis.tempSet.ponitxy_isDown = false;\r\n\t\t\tthis.tempSet.text_isDown = false;\r\n\t\t},\r\n\t\tponitxy_down: function(nth){// eslint-disable-line no-unused-vars\r\n\t\t\tif(this.tempSet.text_isDown == true)return false;\r\n\t\t\tthis.tempSet.m_nth = nth;\r\n\t\t\tthis.tempSet.ponitxy_isDown = true;\r\n\t\t\t//獲取滑鼠按下時座標\r\n\t\t\tthis.tempSet.m_down_x = event.clientX;\r\n\t\t\tthis.tempSet.m_down_y = event.clientY;\r\n\t\t\tthis.tempSet.m_nth_x = this.tempSet.canvasArea[this.tempSet.m_nth-1][2];\r\n\t\t\tthis.tempSet.m_nth_y = this.tempSet.canvasArea[this.tempSet.m_nth-1][3];\r\n\t\t},\r\n\t\ttext_down: function(nth){// eslint-disable-line no-unused-vars\r\n\t\t\tthis.tempSet.m_nth = nth;\r\n\t\t\tthis.tempSet.text_isDown = true;\r\n\t\t\t//獲取滑鼠按下時座標\r\n\t\t\tthis.tempSet.m_down_x = event.clientX;\r\n\t\t\tthis.tempSet.m_down_y = event.clientY;\r\n\t\t\tthis.tempSet.m_nth_x = document.getElementById(\"textBlock\"+nth).offsetLeft;\r\n\t\t\tthis.tempSet.m_nth_y = document.getElementById(\"textBlock\"+nth).offsetTop;\r\n\t\t},\r\n\t\t//event.clientX、event.clientY\r\n\t\t//圖片縮放,\r\n\t\tMouseWheel: function(nth,e){// eslint-disable-line no-unused-vars\r\n\t\t\t//window.event.shiftKey==1\r\n\t\t\tif(!this.canvasSet.imgPosition[nth-1][0]){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\te = e || window.event;\r\n\t\t\tif(e.shiftKey){\r\n\t\t\t\tlet imgr = this.canvasSet.imgPosition[nth-1][4];\r\n\t\t\t\t( e.wheelDelta <= 0 || e.detail > 0) ? imgr-=3 : imgr+=3;\r\n\t\t\t\tif(imgr<0)imgr+=360;\r\n\t\t\t\tif(imgr>360)imgr-=360;\r\n\t\t\t\tthis.addimg(nth,this.canvasSet.imgPosition[nth-1][0],this.canvasSet.imgPosition[nth-1][1],this.canvasSet.imgPosition[nth-1][2],this.canvasSet.imgPosition[nth-1][3],imgr);\r\n\t\t\t}else{\r\n\t\t\t\tlet imgz=this.canvasSet.imgPosition[nth-1][3];\r\n\t\t\t\tlet imgzo = imgz;\r\n\t\t\t\t( e.wheelDelta <= 0 || e.detail > 0) ? imgz-=0.05 : imgz+=0.05;\r\n\t\t\t\timgz = Math.round(imgz*100)/100;\r\n\t\t\t\tif(imgz<0.1)imgz=0.1;\r\n\t\t\t\tlet conterx = this.tempSet.canvasArea[nth-1][4]/2,\r\n\t\t\t\t\tcontery = this.tempSet.canvasArea[nth-1][5]/2,\r\n\t\t\t\t\timgx = Math.round(conterx - ((conterx-this.canvasSet.imgPosition[nth-1][1])*imgz/imgzo)),\r\n\t\t\t\t\timgy = Math.round(contery - ((contery-this.canvasSet.imgPosition[nth-1][2])*imgz/imgzo));\r\n\t\t\t\tthis.addimg(nth,this.canvasSet.imgPosition[nth-1][0],imgx,imgy,imgz,this.canvasSet.imgPosition[nth-1][4]);\r\n\t\t\t}\r\n\t\t},\r\n\t\t//選擇圖片,\r\n\t\tsearchimg: function(nth){// eslint-disable-line no-unused-vars\r\n\t\t\tthis.tempSet.m_nth = nth;\r\n\t\t\tlet box = document.createElement(\"div\");\r\n\t\t\t\tbox.id = \"selectimg\";\r\n\t\t\t\tbox.innerHTML = document.getElementById(\"tempSearchImg\").innerHTML;\r\n\t\t\tdocument.body.appendChild(box);\r\n\t\t}\r\n\t\t/*var selectimg: function(nth){\r\n\t\t\tthis.tempSet.m_nth = nth;\r\n\t\t\tlet box = document.createElement(\"div\");\r\n\t\t\t\tbox.id = \"selectimg\";\r\n\t\t\t\tbox.innerHTML = document.getElementById(\"tempSelectImg\").innerHTML;\r\n\t\t\tdocument.body.appendChild(box);\r\n\t\t}*/,\r\n\t\tcanvas_Width: function(){// eslint-disable-line no-unused-vars\r\n\t\t\tif(this.canvas_check(this.canvasWidth)){\r\n\t\t\t\tthis.canvasSet.point[0][this.canvasSet.point[0].length-1] = this.canvasWidth;\r\n\t\t\t\tthis.resetCanvas(this.canvasSet.canvasPosition.length);\r\n\t\t\t}\r\n\t\t\tthis.canvasWidth = this.canvasSet.point[0][this.canvasSet.point[0].length-1];\r\n\t\t},\r\n\t\tcanvas_Height: function(){// eslint-disable-line no-unused-vars\r\n\t\t\tif(this.canvas_check(this.canvasHeight)){\r\n\t\t\t\tthis.canvasSet.point[1][this.canvasSet.point[1].length-1] = this.canvasHeight;\r\n\t\t\t\tthis.resetCanvas(this.canvasSet.canvasPosition.length);\r\n\t\t\t}\r\n\t\t\tthis.canvasHeight = this.canvasSet.point[1][this.canvasSet.point[1].length-1];\r\n\t\t},\r\n\t\tcanvas_line_Width: function(){// eslint-disable-line no-unused-vars\r\n\t\t\tif(this.canvas_check()){\r\n\t\t\t\t//this.canvasSet.spacing = this.canvaslinewidth;\r\n\t\t\t\tthis.resetCanvas(this.canvasSet.canvasPosition.length);\r\n\t\t\t}else{\r\n\t\t\t\tif(this.canvasSet.spacing>3000){\r\n\t\t\t\t\tthis.canvasSet.spacing=3000;\r\n\t\t\t\t}else if(this.canvasSet.spacing<0){\r\n\t\t\t\t\tthis.canvasSet.spacing=0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconsole.log(this.canvasSet.spacing);\r\n\t\t\t//this.canvaslinewidth = this.canvasSet.spacing;\r\n\t\t},\r\n\t\tcanvas_check: function(value){\r\n\t\t\tif(value>3000){\r\n\t\t\t\talert(\"勿超過3000\");\r\n\t\t\t\treturn false;\r\n\t\t\t}else if(value<0){\r\n\t\t\t\talert(\"勿為負數\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\tchangeTEST: function(){\r\n\t\t\tconsole.log(\"start\");\r\n\t\t},\r\n\t\tchangeBox: function(arr){\r\n\t\t\t//arr = JSON.parse(JSON.stringify(arr));\r\n\t\t\tthis.tempSet.canvasPositionCustom=[];\r\n\t\t\t//this.addboxSelect();\r\n\t\t\tthis.canvasSet.point = arr.point;\r\n\t\t\t//console.log(arr.point[0]);\r\n\t\t\tthis.canvasSet.canvasPosition = arr.canvasPosition;\r\n\t\t\t//if(!document.getElementsByName('canvasWidth')[0].value == false){\r\n\t\t\tif(this.canvasWidth!=0){\r\n\t\t\t\tlet mag = this.canvasWidth / this.canvasSet.point[0][this.canvasSet.point[0].length-1];\r\n\t\t\t\tconsole.log(this.canvasWidth);\r\n\t\t\t\tconsole.log(mag);\r\n\t\t\t\tfor(let i=0;i<this.canvasSet.point[0].length;i++){\r\n\t\t\t\t\tthis.canvasSet.point[0][i]=this.canvasSet.point[0][i]*mag;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tthis.canvasWidth = this.canvasSet.point[0][this.canvasSet.point[0].length-1];\r\n\t\t\t}\r\n\t\t\t//if(!document.getElementsByName('canvasHeight')[0].value == false){\r\n\t\t\tif(this.canvasHeight!=0){\r\n\t\t\t\tlet mag = this.canvasHeight / this.canvasSet.point[1][this.canvasSet.point[1].length-1];\r\n\t\t\t\tconsole.log(mag);\r\n\t\t\t\tfor(let i=0;i<this.canvasSet.point[1].length;i++){\r\n\t\t\t\t\tthis.canvasSet.point[1][i]=this.canvasSet.point[1][i]*mag;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tthis.canvasHeight = this.canvasSet.point[1][this.canvasSet.point[1].length-1];\r\n\t\t\t}\r\n\t\t\t//if(!this.canvasSet.spacing)this.canvasSet.spacing = 0;\r\n\t\t\tthis.resetCanvas(this.canvasSet.canvasPosition.length,true);\r\n\t\t},\r\n\t\tmakeSVG: function(tag, attrs) {\r\n\t\t\tlet box = document.createElement(\"div\");\r\n\t\t\tlet el= document.createElementNS('http://www.w3.org/2000/svg', tag);\r\n\t\t\tfor (let k in attrs)\r\n\t\t\t\tel.setAttribute(k, attrs[k]);\r\n\t\t\t\tbox.appendChild(el);\r\n\t\t\treturn box.innerHTML;\r\n\t\t},\r\n\t\tcanvasCustom: function(x,y){// eslint-disable-line no-unused-vars\r\n\t\t\tif(document.getElementById(\"canvasCustom\"+x+y).className == 'lock')return false;\r\n\t\t\tif(!this.tempSet.canvasCustom_isDown){\r\n\t\t\t\tthis.tempSet.canvasCustom_x = x;\r\n\t\t\t\tthis.tempSet.canvasCustom_y = y;\r\n\t\t\t\tthis.tempSet.canvasCustom_isDown=true;\r\n\t\t\t}else{\r\n\t\t\t\tlet tmp_x = this.tempSet.canvasCustom_x,\r\n\t\t\t\t\ttmp_y = this.tempSet.canvasCustom_y,\r\n\t\t\t\t\ttemp_error = false;\r\n\t\t\t\tif(this.tempSet.canvasCustom_x>x){\r\n\t\t\t\t\tthis.tempSet.canvasCustom_x = x;\r\n\t\t\t\t\tx = tmp_x;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.tempSet.canvasCustom_y>y){\r\n\t\t\t\t\tthis.tempSet.canvasCustom_y = y;\r\n\t\t\t\t\ty = tmp_y;\r\n\t\t\t\t}\r\n\t\t\t\tfor(let i=this.tempSet.canvasCustom_x;i<=x;i++){\r\n\t\t\t\t\tfor(let j=this.tempSet.canvasCustom_y;j<=y;j++){\r\n\t\t\t\t\t\tif(document.getElementById(\"canvasCustom\"+i+j).className == 'lock'){\r\n\t\t\t\t\t\t\ttemp_error = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(temp_error){\r\n\t\t\t\t\talert(\"選取範圍重複\");\r\n\t\t\t\t\tthis.tempSet.canvasCustom_isDown=false;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tlet colorStr=\"\";\r\n\t\t\t\tlet r = function(){return (Math.floor(Math.random()*224+16)).toString(16)};\r\n\t\t\t\t//產生一個六位的字串\r\n\t\t\t\tcolorStr = \"#\"+r()+r()+r();\r\n\t\t\t\tfor(let i=this.tempSet.canvasCustom_x;i<=x;i++){\r\n\t\t\t\t\tfor(let j=this.tempSet.canvasCustom_y;j<=y;j++){\r\n\t\t\t\t\t\tdocument.getElementById(\"canvasCustom\"+i+j).className = 'lock';\r\n\t\t\t\t\t\tdocument.getElementById(\"canvasCustom\"+i+j).style.backgroundColor=colorStr;\r\n\t\t\t\t\t\tdocument.getElementById(\"canvasCustom\"+i+j).disabled=\"disabled\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.tempSet.canvasPositionCustom.push([this.tempSet.canvasCustom_x,this.tempSet.canvasCustom_y,x+1,y+1])\r\n\t\t\t\tthis.tempSet.canvasCustom_isDown=false;\r\n\t\t\t\tif(document.getElementsByClassName(\"lock\").length==100){\r\n\t\t\t\t\tlet point=[[0,96,192,288,384,480,576,672,768,864,960],[0,96,192,288,384,480,576,672,768,864,960]];\r\n\t\t\t\t\tlet canvasPosition=[[],[]];\r\n\t\t\t\t\tlet arr=[];\r\n\t\t\t\t\tfor(let i=0;i<this.tempSet.canvasPositionCustom.length;i++){\r\n\t\t\t\t\t\tarr = arr.concat(this.tempSet.canvasPositionCustom[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(let i=0;i<arr.length/2;i++){\r\n\t\t\t\t\t\tcanvasPosition[0].push(arr[i*2]);\r\n\t\t\t\t\t\tif(i*2+1<arr.length)canvasPosition[1].push(arr[i*2+1]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcanvasPosition[0]=canvasPosition[0].filter( (el, i, arr) => arr.indexOf(el) === i).sort(function (a, b) {return a - b});\r\n\t\t\t\t\tcanvasPosition[1]=canvasPosition[1].filter( (el, i, arr) => arr.indexOf(el) === i).sort(function (a, b) {return a - b});\r\n\t\t\t\t\tarr = {point:[[],[]]};\r\n\t\t\t\t\tfor(let i=0;i<canvasPosition[0].length;i++){\r\n\t\t\t\t\t\tarr.point[0].push(point[0][canvasPosition[0][i]]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(let i=0;i<canvasPosition[1].length;i++){\r\n\t\t\t\t\t\tarr.point[1].push(point[1][canvasPosition[1][i]]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(let i=0;i<this.tempSet.canvasPositionCustom.length;i++){\r\n\t\t\t\t\t\tfor(let j=0;j<canvasPosition[0].length;j++){\r\n\t\t\t\t\t\t\tif(this.tempSet.canvasPositionCustom[i][0]==canvasPosition[0][j])this.tempSet.canvasPositionCustom[i][0]=j;\r\n\t\t\t\t\t\t\tif(this.tempSet.canvasPositionCustom[i][2]==canvasPosition[0][j])this.tempSet.canvasPositionCustom[i][2]=j;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor(let j=0;j<canvasPosition[1].length;j++){\r\n\t\t\t\t\t\t\tif(this.tempSet.canvasPositionCustom[i][1]==canvasPosition[1][j])this.tempSet.canvasPositionCustom[i][1]=j;\r\n\t\t\t\t\t\t\tif(this.tempSet.canvasPositionCustom[i][3]==canvasPosition[1][j])this.tempSet.canvasPositionCustom[i][3]=j;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tarr.canvasPosition=this.tempSet.canvasPositionCustom;\r\n\t\t\t\t\tthis.changeBox(arr);\r\n\t\t\t\t\tfor(let k=0;k<100;k++){\r\n\t\t\t\t\t\tdocument.getElementsByClassName(\"lock\")[0].removeAttribute('style');\r\n\t\t\t\t\t\tdocument.getElementsByClassName(\"lock\")[0].removeAttribute('disabled');\r\n\t\t\t\t\t\tdocument.getElementsByClassName(\"lock\")[0].removeAttribute('class');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmadeSVG: function(nth){\r\n\t\t\t//return \"456\";\r\n\t\t\t//console.log(this.todos[nth])\r\n\t\t\t//return nth;\r\n\t\t\tlet boxpos = this.todos[nth].point;\r\n\t\t\tlet boxset = this.todos[nth].canvasPosition;\r\n\t\t\tlet boxzoomx = 50/boxpos[0][boxpos[0].length-1];\r\n\t\t\tlet boxzoomy = 50/boxpos[1][boxpos[1].length-1];\r\n\t\t\tlet box = \"\";\r\n\t\t\tfor(let j=0;j<this.todos[nth].canvasPosition.length;j++){\r\n\t\t\t\tlet rect = this.makeSVG('rect', {x:boxpos[0][boxset[j][0]]*boxzoomx+1, y:boxpos[1][boxset[j][1]]*boxzoomy+1, height:(boxpos[1][boxset[j][3]]-boxpos[1][boxset[j][1]])*boxzoomx-2, width:(boxpos[0][boxset[j][2]]-boxpos[0][boxset[j][0]])*boxzoomy-2, fill:\"#666\"});\r\n\t\t\t\t//box.getElementsByTagName(\"svg\")[0].appendChild(rect);\r\n\t\t\t\tbox += rect;\r\n\t\t\t}\r\n\t\t\t//console.log(this.todos[nth].point);\r\n\t\t\treturn box;\r\n\t\t},\r\n\t\taddboxSelect: function(){\r\n\t\t\t//let box = document.createElement(\"li\");\r\n\t\t\tlet box = '<li id=\"canvasCustomArea\">';\r\n\t\t\t\t//box.setAttribute(\"style\",'width:220px;height:220px;');\r\n\t\t\tlet htmltmp = '<div style=\"width:100%;line-height:30px;\">自訂圖片配置</div>';\r\n\t\t\tfor(let i=0;i<10;i++){\r\n\t\t\t\tfor(let j=0;j<10;j++){\r\n\t\t\t\t\tlet button = '<button id=\"canvasCustom'+j+i+'\" type=\"button\" v-on:click=\\'canvasCustom('+j+','+i+')\\'></button>';\r\n\t\t\t\t\thtmltmp += button;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//box.id = 'canvasCustomArea';\r\n\t\t\t//box.innerHTML = htmltmp;\r\n\t\t\tbox += htmltmp +'</li><li><button type=\"button\" v-on:click=\"addText()\">TEXT</button></li>';\r\n\t\t\t//this.bsarea.appendChild(box);\r\n\t\t\tthis.bsarea += box;\r\n\t\t\t/*let box2 = document.createElement(\"li\");\r\n\t\t\t\tbox2.innerHTML = '<button type=\"button\" v-on:click=\"addText()\">TEXT</button>';\r\n\t\t\tthis.bsarea.appendChild(box2);*/\r\n\t\t},\r\n\t\t//新增文字,\r\n\t\taddText: function(arr,nth){\r\n\t\t\tif(this.canvasSet.point.length == 0){\r\n\t\t\t\talert('請先建立畫布');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tarr = arr || {text:\"\",x:0,y:0,size:36,font:\"'Noto\\\\ Sans\\\\ TC'\",color:\"#000\",weight:400};\r\n\t\t\tnth = nth+1||document.getElementsByClassName(\"text-block\").length+1;\r\n\t\t\tlet box = document.createElement(\"div\");\r\n\t\t\t\tbox.id = \"textBlock\"+nth;\r\n\t\t\t\tbox.className=\"text-block\";\r\n\t\t\t\tbox.innerHTML = document.getElementById(\"tempSelectText\").innerHTML;\r\n\t\t\t\tbox.style.top = \"0\";\r\n\t\t\t\tbox.style.left = \"0\";\r\n\t\t\t\tbox.getElementsByTagName(\"Button\")[0].setAttribute(\"onmousedown\",'text_down('+nth+')');\r\n\t\t\t\tbox.getElementsByClassName(\"picker\")[0].setAttribute(\"class\",\"picker picker\"+nth);\r\n\t\t\t\tbox.getElementsByClassName(\"picker\")[0].setAttribute(\"data-nth\",nth);\r\n\t\t\t\tbox.setAttribute(\"onmouseup\",'up()');\r\n\t\t\tlet text = box.getElementsByClassName(\"text\")[0];\r\n\t\t\t\ttext.setAttribute(\"onchange\",'textValue('+nth+')');\r\n\t\t\t\ttext.value = arr.text;\r\n\t\t\t\ttext.style.color = arr.color;\r\n\t\t\tlet size = box.getElementsByClassName(\"size\")[0];\r\n\t\t\t\tsize.setAttribute(\"onchange\",'textSize('+nth+')');\r\n\t\t\tlet type = box.getElementsByClassName(\"font-type\")[0];\r\n\t\t\t\ttype.setAttribute(\"onchange\",'textFont('+nth+')');\r\n\t\t\tlet weight = box.getElementsByClassName(\"font-weight\")[0];\r\n\t\t\t\tweight.setAttribute(\"onchange\",'textWeight('+nth+')');\r\n\t\t\tlet scale = this.setScale();\r\n\t\t\t\tbox.getElementsByClassName(\"text-control\")[0].setAttribute(\"style\",'transform: scale('+scale+')');\r\n\t\t\tdocument.getElementsByClassName(\"text-area\")[0].appendChild(box);\r\n\t\t\tif(!this.canvasSet.text)this.canvasSet.text = [];\r\n\t\t\t(this.canvasSet.text.length<nth)?this.canvasSet.text.push(arr):this.canvasSet.text[nth-1]=arr;\r\n\t\t\tthis.textValue(nth);\r\n\t\t\tthis.textSize(nth,arr.size);\r\n\t\t\tthis.textFont(nth,arr.font);\r\n\t\t\tthis.textWeight(nth,arr.wdight);\r\n\t\t\tdocument.getElementById(\"textBlock\"+nth).getElementsByClassName(\"picker\")[0].style.backgroundColor = arr.color;\r\n\t\t\tdocument.getElementById(\"textBlock\"+nth).style.top = arr.y + \"px\";\r\n\t\t\tdocument.getElementById(\"textBlock\"+nth).style.left = arr.x + \"px\";\r\n\t\t\t/*Colorpicker.create({\r\n\t\t\t\tbindClass:'picker'+nth, // 这里的picker可随意填 不须要跟我同样\r\n\t\t\t\tinitColor:arr.color,\r\n\t\t\t\tchange: function(elem,hex){\r\n\t\t\t\t  // elem: 绑定的元素\r\n\t\t\t\t  // hex：当前选中颜色的hex值\r\n\t\t\t\t  elem.style.backgroundColor = hex;\r\n\t\t\t\t  let nth = elem.getAttribute(\"data-nth\");\r\n\t\t\t\t  document.getElementById(\"textBlock\"+nth).getElementsByClassName(\"text\")[0].style.color = hex;\r\n\t\t\t\t  this.canvasSet.text[nth-1].color = hex;\r\n\t\t\t\t}\r\n\t\t\t})*/\r\n\t\t},\r\n\t\ttextValue: function(nth){\r\n\t\t\tlet text = document.getElementById(\"textBlock\"+nth).getElementsByClassName(\"text\")[0];\r\n\t\t\t\ttext.setAttribute(\"size\",text.value.length*2);\r\n\t\t\t\tif(text.value.length==0)text.setAttribute(\"size\",5);\r\n\t\t\tthis.canvasSet.text[nth-1].text = text.value;\r\n\t\t},\r\n\t\ttextSize: function(nth,size){\r\n\t\t\tlet text = document.getElementById(\"textBlock\"+nth).getElementsByClassName(\"text\")[0];\r\n\t\t\t\tsize = size||document.getElementById(\"textBlock\"+nth).getElementsByClassName(\"size\")[0].value;\r\n\t\t\tthis.canvasSet.text[nth-1].size = size;\r\n\t\t\ttext.style.fontSize = size+\"px\";\r\n\t\t\ttext.style.height = size+\"px\";\r\n\t\t\ttext.style.lineHeight = size+\"px\";\r\n\t\t},\r\n\t\ttextFont: function(nth,font){\r\n\t\t\tlet text = document.getElementById(\"textBlock\"+nth).getElementsByClassName(\"text\")[0];\r\n\t\t\t\tfont = font||document.getElementById(\"textBlock\"+nth).getElementsByClassName(\"font-type\")[0].value;\r\n\t\t\tthis.canvasSet.text[nth-1].font = font;\r\n\t\t\ttext.style.fontFamily = font;\r\n\t\t},\r\n\t\ttextWeight: function(nth,weight){\r\n\t\t\tlet text = document.getElementById(\"textBlock\"+nth).getElementsByClassName(\"text\")[0];\r\n\t\t\t\tweight = weight||document.getElementById(\"textBlock\"+nth).getElementsByClassName(\"font-weight\")[0].value;\r\n\t\t\tthis.canvasSet.text[nth-1].weight = weight;\r\n\t\t\ttext.style.fontWeight = weight;\r\n\t\t},\r\n\t\tgetImg: function() {\r\n\t\t\t// 發送 Ajax 查詢請求並處理\r\n\t\t\tvar request = new XMLHttpRequest();\r\n\t\t\trequest.open(\"GET\", \"img.php?img=\" + document.getElementById(\"keyword\").value);\r\n\t\t\trequest.send();\r\n\t\t\tdocument.body.removeChild(document.getElementById('selectimg'));\r\n\t\t\trequest.onreadystatechange = function() {\r\n\t\t\t\t// 伺服器請求完成\r\n\t\t\t\tif (request.readyState === 4) {\r\n\t\t\t\t\t// 伺服器回應成功\r\n\t\t\t\t\tif (request.status === 200) {\r\n\t\t\t\t\t\tvar type = request.getResponseHeader(\"Content-Type\");   // 取得回應類型\r\n\r\n\t\t\t\t\t\t// 判斷回應類型\r\n\t\t\t\t\t\tif (type.indexOf(\"application/json\") === 0) {\t\t\t   \r\n\t\t\t\t\t\t\tlet data = JSON.parse(request.responseText);\r\n\t\t\t\t\t\t\tlet box = document.createElement(\"div\");\r\n\t\t\t\t\t\t\t\tbox.id = \"selectimg\";\r\n\t\t\t\t\t\t\t\tbox.innerHTML = document.getElementById(\"tempSelectImg\").innerHTML;\r\n\t\t\t\t\t\t\tif (data.images) {\r\n\t\t\t\t\t\t\t\tlet images = \"\";\r\n\t\t\t\t\t\t\t\tfor(let i=0;i<data.images.length;i++){\r\n\t\t\t\t\t\t\t\t\timages+='<li><img src=\"images/'+data.images[i]+'\" v-on:click=\"addimg(tempSet.m_nth,\\''+data.images[i]+'\\',0,0,1,0);document.body.removeChild(document.getElementById(\\'selectimg\\'))\"></li>';\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbox.getElementsByTagName(\"ul\")[0].innerHTML = images;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tbox.getElementsByTagName(\"ul\")[0].innerHTML = data.msg;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdocument.body.appendChild(box);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\talert(\"發生錯誤: \" + request.status);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\t\t//var arr = '{\"point\":[[0,400,800],[0,400,800]],\"canvasPosition\":[[0,0,1,1],[0,1,1,2],[1,0,2,2]],\"imgPosition\":[[0,0,1,\"img.jpg\"],[0,0,1,\"img2.jpg\"]],\"spacing\":1}';\r\n\t\t/*var canvasSet = {};\r\n\t\tvar tempSet = {\r\n\t\t\t\"canvasArea\":[],\r\n\t\t\t\"canvasPositionCustom\":[],\r\n\t\t\t//紀錄滑鼠操作事件\r\n\t\t\t\"text_isDown\":false,\r\n\t\t\t\"control_isDown\":false,\r\n\t\t\t\"ponitxy_isDown\":false,\r\n\t\t\t\"canvasCustom_isDown\":false,\r\n\t\t\t//紀錄滑鼠操作數據-自訂區塊原始起點\r\n\t\t\t\"canvasCustom_x\":0,\r\n\t\t\t\"canvasCustom_y\":0,\r\n\t\t\t//紀錄滑鼠操作數據\r\n\t\t\t\"m_nth\":0,\r\n\t\t\t\"m_move_x\":0,\r\n\t\t\t\"m_move_y\":0,\r\n\t\t\t\"m_down_x\":0,\r\n\t\t\t\"m_down_y\":0,\r\n\t\t\t\"m_nth_x\":0,\r\n\t\t\t\"m_nth_y\":0\r\n\t\t};\r\n\t\tthis.addboxSelect();\r\n\t\tif(!canvasSetData.value == false){\r\n\t\t\t//載入原始設定\r\n\t\t\tcanvasSet = JSON.parse(canvasSetData.value);\r\n\t\t\tthis.resetCanvas(this.canvasSet.canvasPosition.length);\r\n\t\t\t//建立文字資料\r\n\t\t\tif(!this.canvasSet.text)this.canvasSet.text = [];\r\n\t\t\tif(this.canvasSet.text.length > 0){\r\n\t\t\t\tfor(let i=0;i<this.canvasSet.text.length;i++){\r\n\t\t\t\t\tthis.addText(this.canvasSet.text[i],i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.onresize = function(){\r\n\t\t\tif(!this.canvasSet.canvasPosition == false)this.resetCanvas(this.canvasSet.canvasPosition.length);\r\n\t\t}*/\r\n</script>\r\n\r\n<style>\r\n\tbody{\r\n\t\tmargin: 0;\r\n\t\tposition: relative;\r\n\t\tbackground-color: #666;\r\n\t}\r\n\tul{\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t}\r\n\tcanvas:not(#finalCanvas){\r\n\t\tdisplay: block;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t}\r\n\t#finalCanvas{\r\n\t\tvertical-align: middle;\r\n\t\topacity: 0;\r\n\t}\r\n\t#canvasCustomArea{\r\n\t\twidth: 220px;\r\n\t\t/*height: 220px;*/\r\n\t\tpadding: 10px;\r\n\t\tflex-wrap: wrap;\r\n\t\toverflow: auto;\r\n\t\theight: auto;\r\n\t}\r\n\t#canvasCustomArea button{\r\n\t\twidth: 22px;\r\n\t\theight: 22px;\r\n\t\tfloat: left;\r\n\t\tborder-width: 1px;\r\n\t}\r\n\t.box-select{\r\n\t\twidth: 240px;\r\n\t\theight: 100vh;\r\n\t\tpadding: 0 15px;\r\n\t\tfloat: left;\r\n\t\tborder-right: 1px solid #999;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\t.box-select li{\r\n\t\twidth: 80px;\r\n\t\theight: 80px;\r\n\t\tfloat: left;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\t.box-select button{\r\n\t\twidth: 60px;\r\n\t\theight: 60px;\r\n\t\tpadding: 0;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.box-select svg{\r\n\t\twidth: 50px;\r\n\t\theight: 50px;\r\n\t\tmargin: 3px;\r\n\t}\r\n\t.edit-box-wrap{\r\n\t\twidth: calc(100vw - 300px);\r\n\t\theight: 100vh;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tfloat: left;\r\n\t}\r\n\t.edit-box{\r\n\t\tposition: relative;\r\n\t\tbox-shadow: 0 0 5px #666;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\t.button-area{\r\n\t\twidth: calc(100vw - 301px);\r\n\t\tposition: fixed;\r\n\t\tright: 0;\r\n\t\ttop: 0;\r\n\t\tz-index: 100;\r\n\t\tpadding: 10px 15px;\r\n\t\tbackground-color: #fff;\r\n\t\tbox-shadow: 0 2px 2px rgba(0,0,0,0.2);\r\n\t}\r\n\t.button-area button, .button-area input{\r\n\t\twidth: 80px;\r\n\t\ttext-align: center;\r\n\t\t/*transform: skewY(30deg);\r\n\t\ttransform-origin: top left;*/\r\n\t}\r\n\t.button-area button{\r\n\t\tfloat: right;\r\n\t}\r\n\t.control-area, .text-area{\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t}\r\n\t.text-area{\r\n\t\twidth: 0;\r\n\t\theight: 0;\r\n\t}\r\n\t.text-block:hover{\r\n\t\tz-index: 100;\r\n\t}\r\n\t.control-area div, .text-area .text-block{\r\n\t\tposition: absolute;\r\n\t}\r\n\t.control-area div:not(.pointxy){\r\n\t\tborder: 1px dashed rgba(0,0,0,0.2);\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t.control-area div button{\r\n\t\tposition: absolute;\r\n\t\ttop: 5px;\r\n\t\tright: 5px;\r\n\t\tdisplay: none;\r\n\t\tbackground-color: #2aa4b9;\r\n\t\tcolor: #fff;\r\n\t\tcursor: pointer;\r\n\t\tborder-width: 0;\r\n\t\tbox-shadow: 0 1px 2px #666;\r\n\t\ttransform-origin:right top;\r\n\t}\r\n\t.text-area div button{\r\n\t\tbackground-color: #2aa4b9;\r\n\t\tcolor: #fff;\r\n\t\tcursor: pointer;\r\n\t\tborder-width: 0;\r\n\t\tbox-shadow: 0 1px 2px #666;\r\n\t}\r\n\t.control-area div:hover button, .text-block:hover .text-control, .text-area input[type=\"text\"]:focus + .text-control{\r\n\t\tdisplay: block;\r\n\t}\r\n\t.text-area input[type=\"text\"]{\r\n\t\twidth: auto;\r\n\t\theight: auto;\r\n\t\tpadding: 0;\r\n\t\tborder: 0;\r\n\t\toutline: 1px dashed rgba(0,0,0,0.4);\r\n\t\tbackground-color: transparent;\r\n\t}\r\n\t.text-control{\r\n\t\tdisplay: none;\r\n\t\tbackground-color: rgba(0,0,0,0.4);\r\n\t\tpadding: 10px;\r\n\t\tfont-size: 24px;\r\n\t\ttransform-origin: 0 0;\r\n\t\twidth: 160px;\r\n\t}\r\n\t.text-control input, .text-control select{\r\n\t\twidth: 160px;\r\n\t\tbox-sizing: border-box;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.selectimg-area{\r\n\t\tposition: fixed;\r\n\t\theight: 100vh;\r\n\t\twidth: 100vw;\r\n\t\tz-index: 102;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tbackground-color: rgba(0,0,0,0.5);\r\n\t}\r\n\t.selectimg{\r\n\t\tposition: relative;\r\n\t\twidth: 800px;\r\n\t\tpadding: 30px 50px;\r\n\t\tbackground-color: rgba(0,0,0,0.4);\r\n\t\tbox-shadow: 0 0 2px rgba(0,0,0,0.5);\r\n\t\tmax-height: 640px;\r\n\t\toverflow-y: auto;\r\n\t}\r\n\t.selectimg li{\r\n\t\tfloat: left;\r\n\t\twidth: 20%;\r\n\t\tpadding: 10px;\r\n\t\tbox-sizing: border-box;\r\n\t\tlist-style: none;\r\n\t}\r\n\t.selectimg img{\r\n\t\twidth: 100%;\r\n\t}\r\n\t.selectimg button:first-of-type{\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tright: 0;\r\n\t}\r\n\t.pointxy{\r\n\t\twidth: 8px;\r\n\t\theight: 8px;\r\n\t\tborder: 4px solid #999;\r\n\t\tborder-radius: 8px;\r\n\t\tmargin-top: -8px;\r\n\t\tmargin-left: -8px;\r\n\t\tbackground-color: #fff;\r\n\t\tposition: absolute;\r\n\t}\r\n\t.pointxy:hover{\r\n\t\tcursor: pointer;\r\n\t\tborder: 4px solid #2aa4b9;\r\n\t\tbox-shadow: 0 1px 3px #333;\r\n\t}\r\n\tdiv.canvas-text{\r\n\t\tposition: relative;\r\n\t}\r\n\t#tempSelectImg,#tempSearchImg,#tempShow,#tempSelectText{\r\n\t\tdisplay:none;\r\n\t}\r\n</style>\r\n"]}]}
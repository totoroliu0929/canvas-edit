{"remainingRequest":"C:\\git\\workspace\\vue\\canvas-edit\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\git\\workspace\\vue\\canvas-edit\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\git\\workspace\\vue\\canvas-edit\\src\\App.vue","mtime":1635394175213},{"path":"C:\\git\\workspace\\vue\\canvas-edit\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1635392660698},{"path":"C:\\git\\workspace\\vue\\canvas-edit\\node_modules\\babel-loader\\lib\\index.js","mtime":1635392663460},{"path":"C:\\git\\workspace\\vue\\canvas-edit\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1635392660698},{"path":"C:\\git\\workspace\\vue\\canvas-edit\\node_modules\\vue-loader\\lib\\index.js","mtime":1635392645713}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovL2ltcG9ydCBIZWxsb1dvcmxkIGZyb20gJy4vY29tcG9uZW50cy9IZWxsb1dvcmxkLnZ1ZScNCg0KZXhwb3J0IGRlZmF1bHQgew0KCW5hbWU6ICdBcHAnLA0KCS8qY29tcG9uZW50czogew0KCQlIZWxsb1dvcmxkDQoJfSovDQoJLy9wcm9wczpbJ3Byb3AxJywncHJvcDInXSwNCgkvL2NyZWF0ZWQ6IGZ1bmN0aW9uICgpIHsNCgltb3VudGVkOiBmdW5jdGlvbigpIHsNCgkJLy9hbGVydCgne3twcm9wMX19IGNyZWF0ZWQuJyk7DQoJCS8vaWYoIXRoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uID09IGZhbHNlKXRoaXMucmVzZXRDYW52YXModGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb24ubGVuZ3RoKTsNCgkJLy90aGlzLmFkZGJveFNlbGVjdCgpOw0KCQkvL2lmKCFjYW52YXNTZXREYXRhLnZhbHVlID09IGZhbHNlKXsNCgkJLy9jb25zb2xlLmxvZyh0aGlzLnRvZG9zKTsNCgkJaWYodGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb24ubGVuZ3RoID4gMCl7DQoJCQkvL+i8ieWFpeWOn+Wni+ioreWumg0KCQkJLy9jYW52YXNTZXQgPSBKU09OLnBhcnNlKGNhbnZhc1NldERhdGEudmFsdWUpOw0KCQkJdGhpcy5yZXNldENhbnZhcyh0aGlzLmNhbnZhc1NldC5jYW52YXNQb3NpdGlvbi5sZW5ndGgpOw0KCQkJLy9zZXRUaW1lb3V0KCd0aGlzLnJlc2V0Q2FudmFzKHRoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uLmxlbmd0aCknLDUwMCk7DQoJCQkvL+W7uueri+aWh+Wtl+izh+aWmQ0KCQkJLyppZighdGhpcy5jYW52YXNTZXQudGV4dCl0aGlzLmNhbnZhc1NldC50ZXh0ID0gW107DQoJCQlpZih0aGlzLmNhbnZhc1NldC50ZXh0Lmxlbmd0aCA+IDApew0KCQkJCWZvcihsZXQgaT0wO2k8dGhpcy5jYW52YXNTZXQudGV4dC5sZW5ndGg7aSsrKXsNCgkJCQkJdGhpcy5hZGRUZXh0KHRoaXMuY2FudmFzU2V0LnRleHRbaV0saSk7DQoJCQkJfQ0KCQkJfSovDQoJCX0NCgkJLyp3aW5kb3cub25yZXNpemUgPSBmdW5jdGlvbigpew0KCQkJaWYoIXRoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uID09IGZhbHNlKXRoaXMucmVzZXRDYW52YXModGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb24ubGVuZ3RoKTsNCgkJfSovDQoJfSwNCgkvKmNvbXB1dGVkOiB7DQoJCS8vIGEgY29tcHV0ZWQgZ2V0dGVyDQoJCXJldmVyc2VkTWVzc2FnZTogZnVuY3Rpb24gKCkgew0KCQkJLy8gYHRoaXNgIHBvaW50cyB0byB0aGUgdm0gaW5zdGFuY2UNCgkJCXJldHVybiB0aGlzLm1lc3NhZ2Uuc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKQ0KCQl9LA0KCQlic2FyZWEoKSB7DQoJCQkvL3JldHVybiAnPGJ1dHRvbj48L2J1dHRvbiA+Jw0KCQkJcmV0dXJuIHRoaXMuYWRkYm94U2VsZWN0KCk7DQoJCX0NCgl9LCovDQoJZGF0YSgpew0KCQlyZXR1cm57DQoJCQljb250cm9sczpbXSwNCgkJCXBvaW50eHlzOltdLA0KCQkJdG9kb3M6IFsNCgkJCQl7InBvaW50IjpbWzAsNDgwLDk2MF0sWzAsOTYwXV0sImNhbnZhc1Bvc2l0aW9uIjpbWzAsMCwxLDFdLFsxLDAsMiwxXV19LA0KCQkJCXsicG9pbnQiOltbMCw5NjBdLFswLDQ4MCw5NjBdXSwiY2FudmFzUG9zaXRpb24iOltbMCwwLDEsMV0sWzAsMSwxLDJdXX0sDQoJCQkJeyJwb2ludCI6W1swLDI0MCw0ODAsOTYwXSxbMCw5NjBdXSwiY2FudmFzUG9zaXRpb24iOltbMCwwLDEsMV0sWzEsMCwyLDFdLFsyLDAsMywxXV19LA0KCQkJCXsicG9pbnQiOltbMCw5NjBdLFswLDI0MCw0ODAsOTYwXV0sImNhbnZhc1Bvc2l0aW9uIjpbWzAsMCwxLDFdLFswLDEsMSwyXSxbMCwyLDEsM11dfSwNCgkJCQl7InBvaW50IjpbWzAsNDgwLDk2MF0sWzAsNDgwLDk2MF1dLCJjYW52YXNQb3NpdGlvbiI6W1swLDAsMSwxXSxbMCwxLDEsMl0sWzEsMCwyLDJdXX0sDQoJCQkJeyJwb2ludCI6W1swLDQ4MCw5NjBdLFswLDQ4MCw5NjBdXSwiY2FudmFzUG9zaXRpb24iOltbMCwwLDEsMV0sWzEsMCwyLDFdLFswLDEsMiwyXV19LA0KCQkJCXsicG9pbnQiOltbMCw0ODAsOTYwXSxbMCw0ODAsOTYwXV0sImNhbnZhc1Bvc2l0aW9uIjpbWzAsMCwyLDFdLFswLDEsMSwyXSxbMSwxLDIsMl1dfSwNCgkJCQl7InBvaW50IjpbWzAsNDgwLDk2MF0sWzAsNDgwLDk2MF1dLCJjYW52YXNQb3NpdGlvbiI6W1swLDAsMSwyXSxbMSwwLDIsMV0sWzEsMSwyLDJdXX0sDQoJCQkJeyJwb2ludCI6W1swLDI0MCw0ODAsNzIwLDk2MF0sWzAsOTYwXV0sImNhbnZhc1Bvc2l0aW9uIjpbWzAsMCwxLDFdLFsxLDAsMiwxXSxbMiwwLDMsMV0sWzMsMCw0LDFdXX0sDQoJCQkJeyJwb2ludCI6W1swLDk2MF0sWzAsMjQwLDQ4MCw3MjAsOTYwXV0sImNhbnZhc1Bvc2l0aW9uIjpbWzAsMCwxLDFdLFswLDEsMSwyXSxbMCwyLDEsM10sWzAsMywxLDRdXX0sDQoJCQkJeyJwb2ludCI6W1swLDQ4MCw5NjBdLFswLDQ4MCw5NjBdXSwiY2FudmFzUG9zaXRpb24iOltbMCwwLDEsMV0sWzEsMCwyLDFdLFswLDEsMSwyXSxbMSwxLDIsMl1dfSwNCgkJCQl7InBvaW50IjpbWzAsNDgwLDk2MF0sWzAsMzIwLDY0MCw5NjBdXSwiY2FudmFzUG9zaXRpb24iOltbMCwwLDEsMV0sWzAsMSwxLDJdLFswLDIsMSwzXSxbMSwwLDIsM11dfSwNCgkJCQl7InBvaW50IjpbWzAsMzIwLDY0MCw5NjBdLFswLDQ4MCw5NjBdXSwiY2FudmFzUG9zaXRpb24iOltbMCwwLDEsMV0sWzEsMCwyLDFdLFsyLDAsMywxXSxbMCwxLDMsMl1dfSwNCgkJCQl7InBvaW50IjpbWzAsMzIwLDY0MCw5NjBdLFswLDQ4MCw5NjBdXSwiY2FudmFzUG9zaXRpb24iOltbMCwwLDMsMV0sWzAsMSwxLDJdLFsxLDEsMiwyXSxbMiwxLDMsMl1dfSwNCgkJCQl7InBvaW50IjpbWzAsNDgwLDk2MF0sWzAsMzIwLDY0MCw5NjBdXSwiY2FudmFzUG9zaXRpb24iOltbMCwwLDEsM10sWzEsMCwyLDFdLFsxLDEsMiwyXSxbMSwyLDIsM11dfQ0KCQkJXSwNCgkJCS8vY2FyZWE6ICcnLA0KCQkJLy9ic2FyZWE6ICcnLA0KCQkJY2FudmFzX2FyZWE6JycsDQoJCQllYXJlYV9zdHlsZTondHJhbnNmb3JtOiBzY2FsZSgxKScsDQoJCQljYW52YXNXaWR0aDowLA0KCQkJY2FudmFzSGVpZ2h0OjAsDQoJCQkvL2NhbnZhc2xpbmV3aWR0aDowLA0KCQkJLy9jYW52YXNTZXQ6IHsicG9pbnQiOltbMCw0ODAsOTYwXSxbMCw0ODAsOTYwXV0sImNhbnZhc1Bvc2l0aW9uIjpbWzAsMCwyLDFdLFswLDEsMSwyXSxbMSwxLDIsMl1dLCJzcGFjaW5nIjowLCJpbWdQb3NpdGlvbiI6W1siaW1hZ2VzLzUzODNfUF8yMDIwMDMyMDEyMjIwOV81LmpwZyIsMCwwLDEsMF0sWyJpbWFnZXMvNTQxNV9QXzIwMjAwMzA3MDEyOTIxXzEuanBnIiwwLDAsMSwwXSxbImltYWdlcy81NDI4X1BfMjAyMDAzMDcwMDI5NDdfMS5qcGciLDAsLTUyLDEsMF1dfSwNCgkJCWNhbnZhc1NldDp7DQoJCQkJInBvaW50IjpbXSwNCgkJCQkiY2FudmFzUG9zaXRpb24iOltdLA0KCQkJCSJzcGFjaW5nIjowLA0KCQkJCSJpbWdQb3NpdGlvbiI6W10NCgkJCX0sDQoJCQl0ZW1wU2V0OiB7DQoJCQkJImNhbnZhc0FyZWEiOltdLA0KCQkJCSJjYW52YXNQb3NpdGlvbkN1c3RvbSI6W10sDQoJCQkJLy/ntIDpjITmu5HpvKDmk43kvZzkuovku7YNCgkJCQkidGV4dF9pc0Rvd24iOmZhbHNlLA0KCQkJCSJjb250cm9sX2lzRG93biI6ZmFsc2UsDQoJCQkJInBvbml0eHlfaXNEb3duIjpmYWxzZSwNCgkJCQkiY2FudmFzQ3VzdG9tX2lzRG93biI6ZmFsc2UsDQoJCQkJLy/ntIDpjITmu5HpvKDmk43kvZzmlbjmk5ot6Ieq6KiC5Y2A5aGK5Y6f5aeL6LW36bueDQoJCQkJImNhbnZhc0N1c3RvbV94IjowLA0KCQkJCSJjYW52YXNDdXN0b21feSI6MCwNCgkJCQkvL+e0gOmMhOa7kem8oOaTjeS9nOaVuOaTmg0KCQkJCSJtX250aCI6MCwNCgkJCQkibV9tb3ZlX3giOjAsDQoJCQkJIm1fbW92ZV95IjowLA0KCQkJCSJtX2Rvd25feCI6MCwNCgkJCQkibV9kb3duX3kiOjAsDQoJCQkJIm1fbnRoX3giOjAsDQoJCQkJIm1fbnRoX3kiOjANCgkJCX0NCgkJfQ0KCX0sDQoJbWV0aG9kczp7DQoJCWFkZENvbW1lbnQ6ZnVuY3Rpb24gKGV2ZW50KSB7DQoJCQlpZihldmVudC50YXJnZXQubm9kZU5hbWUgPT09ICdCVVRUT04nKXsNCgkJCQkvLyDojrflj5bop6blj5Hkuovku7blr7nosaHnmoTlsZ7mgKcNCgkJCQljb25zb2xlLmxvZygxMjMpOw0KCQkJfQ0KCQl9LA0KCQlyZXNldENhbnZhczogZnVuY3Rpb24oc2l6ZSxpbWdSZXBvc2l0aW9uKXsNCgkJCWltZ1JlcG9zaXRpb24gPSBpbWdSZXBvc2l0aW9uIHx8IGZhbHNlOw0KCQkJbGV0IGJhcmVhID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiYnV0dG9uLWFyZWEiKVswXTsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzDQoJCQl0aGlzLmNhbnZhc1dpZHRoID0gdGhpcy5jYW52YXNTZXQucG9pbnRbMF1bdGhpcy5jYW52YXNTZXQucG9pbnRbMF0ubGVuZ3RoLTFdOw0KCQkJdGhpcy5jYW52YXNIZWlnaHQgPSB0aGlzLmNhbnZhc1NldC5wb2ludFsxXVt0aGlzLmNhbnZhc1NldC5wb2ludFsxXS5sZW5ndGgtMV07DQoJCQl0aGlzLmNhbnZhc19hcmVhPScnOw0KCQkJY29uc29sZS5sb2codGhpcy5jYW52YXNXaWR0aCk7DQoJCQkvL+ioreWumueVq+W4g+mhr+ekuue4ruaUvuWAjeeOhw0KCQkJbGV0IHNjYWxlID0gMTsNCgkJCQ0KCQkJbGV0IGVhcmVhX3dyYXBfdyA9IHdpbmRvdy5pbm5lcldpZHRoIC0gMzAwOw0KCQkJbGV0IGVhcmVhX3dyYXBfaCA9IHdpbmRvdy5pbm5lckhlaWdodDsNCgkJCWlmKHRoaXMuY2FudmFzV2lkdGg+ZWFyZWFfd3JhcF93KjAuOSl7DQoJCQkJdGhpcy5lYXJlYV9zdHlsZSA9J3RyYW5zZm9ybTogc2NhbGUoJysoZWFyZWFfd3JhcF93KjAuOS90aGlzLmNhbnZhc1dpZHRoKSsnKSc7DQoJCQkJc2NhbGUgPSAxLyhlYXJlYV93cmFwX3cqMC45L3RoaXMuY2FudmFzV2lkdGgpOw0KCQkJfQ0KCQkJaWYodGhpcy5jYW52YXNIZWlnaHQqKGVhcmVhX3dyYXBfdyowLjkvdGhpcy5jYW52YXNXaWR0aCk+ZWFyZWFfd3JhcF9oKjAuOSl7DQoJCQkJdGhpcy5lYXJlYV9zdHlsZSA9J3RyYW5zZm9ybTogc2NhbGUoJysoZWFyZWFfd3JhcF9oKjAuOS90aGlzLmNhbnZhc0hlaWdodCkrJyknOw0KCQkJCXNjYWxlID0gMS8oZWFyZWFfd3JhcF9oKjAuOS90aGlzLmNhbnZhc0hlaWdodCk7DQoJCQl9DQoJCQlmb3IobGV0IGk9MDtpPGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInRleHQtY29udHJvbCIpLmxlbmd0aDtpKyspew0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInRleHQtY29udHJvbCIpW2ldLnNldEF0dHJpYnV0ZSgic3R5bGUiLCd0cmFuc2Zvcm06IHNjYWxlKCcrc2NhbGUrJyknKTsNCgkJCX0NCgkJCS8v5Y+W5b6X55Wr5biD5Y+v6KaL5Y2A5Z+f6LW36bue57WC6bue5a+s6auYDQoJCQlmb3IobGV0IGk9MDtpPHNpemU7aSsrKXsNCgkJCQl0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVtpXT1bDQoJCQkJCXRoaXMuY2FudmFzU2V0LnBvaW50WzBdW3RoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uW2ldWzBdXSwNCgkJCQkJdGhpcy5jYW52YXNTZXQucG9pbnRbMV1bdGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb25baV1bMV1dLA0KCQkJCQl0aGlzLmNhbnZhc1NldC5wb2ludFswXVt0aGlzLmNhbnZhc1NldC5jYW52YXNQb3NpdGlvbltpXVsyXV0sDQoJCQkJCXRoaXMuY2FudmFzU2V0LnBvaW50WzFdW3RoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uW2ldWzNdXSwNCgkJCQkJdGhpcy5jYW52YXNTZXQucG9pbnRbMF1bdGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb25baV1bMl1dLXRoaXMuY2FudmFzU2V0LnBvaW50WzBdW3RoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uW2ldWzBdXSwNCgkJCQkJdGhpcy5jYW52YXNTZXQucG9pbnRbMV1bdGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb25baV1bM11dLXRoaXMuY2FudmFzU2V0LnBvaW50WzFdW3RoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uW2ldWzFdXQ0KCQkJCV07DQoJCQkJLy9jb25zb2xlLmxvZyh0aGlzLmNhbnZhc1NldC5wb2ludFswXSk7DQoJCQl9DQoJCQkvL2NvbnNvbGUubG9nKHRoaXMuY2FudmFzU2V0LnBvaW50KTsNCgkJCXRoaXMuY29udHJvbHMgPSBbXTsNCgkJCXRoaXMucG9pbnR4eXMgPSBbXTsNCgkJCWZvcihsZXQgaT0xO2k8PXNpemUrMTtpKyspew0KCQkJCS8v5bu656uL55Wr5biDDQoJCQkJbGV0IGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpOw0KCQkJCQlpZihpPD1zaXplKXsNCgkJCQkJCS8vY29uc29sZS5sb2codGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbaS0xXVs0XSk7DQoJCQkJCQlib3guaWQgPSAiY2FudmFzIitpOw0KCQkJCQkJYm94LndpZHRoID0gdGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbaS0xXVs0XS0oK3RoaXMuY2FudmFzU2V0LnNwYWNpbmcqMik7DQoJCQkJCQlib3guaGVpZ2h0ID0gdGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbaS0xXVs1XS0oK3RoaXMuY2FudmFzU2V0LnNwYWNpbmcqMik7DQoJCQkJCQlib3guc3R5bGUubGVmdCA9ICh0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVtpLTFdWzBdKygrdGhpcy5jYW52YXNTZXQuc3BhY2luZykpICsgInB4IjsNCgkJCQkJCWJveC5zdHlsZS50b3AgPSAodGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbaS0xXVsxXSsoK3RoaXMuY2FudmFzU2V0LnNwYWNpbmcpKSArICJweCI7DQoJCQkJCX1lbHNlew0KCQkJCQkJYm94LmlkID0gImZpbmFsQ2FudmFzIjsNCgkJCQkJCWJveC53aWR0aCA9IHRoaXMuY2FudmFzV2lkdGg7DQoJCQkJCQlib3guaGVpZ2h0ID0gdGhpcy5jYW52YXNIZWlnaHQ7DQoJCQkJCX0NCgkJCQlsZXQgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KCQkJCQl3cmFwLmFwcGVuZENoaWxkKGJveCk7DQoJCQkJCXRoaXMuY2FudmFzX2FyZWErPXdyYXAuaW5uZXJIVE1MOw0KCQkJCWlmKGk8PXNpemUpew0KCQkJCQkvL+W7uueri+e3qeihneeVq+W4gw0KCQkJCQlsZXQgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7DQoJCQkJCQlib3guaWQgPSAidGVtcGNhbnZhcyIraTsNCgkJCQkJCWJveC53aWR0aCA9IHRoaXMudGVtcFNldC5jYW52YXNBcmVhW2ktMV1bNF0tKCt0aGlzLmNhbnZhc1NldC5zcGFjaW5nKjIpOw0KCQkJCQkJYm94LmhlaWdodCA9IHRoaXMudGVtcFNldC5jYW52YXNBcmVhW2ktMV1bNV0tKCt0aGlzLmNhbnZhc1NldC5zcGFjaW5nKjIpOw0KCQkJCQkJYm94LnN0eWxlLmxlZnQgPSAodGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbaS0xXVswXSsoK3RoaXMuY2FudmFzU2V0LnNwYWNpbmcpKSArICJweCI7DQoJCQkJCQkvL2NvbnNvbGUubG9nKHRoaXMudGVtcFNldC5jYW52YXNBcmVhW2ktMV1bMF0sdGhpcy5jYW52YXNTZXQuc3BhY2luZyx0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVtpLTFdWzBdKygrdGhpcy5jYW52YXNTZXQuc3BhY2luZykpDQoJCQkJCQlib3guc3R5bGUudG9wID0gKHRoaXMudGVtcFNldC5jYW52YXNBcmVhW2ktMV1bMV0rKCt0aGlzLmNhbnZhc1NldC5zcGFjaW5nKSkgKyAicHgiOw0KCQkJCQlsZXQgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KCQkJCQkJd3JhcC5hcHBlbmRDaGlsZChib3gpOw0KCQkJCQkJdGhpcy5jYW52YXNfYXJlYSs9d3JhcC5pbm5lckhUTUw7DQoJCQkJCS8v5bu656uL5ZyW54mH5a6a5L2N57SA6YyEDQoJCQkJCWlmKCF0aGlzLmNhbnZhc1NldC5pbWdQb3NpdGlvbil0aGlzLmNhbnZhc1NldC5pbWdQb3NpdGlvbj1bXTsNCgkJCQkJaWYoIXRoaXMuY2FudmFzU2V0LmltZ1Bvc2l0aW9uW2ktMV0pew0KCQkJCQkJdGhpcy5jYW52YXNTZXQuaW1nUG9zaXRpb24ucHVzaChbXSk7DQoJCQkJCX1lbHNlew0KCQkJCQkJdGhpcy5hZGRpbWcoaSx0aGlzLmNhbnZhc1NldC5pbWdQb3NpdGlvbltpLTFdWzBdLHRoaXMuY2FudmFzU2V0LmltZ1Bvc2l0aW9uW2ktMV1bMV0sdGhpcy5jYW52YXNTZXQuaW1nUG9zaXRpb25baS0xXVsyXSx0aGlzLmNhbnZhc1NldC5pbWdQb3NpdGlvbltpLTFdWzNdLHRoaXMuY2FudmFzU2V0LmltZ1Bvc2l0aW9uW2ktMV1bNF0saW1nUmVwb3NpdGlvbik7DQoJCQkJCX0NCgkJCQkJLy/lu7rnq4vnlavluIPmjqfliLbljYANCgkJCQkJbGV0IGJveDIgPSB7c3R5bGU6IiIsc2NhbGU6c2NhbGV9Ow0KCQkJCQlsZXQgeCA9IHRoaXMudGVtcFNldC5jYW52YXNBcmVhW2ktMV1bMF0sDQoJCQkJCQl5ID0gdGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbaS0xXVsxXSwNCgkJCQkJCXcgPSB0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVtpLTFdWzRdLA0KCQkJCQkJaCA9IHRoaXMudGVtcFNldC5jYW52YXNBcmVhW2ktMV1bNV07DQoJCQkJCQlib3gyLnN0eWxlPSd0b3A6Jyt5KydweDtsZWZ0OicreCsncHg7d2lkdGg6Jyt3KydweDtoZWlnaHQ6JytoKydweDsnOw0KCQkJCQkJdGhpcy5jb250cm9scy5wdXNoKGJveDIpOw0KCQkJCX0NCgkJCX0NCgkJCS8v5bu656uL55Wr5biD5Y+v6KaL56+E5ZyN5o6n5Yi25oyJ6YiVDQoJCQlmb3IobGV0IGk9MTtpPHNpemUrMTtpKyspew0KCQkJCWxldCBib3ggPSB7c3R5bGU6IiJ9Ow0KCQkJCWxldCBzdHlsZSA9ICcnOw0KCQkJCQkJaWYoc2NhbGUgIT0gMSlzdHlsZT0ndHJhbnNmb3JtOnNjYWxlKCcrc2NhbGUrJyk7JzsNCgkJCQkJYm94LnN0eWxlPSd0b3A6Jyt0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVtpLTFdWzNdKydweDtsZWZ0OicrdGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbaS0xXVsyXSsncHg7JytzdHlsZTsNCgkJCQkJdGhpcy5wb2ludHh5cy5wdXNoKGJveCk7DQoJCQl9DQoJCX0sDQoJCS8v572u5YWl5ZyW54mHLA0KCQlhZGRpbWc6IGZ1bmN0aW9uKG50aCxpbWdOYW1lLGltZ3gsaW1neSxpbWd6LGltZ3IsaW1nUmVwb3NpdGlvbil7DQoJCQljb25zb2xlLmxvZygxMjMpOw0KCQkJaW1nUmVwb3NpdGlvbiA9IGltZ1JlcG9zaXRpb24gfHwgZmFsc2U7DQoJCQlpZighaW1nTmFtZSlyZXR1cm4gZmFsc2U7DQoJCQlsZXQgY3ZzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbnZhcyIrbnRoKSwNCgkJCQljdnN0ZW1wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlbXBjYW52YXMiK250aCksDQoJCQkJY3R4ID0gY3ZzLmdldENvbnRleHQoIjJkIiksDQoJCQkJY3R4dGVtcCA9IGN2c3RlbXAuZ2V0Q29udGV4dCgiMmQiKTsNCgkJCWN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249ImNvcHkiOw0KCQkJbGV0IGltZyA9IG5ldyBJbWFnZSgpOw0KCQkJCWltZy5zcmM9aW1nTmFtZTsNCgkJCQlpbWcuc2V0QXR0cmlidXRlKCdjcm9zc29yaWdpbicsICdhbm9ueW1vdXMnKTsNCgkJCQlpbWcuY3Jvc3NPcmlnaW4gPSAnYW5vbnltb3VzJzsNCgkJCWltZ3ggPSBpbWd4IHx8IDA7DQoJCQlpbWd5ID0gaW1neSB8fCAwOw0KCQkJaW1neiA9IGltZ3ogfHwgMTsNCgkJCWltZ3IgPSBpbWdyIHx8IDA7DQoJCQkvL+W7uueri+WclueJh+e3qeihneW+jOa4hemZpOWclueJhw0KCQkJY3R4dGVtcC5kcmF3SW1hZ2UoY3ZzLCAwLCAwKTsNCgkJCWN0eC5jbGVhclJlY3QoMCwwLGN2cy53aWR0aCxjdnMuaGVpZ2h0KTsNCgkJCWltZy5vbmxvYWQ9ZnVuY3Rpb24oKXsNCgkJCQlsZXQgaW1ndyA9IHRoaXMudGVtcFNldC5jYW52YXNBcmVhW250aC0xXVs0XSwNCgkJCQkJaW1naCA9IGltZy5oZWlnaHQqaW1ndy9pbWcud2lkdGg7DQoJCQkJaWYoaW1naDx0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVtudGgtMV1bNV0pew0KCQkJCQlpbWdoID0gdGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbbnRoLTFdWzVdOw0KCQkJCQlpbWd3ID0gaW1nLndpZHRoKmltZ2gvaW1nLmhlaWdodDsNCgkJCQl9DQoJCQkJLy/pmZDliLbnp7vli5XljYDln5/kuI3lj6/otoXlh7rlnJbniYcs5aKe5Yqg57iu5bCP5ZyW54mH5Yqf6IO95b6M5YGc55SoLOmZpOmdnueVq+W4g+iuiuabtA0KCQkJCWlmKGltZ1JlcG9zaXRpb249PXRydWUpew0KCQkJCQlpZihpbWd4PjAgJiYgaW1neT4wKXsNCgkJCQkJCWltZ3ggPSAwOw0KCQkJCQkJaW1neSA9IDA7DQoJCQkJCX1lbHNlIGlmKGltZ3g+MCl7DQoJCQkJCQlpbWd4ID0gMDsNCgkJCQkJfWVsc2UgaWYoaW1neT4wKXsNCgkJCQkJCWltZ3kgPSAwOw0KCQkJCQl9DQoJCQkJCWlmKGltZ3grKGltZ3cqaW1neik8dGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbbnRoLTFdWzRdICYmIGltZ3krKGltZ2gqaW1neik8dGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbbnRoLTFdWzVdKXsNCgkJCQkJCWltZ3ggPSB0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVtudGgtMV1bNF0tKGltZ3cqaW1neik7DQoJCQkJCQlpbWd5ID0gdGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbbnRoLTFdWzVdLShpbWdoKmltZ3opOw0KCQkJCQl9ZWxzZSBpZihpbWd4KyhpbWd3KmltZ3opPHRoaXMudGVtcFNldC5jYW52YXNBcmVhW250aC0xXVs0XSl7DQoJCQkJCQlpbWd4ID0gdGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbbnRoLTFdWzRdLShpbWd3KmltZ3opOw0KCQkJCQl9ZWxzZSBpZihpbWd5KyhpbWdoKmltZ3opPHRoaXMudGVtcFNldC5jYW52YXNBcmVhW250aC0xXVs1XSl7DQoJCQkJCQlpbWd5ID0gdGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbbnRoLTFdWzVdLShpbWdoKmltZ3opOw0KCQkJCQl9DQoJCQkJfQ0KCQkJCQ0KCQkJCS8v57SA6YyE5ZyW54mH5pW45pOaDQoJCQkJdGhpcy5jYW52YXNTZXQuaW1nUG9zaXRpb25bbnRoLTFdPVtpbWdOYW1lLGltZ3gsaW1neSxpbWd6LGltZ3JdOw0KCQkJCWN0eC50cmFuc2xhdGUoaW1neC0oK3RoaXMuY2FudmFzU2V0LnNwYWNpbmcpKyhpbWd3KmltZ3ovMiksaW1neS0oK3RoaXMuY2FudmFzU2V0LnNwYWNpbmcpKyhpbWdoKmltZ3ovMikpOw0KCQkJCWN0eC5yb3RhdGUoaW1nci8xODAqTWF0aC5QSSk7DQoJCQkJY3R4LmRyYXdJbWFnZShpbWcsaW1neC0oaW1ndyppbWd6LzIpLCBpbWd5LShpbWdoKmltZ3ovMiksIGltZ3cgKiBpbWd6LCBpbWdoICogaW1neik7DQoJCQkJY3R4LnJvdGF0ZSgtaW1nci8xODAqTWF0aC5QSSk7DQoJCQkJY3R4LnRyYW5zbGF0ZSgrdGhpcy5jYW52YXNTZXQuc3BhY2luZy1pbWd4LShpbWd3KmltZ3ovMiksK3RoaXMuY2FudmFzU2V0LnNwYWNpbmctaW1neS0oaW1naCppbWd6LzIpKTsvL+mHjeioreWPg+iAg+m7nueCujAsMA0KCQkJCS8v5riF55CG6YeN55aK5Y2A5Z+fDQoJCQkJY3R4dGVtcC5jbGVhclJlY3QoMCwwLGN2cy53aWR0aCxjdnMuaGVpZ2h0KTsNCgkJCX0NCgkJfSwNCgkJLy/lkITlnJblkIjkvbXkuIDlvLXlnJYsDQoJCWdldEJhc2U2NDogZnVuY3Rpb24oKXsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzDQoJCQkvL+aVuOaTmuizh+aWmei9ieaIkGpzb24NCgkJCS8vY2FudmFzU2V0RGF0YS52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuY2FudmFzU2V0KTsNCgkJCWxldCBkb21Db250ZXh0ID0gZmluYWxDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsNCgkJCQlkb21Db250ZXh0LmNsZWFyUmVjdCgwLDAsZmluYWxDYW52YXMud2lkdGgsZmluYWxDYW52YXMuaGVpZ2h0KTsNCgkJCQlkb21Db250ZXh0LmZpbGxTdHlsZT0iI2ZmZmZmZiI7DQoJCQkJZG9tQ29udGV4dC5maWxsUmVjdCgwLDAsZmluYWxDYW52YXMud2lkdGgsZmluYWxDYW52YXMuaGVpZ2h0KTsNCgkJCS8vZG9tQ29udGV4dC5zY2FsZSgyLDIpOw0KCQkJZm9yKGxldCBpPTE7aTw9dGhpcy50ZW1wU2V0LmNhbnZhc0FyZWEubGVuZ3RoO2krKyl7DQoJCQkJbGV0IGN2cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYW52YXMiK2kpOw0KCQkJCWRvbUNvbnRleHQuZHJhd0ltYWdlKGN2cywgdGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbaS0xXVswXSsoK3RoaXMuY2FudmFzU2V0LnNwYWNpbmcpLCB0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVtpLTFdWzFdKygrdGhpcy5jYW52YXNTZXQuc3BhY2luZykpOw0KCQkJfQ0KCQkJaWYoIXRoaXMuY2FudmFzU2V0LnRleHQ9PWZhbHNlKXsNCgkJCQlmb3IobGV0IGk9MDtpPHRoaXMuY2FudmFzU2V0LnRleHQubGVuZ3RoO2krKyl7DQoJCQkJCWRvbUNvbnRleHQudGV4dEJhc2VsaW5lID0gInRvcCI7Ly9jYW52YXPmloflrZflrprkvY3lvp7lt6bkuIvop5LmlLnmiJDkuIrmlrkNCgkJCQkJZG9tQ29udGV4dC5mb250ID0gdGhpcy5jYW52YXNTZXQudGV4dFtpXS53ZWlnaHQgKyAiICIgKyB0aGlzLmNhbnZhc1NldC50ZXh0W2ldLnNpemUgKyAicHggIiArIHRoaXMuY2FudmFzU2V0LnRleHRbaV0uZm9udDsNCgkJCQkJZG9tQ29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmNhbnZhc1NldC50ZXh0W2ldLmNvbG9yOw0KCQkJCQlkb21Db250ZXh0LmZpbGxUZXh0KHRoaXMuY2FudmFzU2V0LnRleHRbaV0udGV4dCx0aGlzLmNhbnZhc1NldC50ZXh0W2ldLngsdGhpcy5jYW52YXNTZXQudGV4dFtpXS55KTsNCgkJCQl9DQoJCQl9DQoJCQl0aGlzLnRlbXBTZXQuZGF0YVVSTCA9IGZpbmFsQ2FudmFzLnRvRGF0YVVSTCgpOyAgIC8vZ2V0IGJhc2U2NCBpbWcNCgkJCWxldCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCgkJCQlib3guaWQgPSAic2VsZWN0aW1nIjsNCgkJCQlib3guaW5uZXJIVE1MID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlbXBTaG93IikuaW5uZXJIVE1MOw0KCQkJCWJveC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW1nIilbMF0uc2V0QXR0cmlidXRlKCJzcmMiLHRoaXMudGVtcFNldC5kYXRhVVJMKTsNCgkJCWRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYm94KTsNCgkJfSwNCgkJLy/oqK3lrprnlavluIPpoa/npLrnuK7mlL7lgI3njocsDQoJCXNldFNjYWxlOiBmdW5jdGlvbigpew0KCQkJbGV0IGVhcmVhX3dyYXAgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJlZGl0LWJveC13cmFwIilbMF0sDQoJCQkJY2FudmFzV2lkdGggPSB0aGlzLmNhbnZhc1NldC5wb2ludFswXVt0aGlzLmNhbnZhc1NldC5wb2ludFswXS5sZW5ndGgtMV0sDQoJCQkJY2FudmFzSGVpZ2h0ID0gdGhpcy5jYW52YXNTZXQucG9pbnRbMV1bdGhpcy5jYW52YXNTZXQucG9pbnRbMV0ubGVuZ3RoLTFdOw0KCQkJbGV0IHNjYWxlID0gMTsNCgkJCWlmKGNhbnZhc1dpZHRoPmVhcmVhX3dyYXAuY2xpZW50V2lkdGgqMC45KXsNCgkJCQlzY2FsZSA9IDEvKGVhcmVhX3dyYXAuY2xpZW50V2lkdGgqMC45L2NhbnZhc1dpZHRoKTsNCgkJCX0NCgkJCWlmKGNhbnZhc0hlaWdodCooZWFyZWFfd3JhcC5jbGllbnRXaWR0aCowLjkvY2FudmFzV2lkdGgpPmVhcmVhX3dyYXAuY2xpZW50SGVpZ2h0KjAuOSl7DQoJCQkJc2NhbGUgPSAxLyhlYXJlYV93cmFwLmNsaWVudEhlaWdodCowLjkvY2FudmFzSGVpZ2h0KTsNCgkJCX0NCgkJCXJldHVybiBzY2FsZTsNCgkJfSwNCgkJLy/mi5bmm7PlnJbniYcsDQoJCWNvbnRyb2xfZG93bjogZnVuY3Rpb24obnRoKXsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzDQoJCQlpZih0aGlzLnRlbXBTZXQudGV4dF9pc0Rvd24gPT0gdHJ1ZSlyZXR1cm4gZmFsc2U7DQoJCQlpZighdGhpcy5jYW52YXNTZXQuaW1nUG9zaXRpb25bbnRoLTFdWzBdKXsNCgkJCQkvL3NlYXJjaGltZyhudGgpOw0KCQkJCXJldHVybiBmYWxzZTsNCgkJCX0NCgkJCXRoaXMudGVtcFNldC5tX250aCA9IG50aDsNCgkJCXRoaXMudGVtcFNldC5jb250cm9sX2lzRG93biA9IHRydWU7DQoJCQkvL+eNsuWPlua7kem8oOaMieS4i+aZguW6p+aomQ0KCQkJdGhpcy50ZW1wU2V0Lm1fZG93bl94ID0gZXZlbnQuY2xpZW50WDsNCgkJCXRoaXMudGVtcFNldC5tX2Rvd25feSA9IGV2ZW50LmNsaWVudFk7DQoJCQl0aGlzLnRlbXBTZXQubV9udGhfeCA9IHRoaXMuY2FudmFzU2V0LmltZ1Bvc2l0aW9uW3RoaXMudGVtcFNldC5tX250aC0xXVsxXTsNCgkJCXRoaXMudGVtcFNldC5tX250aF95ID0gdGhpcy5jYW52YXNTZXQuaW1nUG9zaXRpb25bdGhpcy50ZW1wU2V0Lm1fbnRoLTFdWzJdOw0KCQl9LA0KCQkvL+a7kem8oOenu+WLlSwNCgkJbW92ZTogZnVuY3Rpb24oKXsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzDQoJCQkvL+eNsuWPlua7kem8oOenu+WLleWvpuaZguW6p+aomQ0KCQkJdGhpcy50ZW1wU2V0Lm1fbW92ZV94ID0gZXZlbnQuY2xpZW50WDsNCgkJCXRoaXMudGVtcFNldC5tX21vdmVfeSA9IGV2ZW50LmNsaWVudFk7DQoJCQkvL+ioreWumueVq+W4g+mhr+ekuue4ruaUvuWAjeeOhw0KCQkJLy9pZih0aGlzLmNhbnZhc1NldC5wb2ludC5sZW5ndGggPiAwKXZhciBzY2FsZSA9IHRoaXMuc2V0U2NhbGUoKTsNCgkJCS8v5ruR6byg5oyJ5LiL5pmC56e75YuV5omN6Ke455m8DQoJCQlpZih0aGlzLnRlbXBTZXQuY29udHJvbF9pc0Rvd24pew0KCQkJCS8v5oqK5pawZGl25bqn5qiZ5YC86LOm57WmZGl254mp5Lu2DQoJCQkJbGV0IHggPSBNYXRoLmZsb29yKCt0aGlzLnRlbXBTZXQubV9udGhfeCArICh0aGlzLnRlbXBTZXQubV9tb3ZlX3ggLSB0aGlzLnRlbXBTZXQubV9kb3duX3gpKnRoaXMuc2V0U2NhbGUoKSksDQoJCQkJCXkgPSBNYXRoLmZsb29yKCt0aGlzLnRlbXBTZXQubV9udGhfeSArICh0aGlzLnRlbXBTZXQubV9tb3ZlX3kgLSB0aGlzLnRlbXBTZXQubV9kb3duX3kpKnRoaXMuc2V0U2NhbGUoKSk7DQoJCQkJdGhpcy5hZGRpbWcodGhpcy50ZW1wU2V0Lm1fbnRoLHRoaXMuY2FudmFzU2V0LmltZ1Bvc2l0aW9uW3RoaXMudGVtcFNldC5tX250aC0xXVswXSx4LHksdGhpcy5jYW52YXNTZXQuaW1nUG9zaXRpb25bdGhpcy50ZW1wU2V0Lm1fbnRoLTFdWzNdLHRoaXMuY2FudmFzU2V0LmltZ1Bvc2l0aW9uW3RoaXMudGVtcFNldC5tX250aC0xXVs0XSk7DQoJCQl9DQoJCQlpZih0aGlzLnRlbXBTZXQudGV4dF9pc0Rvd24pew0KCQkJCS8v5oqK5pawZGl25bqn5qiZ5YC86LOm57WmZGl254mp5Lu2DQoJCQkJbGV0IHggPSBNYXRoLmZsb29yKCt0aGlzLnRlbXBTZXQubV9udGhfeCArICh0aGlzLnRlbXBTZXQubV9tb3ZlX3ggLSB0aGlzLnRlbXBTZXQubV9kb3duX3gpKnRoaXMuc2V0U2NhbGUoKSksDQoJCQkJCXkgPSBNYXRoLmZsb29yKCt0aGlzLnRlbXBTZXQubV9udGhfeSArICh0aGlzLnRlbXBTZXQubV9tb3ZlX3kgLSB0aGlzLnRlbXBTZXQubV9kb3duX3kpKnRoaXMuc2V0U2NhbGUoKSk7DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRleHRCbG9jayIrdGhpcy50ZW1wU2V0Lm1fbnRoKS5zdHlsZS5sZWZ0ID0geCArICJweCI7DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRleHRCbG9jayIrdGhpcy50ZW1wU2V0Lm1fbnRoKS5zdHlsZS50b3AgPSB5ICsgInB4IjsNCgkJCQl0aGlzLmNhbnZhc1NldC50ZXh0W3RoaXMudGVtcFNldC5tX250aC0xXS54ID0geDsNCgkJCQl0aGlzLmNhbnZhc1NldC50ZXh0W3RoaXMudGVtcFNldC5tX250aC0xXS55ID0geTsNCgkJCX0NCgkJCWlmKHRoaXMudGVtcFNldC5wb25pdHh5X2lzRG93bil7DQoJCQkJLy/miormlrBkaXbluqfmqJnlgLzos6bntaZkaXbnianku7YNCgkJCQlsZXQgeCA9IE1hdGguZmxvb3IoK3RoaXMudGVtcFNldC5tX250aF94ICsgKHRoaXMudGVtcFNldC5tX21vdmVfeCAtIHRoaXMudGVtcFNldC5tX2Rvd25feCkqdGhpcy5zZXRTY2FsZSgpKSwNCgkJCQkJeSA9IE1hdGguZmxvb3IoK3RoaXMudGVtcFNldC5tX250aF95ICsgKHRoaXMudGVtcFNldC5tX21vdmVfeSAtIHRoaXMudGVtcFNldC5tX2Rvd25feSkqdGhpcy5zZXRTY2FsZSgpKSwNCgkJCQkJdGhpc1BvaW50eHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicG9pbnR4eSIrdGhpcy50ZW1wU2V0Lm1fbnRoKTsNCgkJCQkvL+aqouafpeiIh+W6p+aomemWk+eahOi3nembog0KCQkJCWlmKA0KCQkJCQl4PHRoaXMuY2FudmFzU2V0LnBvaW50WzBdW3RoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uW3RoaXMudGVtcFNldC5tX250aC0xXVsyXS0xXSsxMCB8fCANCgkJCQkJeTx0aGlzLmNhbnZhc1NldC5wb2ludFsxXVt0aGlzLmNhbnZhc1NldC5jYW52YXNQb3NpdGlvblt0aGlzLnRlbXBTZXQubV9udGgtMV1bM10tMV0rMTAgfHwgDQoJCQkJCSghdGhpcy5jYW52YXNTZXQucG9pbnRbMF1bdGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb25bdGhpcy50ZW1wU2V0Lm1fbnRoLTFdWzJdKzFdICE9IHRydWUgJiYgeD50aGlzLmNhbnZhc1NldC5wb2ludFswXVt0aGlzLmNhbnZhc1NldC5jYW52YXNQb3NpdGlvblt0aGlzLnRlbXBTZXQubV9udGgtMV1bMl0rMV0tMTApIHx8IA0KCQkJCQkoIXRoaXMuY2FudmFzU2V0LnBvaW50WzFdW3RoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uW3RoaXMudGVtcFNldC5tX250aC0xXVszXSsxXSAhPSB0cnVlICYmIHk+dGhpcy5jYW52YXNTZXQucG9pbnRbMV1bdGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb25bdGhpcy50ZW1wU2V0Lm1fbnRoLTFdWzNdKzFdLTEwKSB8fA0KCQkJCQl4PjMwMDAgfHwgeT4zMDAwDQoJCQkJCSlyZXR1cm4gZmFsc2U7DQoJCQkJdGhpc1BvaW50eHkuc2V0QXR0cmlidXRlKCJzdHlsZSIsJ3RvcDonK3krJ3B4O2xlZnQ6Jyt4KydweDsnKTsNCgkJCQkvL2xldCBzdHlsZSA9ICcnOw0KCQkJCS8vaWYoc2NhbGUgIT0gMSlzdHlsZT0ndHJhbnNmb3JtOnNjYWxlKCcrc2NhbGUrJyk7JzsNCgkJCQkvL3RoaXMucG9pbnR4eXNbdGhpcy50ZW1wU2V0Lm1fbnRoLTFdLnN0eWxlPQ0KCQkJCWNvbnNvbGUubG9nKHRoaXMucG9pbnR4eXNbdGhpcy50ZW1wU2V0Lm1fbnRoLTFdLnN0eWxlKTsNCgkJCQl0aGlzLmNhbnZhc1NldC5wb2ludFswXVt0aGlzLmNhbnZhc1NldC5jYW52YXNQb3NpdGlvblt0aGlzLnRlbXBTZXQubV9udGgtMV1bMl1dPXg7DQoJCQkJdGhpcy5jYW52YXNTZXQucG9pbnRbMV1bdGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb25bdGhpcy50ZW1wU2V0Lm1fbnRoLTFdWzNdXT15Ow0KCQkJCXRoaXMucmVzZXRDYW52YXModGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb24ubGVuZ3RoKTsNCgkJCX0NCgkJfSwNCgkJdXA6IGZ1bmN0aW9uKCl7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFycw0KCQkJdGhpcy50ZW1wU2V0LmNvbnRyb2xfaXNEb3duID0gZmFsc2U7DQoJCQl0aGlzLnRlbXBTZXQucG9uaXR4eV9pc0Rvd24gPSBmYWxzZTsNCgkJCXRoaXMudGVtcFNldC50ZXh0X2lzRG93biA9IGZhbHNlOw0KCQl9LA0KCQlwb25pdHh5X2Rvd246IGZ1bmN0aW9uKG50aCl7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFycw0KCQkJaWYodGhpcy50ZW1wU2V0LnRleHRfaXNEb3duID09IHRydWUpcmV0dXJuIGZhbHNlOw0KCQkJdGhpcy50ZW1wU2V0Lm1fbnRoID0gbnRoOw0KCQkJdGhpcy50ZW1wU2V0LnBvbml0eHlfaXNEb3duID0gdHJ1ZTsNCgkJCS8v542y5Y+W5ruR6byg5oyJ5LiL5pmC5bqn5qiZDQoJCQl0aGlzLnRlbXBTZXQubV9kb3duX3ggPSBldmVudC5jbGllbnRYOw0KCQkJdGhpcy50ZW1wU2V0Lm1fZG93bl95ID0gZXZlbnQuY2xpZW50WTsNCgkJCXRoaXMudGVtcFNldC5tX250aF94ID0gdGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbdGhpcy50ZW1wU2V0Lm1fbnRoLTFdWzJdOw0KCQkJdGhpcy50ZW1wU2V0Lm1fbnRoX3kgPSB0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVt0aGlzLnRlbXBTZXQubV9udGgtMV1bM107DQoJCX0sDQoJCXRleHRfZG93bjogZnVuY3Rpb24obnRoKXsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzDQoJCQl0aGlzLnRlbXBTZXQubV9udGggPSBudGg7DQoJCQl0aGlzLnRlbXBTZXQudGV4dF9pc0Rvd24gPSB0cnVlOw0KCQkJLy/njbLlj5bmu5HpvKDmjInkuIvmmYLluqfmqJkNCgkJCXRoaXMudGVtcFNldC5tX2Rvd25feCA9IGV2ZW50LmNsaWVudFg7DQoJCQl0aGlzLnRlbXBTZXQubV9kb3duX3kgPSBldmVudC5jbGllbnRZOw0KCQkJdGhpcy50ZW1wU2V0Lm1fbnRoX3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGV4dEJsb2NrIitudGgpLm9mZnNldExlZnQ7DQoJCQl0aGlzLnRlbXBTZXQubV9udGhfeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXh0QmxvY2siK250aCkub2Zmc2V0VG9wOw0KCQl9LA0KCQkvL2V2ZW50LmNsaWVudFjjgIFldmVudC5jbGllbnRZDQoJCS8v5ZyW54mH57iu5pS+LA0KCQlNb3VzZVdoZWVsOiBmdW5jdGlvbihudGgsZSl7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFycw0KCQkJLy93aW5kb3cuZXZlbnQuc2hpZnRLZXk9PTENCgkJCWlmKCF0aGlzLmNhbnZhc1NldC5pbWdQb3NpdGlvbltudGgtMV1bMF0pew0KCQkJCXJldHVybiBmYWxzZTsNCgkJCX0NCgkJCWUgPSBlIHx8IHdpbmRvdy5ldmVudDsNCgkJCWlmKGUuc2hpZnRLZXkpew0KCQkJCWxldCBpbWdyID0gdGhpcy5jYW52YXNTZXQuaW1nUG9zaXRpb25bbnRoLTFdWzRdOw0KCQkJCSggZS53aGVlbERlbHRhIDw9IDAgfHwgZS5kZXRhaWwgPiAwKSA/IGltZ3ItPTMgOiBpbWdyKz0zOw0KCQkJCWlmKGltZ3I8MClpbWdyKz0zNjA7DQoJCQkJaWYoaW1ncj4zNjApaW1nci09MzYwOw0KCQkJCXRoaXMuYWRkaW1nKG50aCx0aGlzLmNhbnZhc1NldC5pbWdQb3NpdGlvbltudGgtMV1bMF0sdGhpcy5jYW52YXNTZXQuaW1nUG9zaXRpb25bbnRoLTFdWzFdLHRoaXMuY2FudmFzU2V0LmltZ1Bvc2l0aW9uW250aC0xXVsyXSx0aGlzLmNhbnZhc1NldC5pbWdQb3NpdGlvbltudGgtMV1bM10saW1ncik7DQoJCQl9ZWxzZXsNCgkJCQlsZXQgaW1nej10aGlzLmNhbnZhc1NldC5pbWdQb3NpdGlvbltudGgtMV1bM107DQoJCQkJbGV0IGltZ3pvID0gaW1nejsNCgkJCQkoIGUud2hlZWxEZWx0YSA8PSAwIHx8IGUuZGV0YWlsID4gMCkgPyBpbWd6LT0wLjA1IDogaW1neis9MC4wNTsNCgkJCQlpbWd6ID0gTWF0aC5yb3VuZChpbWd6KjEwMCkvMTAwOw0KCQkJCWlmKGltZ3o8MC4xKWltZ3o9MC4xOw0KCQkJCWxldCBjb250ZXJ4ID0gdGhpcy50ZW1wU2V0LmNhbnZhc0FyZWFbbnRoLTFdWzRdLzIsDQoJCQkJCWNvbnRlcnkgPSB0aGlzLnRlbXBTZXQuY2FudmFzQXJlYVtudGgtMV1bNV0vMiwNCgkJCQkJaW1neCA9IE1hdGgucm91bmQoY29udGVyeCAtICgoY29udGVyeC10aGlzLmNhbnZhc1NldC5pbWdQb3NpdGlvbltudGgtMV1bMV0pKmltZ3ovaW1nem8pKSwNCgkJCQkJaW1neSA9IE1hdGgucm91bmQoY29udGVyeSAtICgoY29udGVyeS10aGlzLmNhbnZhc1NldC5pbWdQb3NpdGlvbltudGgtMV1bMl0pKmltZ3ovaW1nem8pKTsNCgkJCQl0aGlzLmFkZGltZyhudGgsdGhpcy5jYW52YXNTZXQuaW1nUG9zaXRpb25bbnRoLTFdWzBdLGltZ3gsaW1neSxpbWd6LHRoaXMuY2FudmFzU2V0LmltZ1Bvc2l0aW9uW250aC0xXVs0XSk7DQoJCQl9DQoJCX0sDQoJCS8v6YG45pOH5ZyW54mHLA0KCQlzZWFyY2hpbWc6IGZ1bmN0aW9uKG50aCl7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFycw0KCQkJdGhpcy50ZW1wU2V0Lm1fbnRoID0gbnRoOw0KCQkJbGV0IGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KCQkJCWJveC5pZCA9ICJzZWxlY3RpbWciOw0KCQkJCWJveC5pbm5lckhUTUwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVtcFNlYXJjaEltZyIpLmlubmVySFRNTDsNCgkJCWRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYm94KTsNCgkJfQ0KCQkvKnZhciBzZWxlY3RpbWc6IGZ1bmN0aW9uKG50aCl7DQoJCQl0aGlzLnRlbXBTZXQubV9udGggPSBudGg7DQoJCQlsZXQgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQoJCQkJYm94LmlkID0gInNlbGVjdGltZyI7DQoJCQkJYm94LmlubmVySFRNTCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZW1wU2VsZWN0SW1nIikuaW5uZXJIVE1MOw0KCQkJZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChib3gpOw0KCQl9Ki8sDQoJCWNhbnZhc19XaWR0aDogZnVuY3Rpb24oKXsvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzDQoJCQlpZih0aGlzLmNhbnZhc19jaGVjayh0aGlzLmNhbnZhc1dpZHRoKSl7DQoJCQkJdGhpcy5jYW52YXNTZXQucG9pbnRbMF1bdGhpcy5jYW52YXNTZXQucG9pbnRbMF0ubGVuZ3RoLTFdID0gdGhpcy5jYW52YXNXaWR0aDsNCgkJCQl0aGlzLnJlc2V0Q2FudmFzKHRoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uLmxlbmd0aCk7DQoJCQl9DQoJCQl0aGlzLmNhbnZhc1dpZHRoID0gdGhpcy5jYW52YXNTZXQucG9pbnRbMF1bdGhpcy5jYW52YXNTZXQucG9pbnRbMF0ubGVuZ3RoLTFdOw0KCQl9LA0KCQljYW52YXNfSGVpZ2h0OiBmdW5jdGlvbigpey8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMNCgkJCWlmKHRoaXMuY2FudmFzX2NoZWNrKHRoaXMuY2FudmFzSGVpZ2h0KSl7DQoJCQkJdGhpcy5jYW52YXNTZXQucG9pbnRbMV1bdGhpcy5jYW52YXNTZXQucG9pbnRbMV0ubGVuZ3RoLTFdID0gdGhpcy5jYW52YXNIZWlnaHQ7DQoJCQkJdGhpcy5yZXNldENhbnZhcyh0aGlzLmNhbnZhc1NldC5jYW52YXNQb3NpdGlvbi5sZW5ndGgpOw0KCQkJfQ0KCQkJdGhpcy5jYW52YXNIZWlnaHQgPSB0aGlzLmNhbnZhc1NldC5wb2ludFsxXVt0aGlzLmNhbnZhc1NldC5wb2ludFsxXS5sZW5ndGgtMV07DQoJCX0sDQoJCWNhbnZhc19saW5lX1dpZHRoOiBmdW5jdGlvbigpey8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMNCgkJCWlmKHRoaXMuY2FudmFzX2NoZWNrKCkpew0KCQkJCS8vdGhpcy5jYW52YXNTZXQuc3BhY2luZyA9IHRoaXMuY2FudmFzbGluZXdpZHRoOw0KCQkJCXRoaXMucmVzZXRDYW52YXModGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb24ubGVuZ3RoKTsNCgkJCX1lbHNlew0KCQkJCWlmKHRoaXMuY2FudmFzU2V0LnNwYWNpbmc+MzAwMCl7DQoJCQkJCXRoaXMuY2FudmFzU2V0LnNwYWNpbmc9MzAwMDsNCgkJCQl9ZWxzZSBpZih0aGlzLmNhbnZhc1NldC5zcGFjaW5nPDApew0KCQkJCQl0aGlzLmNhbnZhc1NldC5zcGFjaW5nPTA7DQoJCQkJfQ0KCQkJfQ0KCQkJY29uc29sZS5sb2codGhpcy5jYW52YXNTZXQuc3BhY2luZyk7DQoJCQkvL3RoaXMuY2FudmFzbGluZXdpZHRoID0gdGhpcy5jYW52YXNTZXQuc3BhY2luZzsNCgkJfSwNCgkJY2FudmFzX2NoZWNrOiBmdW5jdGlvbih2YWx1ZSl7DQoJCQlpZih2YWx1ZT4zMDAwKXsNCgkJCQlhbGVydCgi5Yu/6LaF6YGOMzAwMCIpOw0KCQkJCXJldHVybiBmYWxzZTsNCgkJCX1lbHNlIGlmKHZhbHVlPDApew0KCQkJCWFsZXJ0KCLli7/ngrrosqDmlbgiKTsNCgkJCQlyZXR1cm4gZmFsc2U7DQoJCQl9DQoJCQlyZXR1cm4gdHJ1ZTsNCgkJfSwNCgkJY2hhbmdlVEVTVDogZnVuY3Rpb24oKXsNCgkJCWNvbnNvbGUubG9nKCJzdGFydCIpOw0KCQl9LA0KCQljaGFuZ2VCb3g6IGZ1bmN0aW9uKGFycil7DQoJCQkvL2FyciA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYXJyKSk7DQoJCQl0aGlzLnRlbXBTZXQuY2FudmFzUG9zaXRpb25DdXN0b209W107DQoJCQkvL3RoaXMuYWRkYm94U2VsZWN0KCk7DQoJCQl0aGlzLmNhbnZhc1NldC5wb2ludCA9IGFyci5wb2ludDsNCgkJCS8vY29uc29sZS5sb2coYXJyLnBvaW50WzBdKTsNCgkJCXRoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uID0gYXJyLmNhbnZhc1Bvc2l0aW9uOw0KCQkJLy9pZighZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoJ2NhbnZhc1dpZHRoJylbMF0udmFsdWUgPT0gZmFsc2Upew0KCQkJaWYodGhpcy5jYW52YXNXaWR0aCE9MCl7DQoJCQkJbGV0IG1hZyA9IHRoaXMuY2FudmFzV2lkdGggLyB0aGlzLmNhbnZhc1NldC5wb2ludFswXVt0aGlzLmNhbnZhc1NldC5wb2ludFswXS5sZW5ndGgtMV07DQoJCQkJY29uc29sZS5sb2codGhpcy5jYW52YXNXaWR0aCk7DQoJCQkJY29uc29sZS5sb2cobWFnKTsNCgkJCQlmb3IobGV0IGk9MDtpPHRoaXMuY2FudmFzU2V0LnBvaW50WzBdLmxlbmd0aDtpKyspew0KCQkJCQl0aGlzLmNhbnZhc1NldC5wb2ludFswXVtpXT10aGlzLmNhbnZhc1NldC5wb2ludFswXVtpXSptYWc7DQoJCQkJfQ0KCQkJfWVsc2V7DQoJCQkJdGhpcy5jYW52YXNXaWR0aCA9IHRoaXMuY2FudmFzU2V0LnBvaW50WzBdW3RoaXMuY2FudmFzU2V0LnBvaW50WzBdLmxlbmd0aC0xXTsNCgkJCX0NCgkJCS8vaWYoIWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCdjYW52YXNIZWlnaHQnKVswXS52YWx1ZSA9PSBmYWxzZSl7DQoJCQlpZih0aGlzLmNhbnZhc0hlaWdodCE9MCl7DQoJCQkJbGV0IG1hZyA9IHRoaXMuY2FudmFzSGVpZ2h0IC8gdGhpcy5jYW52YXNTZXQucG9pbnRbMV1bdGhpcy5jYW52YXNTZXQucG9pbnRbMV0ubGVuZ3RoLTFdOw0KCQkJCWNvbnNvbGUubG9nKG1hZyk7DQoJCQkJZm9yKGxldCBpPTA7aTx0aGlzLmNhbnZhc1NldC5wb2ludFsxXS5sZW5ndGg7aSsrKXsNCgkJCQkJdGhpcy5jYW52YXNTZXQucG9pbnRbMV1baV09dGhpcy5jYW52YXNTZXQucG9pbnRbMV1baV0qbWFnOw0KCQkJCX0NCgkJCX1lbHNlew0KCQkJCXRoaXMuY2FudmFzSGVpZ2h0ID0gdGhpcy5jYW52YXNTZXQucG9pbnRbMV1bdGhpcy5jYW52YXNTZXQucG9pbnRbMV0ubGVuZ3RoLTFdOw0KCQkJfQ0KCQkJLy9pZighdGhpcy5jYW52YXNTZXQuc3BhY2luZyl0aGlzLmNhbnZhc1NldC5zcGFjaW5nID0gMDsNCgkJCXRoaXMucmVzZXRDYW52YXModGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb24ubGVuZ3RoLHRydWUpOw0KCQl9LA0KCQltYWtlU1ZHOiBmdW5jdGlvbih0YWcsIGF0dHJzKSB7DQoJCQlsZXQgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQoJCQlsZXQgZWw9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCB0YWcpOw0KCQkJZm9yIChsZXQgayBpbiBhdHRycykNCgkJCQllbC5zZXRBdHRyaWJ1dGUoaywgYXR0cnNba10pOw0KCQkJCWJveC5hcHBlbmRDaGlsZChlbCk7DQoJCQlyZXR1cm4gYm94LmlubmVySFRNTDsNCgkJfSwNCgkJY2FudmFzQ3VzdG9tOiBmdW5jdGlvbih4LHkpey8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMNCgkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYW52YXNDdXN0b20iK3greSkuY2xhc3NOYW1lID09ICdsb2NrJylyZXR1cm4gZmFsc2U7DQoJCQlpZighdGhpcy50ZW1wU2V0LmNhbnZhc0N1c3RvbV9pc0Rvd24pew0KCQkJCXRoaXMudGVtcFNldC5jYW52YXNDdXN0b21feCA9IHg7DQoJCQkJdGhpcy50ZW1wU2V0LmNhbnZhc0N1c3RvbV95ID0geTsNCgkJCQl0aGlzLnRlbXBTZXQuY2FudmFzQ3VzdG9tX2lzRG93bj10cnVlOw0KCQkJfWVsc2V7DQoJCQkJbGV0IHRtcF94ID0gdGhpcy50ZW1wU2V0LmNhbnZhc0N1c3RvbV94LA0KCQkJCQl0bXBfeSA9IHRoaXMudGVtcFNldC5jYW52YXNDdXN0b21feSwNCgkJCQkJdGVtcF9lcnJvciA9IGZhbHNlOw0KCQkJCWlmKHRoaXMudGVtcFNldC5jYW52YXNDdXN0b21feD54KXsNCgkJCQkJdGhpcy50ZW1wU2V0LmNhbnZhc0N1c3RvbV94ID0geDsNCgkJCQkJeCA9IHRtcF94Ow0KCQkJCX0NCgkJCQlpZih0aGlzLnRlbXBTZXQuY2FudmFzQ3VzdG9tX3k+eSl7DQoJCQkJCXRoaXMudGVtcFNldC5jYW52YXNDdXN0b21feSA9IHk7DQoJCQkJCXkgPSB0bXBfeTsNCgkJCQl9DQoJCQkJZm9yKGxldCBpPXRoaXMudGVtcFNldC5jYW52YXNDdXN0b21feDtpPD14O2krKyl7DQoJCQkJCWZvcihsZXQgaj10aGlzLnRlbXBTZXQuY2FudmFzQ3VzdG9tX3k7ajw9eTtqKyspew0KCQkJCQkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbnZhc0N1c3RvbSIraStqKS5jbGFzc05hbWUgPT0gJ2xvY2snKXsNCgkJCQkJCQl0ZW1wX2Vycm9yID0gdHJ1ZTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCgkJCQlpZih0ZW1wX2Vycm9yKXsNCgkJCQkJYWxlcnQoIumBuOWPluevhOWcjemHjeikhyIpOw0KCQkJCQl0aGlzLnRlbXBTZXQuY2FudmFzQ3VzdG9tX2lzRG93bj1mYWxzZTsNCgkJCQkJcmV0dXJuIGZhbHNlOw0KCQkJCX0NCgkJCQlsZXQgY29sb3JTdHI9IiI7DQoJCQkJbGV0IHIgPSBmdW5jdGlvbigpe3JldHVybiAoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjIyNCsxNikpLnRvU3RyaW5nKDE2KX07DQoJCQkJLy/nlKLnlJ/kuIDlgIvlha3kvY3nmoTlrZfkuLINCgkJCQljb2xvclN0ciA9ICIjIityKCkrcigpK3IoKTsNCgkJCQlmb3IobGV0IGk9dGhpcy50ZW1wU2V0LmNhbnZhc0N1c3RvbV94O2k8PXg7aSsrKXsNCgkJCQkJZm9yKGxldCBqPXRoaXMudGVtcFNldC5jYW52YXNDdXN0b21feTtqPD15O2orKyl7DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FudmFzQ3VzdG9tIitpK2opLmNsYXNzTmFtZSA9ICdsb2NrJzsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYW52YXNDdXN0b20iK2kraikuc3R5bGUuYmFja2dyb3VuZENvbG9yPWNvbG9yU3RyOw0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbnZhc0N1c3RvbSIraStqKS5kaXNhYmxlZD0iZGlzYWJsZWQiOw0KCQkJCQl9DQoJCQkJfQ0KCQkJCXRoaXMudGVtcFNldC5jYW52YXNQb3NpdGlvbkN1c3RvbS5wdXNoKFt0aGlzLnRlbXBTZXQuY2FudmFzQ3VzdG9tX3gsdGhpcy50ZW1wU2V0LmNhbnZhc0N1c3RvbV95LHgrMSx5KzFdKQ0KCQkJCXRoaXMudGVtcFNldC5jYW52YXNDdXN0b21faXNEb3duPWZhbHNlOw0KCQkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImxvY2siKS5sZW5ndGg9PTEwMCl7DQoJCQkJCWxldCBwb2ludD1bWzAsOTYsMTkyLDI4OCwzODQsNDgwLDU3Niw2NzIsNzY4LDg2NCw5NjBdLFswLDk2LDE5MiwyODgsMzg0LDQ4MCw1NzYsNjcyLDc2OCw4NjQsOTYwXV07DQoJCQkJCWxldCBjYW52YXNQb3NpdGlvbj1bW10sW11dOw0KCQkJCQlsZXQgYXJyPVtdOw0KCQkJCQlmb3IobGV0IGk9MDtpPHRoaXMudGVtcFNldC5jYW52YXNQb3NpdGlvbkN1c3RvbS5sZW5ndGg7aSsrKXsNCgkJCQkJCWFyciA9IGFyci5jb25jYXQodGhpcy50ZW1wU2V0LmNhbnZhc1Bvc2l0aW9uQ3VzdG9tW2ldKTsNCgkJCQkJfQ0KCQkJCQlmb3IobGV0IGk9MDtpPGFyci5sZW5ndGgvMjtpKyspew0KCQkJCQkJY2FudmFzUG9zaXRpb25bMF0ucHVzaChhcnJbaSoyXSk7DQoJCQkJCQlpZihpKjIrMTxhcnIubGVuZ3RoKWNhbnZhc1Bvc2l0aW9uWzFdLnB1c2goYXJyW2kqMisxXSk7DQoJCQkJCX0NCgkJCQkJY2FudmFzUG9zaXRpb25bMF09Y2FudmFzUG9zaXRpb25bMF0uZmlsdGVyKCAoZWwsIGksIGFycikgPT4gYXJyLmluZGV4T2YoZWwpID09PSBpKS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7cmV0dXJuIGEgLSBifSk7DQoJCQkJCWNhbnZhc1Bvc2l0aW9uWzFdPWNhbnZhc1Bvc2l0aW9uWzFdLmZpbHRlciggKGVsLCBpLCBhcnIpID0+IGFyci5pbmRleE9mKGVsKSA9PT0gaSkuc29ydChmdW5jdGlvbiAoYSwgYikge3JldHVybiBhIC0gYn0pOw0KCQkJCQlhcnIgPSB7cG9pbnQ6W1tdLFtdXX07DQoJCQkJCWZvcihsZXQgaT0wO2k8Y2FudmFzUG9zaXRpb25bMF0ubGVuZ3RoO2krKyl7DQoJCQkJCQlhcnIucG9pbnRbMF0ucHVzaChwb2ludFswXVtjYW52YXNQb3NpdGlvblswXVtpXV0pOw0KCQkJCQl9DQoJCQkJCWZvcihsZXQgaT0wO2k8Y2FudmFzUG9zaXRpb25bMV0ubGVuZ3RoO2krKyl7DQoJCQkJCQlhcnIucG9pbnRbMV0ucHVzaChwb2ludFsxXVtjYW52YXNQb3NpdGlvblsxXVtpXV0pOw0KCQkJCQl9DQoJCQkJCWZvcihsZXQgaT0wO2k8dGhpcy50ZW1wU2V0LmNhbnZhc1Bvc2l0aW9uQ3VzdG9tLmxlbmd0aDtpKyspew0KCQkJCQkJZm9yKGxldCBqPTA7ajxjYW52YXNQb3NpdGlvblswXS5sZW5ndGg7aisrKXsNCgkJCQkJCQlpZih0aGlzLnRlbXBTZXQuY2FudmFzUG9zaXRpb25DdXN0b21baV1bMF09PWNhbnZhc1Bvc2l0aW9uWzBdW2pdKXRoaXMudGVtcFNldC5jYW52YXNQb3NpdGlvbkN1c3RvbVtpXVswXT1qOw0KCQkJCQkJCWlmKHRoaXMudGVtcFNldC5jYW52YXNQb3NpdGlvbkN1c3RvbVtpXVsyXT09Y2FudmFzUG9zaXRpb25bMF1bal0pdGhpcy50ZW1wU2V0LmNhbnZhc1Bvc2l0aW9uQ3VzdG9tW2ldWzJdPWo7DQoJCQkJCQl9DQoJCQkJCQlmb3IobGV0IGo9MDtqPGNhbnZhc1Bvc2l0aW9uWzFdLmxlbmd0aDtqKyspew0KCQkJCQkJCWlmKHRoaXMudGVtcFNldC5jYW52YXNQb3NpdGlvbkN1c3RvbVtpXVsxXT09Y2FudmFzUG9zaXRpb25bMV1bal0pdGhpcy50ZW1wU2V0LmNhbnZhc1Bvc2l0aW9uQ3VzdG9tW2ldWzFdPWo7DQoJCQkJCQkJaWYodGhpcy50ZW1wU2V0LmNhbnZhc1Bvc2l0aW9uQ3VzdG9tW2ldWzNdPT1jYW52YXNQb3NpdGlvblsxXVtqXSl0aGlzLnRlbXBTZXQuY2FudmFzUG9zaXRpb25DdXN0b21baV1bM109ajsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCQlhcnIuY2FudmFzUG9zaXRpb249dGhpcy50ZW1wU2V0LmNhbnZhc1Bvc2l0aW9uQ3VzdG9tOw0KCQkJCQl0aGlzLmNoYW5nZUJveChhcnIpOw0KCQkJCQlmb3IobGV0IGs9MDtrPDEwMDtrKyspew0KCQkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgibG9jayIpWzBdLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTsNCgkJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImxvY2siKVswXS5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7DQoJCQkJCQlkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJsb2NrIilbMF0ucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9LA0KCQltYWRlU1ZHOiBmdW5jdGlvbihudGgpew0KCQkJLy9yZXR1cm4gIjQ1NiI7DQoJCQkvL2NvbnNvbGUubG9nKHRoaXMudG9kb3NbbnRoXSkNCgkJCS8vcmV0dXJuIG50aDsNCgkJCWxldCBib3hwb3MgPSB0aGlzLnRvZG9zW250aF0ucG9pbnQ7DQoJCQlsZXQgYm94c2V0ID0gdGhpcy50b2Rvc1tudGhdLmNhbnZhc1Bvc2l0aW9uOw0KCQkJbGV0IGJveHpvb214ID0gNTAvYm94cG9zWzBdW2JveHBvc1swXS5sZW5ndGgtMV07DQoJCQlsZXQgYm94em9vbXkgPSA1MC9ib3hwb3NbMV1bYm94cG9zWzFdLmxlbmd0aC0xXTsNCgkJCWxldCBib3ggPSAiIjsNCgkJCWZvcihsZXQgaj0wO2o8dGhpcy50b2Rvc1tudGhdLmNhbnZhc1Bvc2l0aW9uLmxlbmd0aDtqKyspew0KCQkJCWxldCByZWN0ID0gdGhpcy5tYWtlU1ZHKCdyZWN0Jywge3g6Ym94cG9zWzBdW2JveHNldFtqXVswXV0qYm94em9vbXgrMSwgeTpib3hwb3NbMV1bYm94c2V0W2pdWzFdXSpib3h6b29teSsxLCBoZWlnaHQ6KGJveHBvc1sxXVtib3hzZXRbal1bM11dLWJveHBvc1sxXVtib3hzZXRbal1bMV1dKSpib3h6b29teC0yLCB3aWR0aDooYm94cG9zWzBdW2JveHNldFtqXVsyXV0tYm94cG9zWzBdW2JveHNldFtqXVswXV0pKmJveHpvb215LTIsIGZpbGw6IiM2NjYifSk7DQoJCQkJLy9ib3guZ2V0RWxlbWVudHNCeVRhZ05hbWUoInN2ZyIpWzBdLmFwcGVuZENoaWxkKHJlY3QpOw0KCQkJCWJveCArPSByZWN0Ow0KCQkJfQ0KCQkJLy9jb25zb2xlLmxvZyh0aGlzLnRvZG9zW250aF0ucG9pbnQpOw0KCQkJcmV0dXJuIGJveDsNCgkJfSwNCgkJYWRkYm94U2VsZWN0OiBmdW5jdGlvbigpew0KCQkJLy9sZXQgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGkiKTsNCgkJCWxldCBib3ggPSAnPGxpIGlkPSJjYW52YXNDdXN0b21BcmVhIj4nOw0KCQkJCS8vYm94LnNldEF0dHJpYnV0ZSgic3R5bGUiLCd3aWR0aDoyMjBweDtoZWlnaHQ6MjIwcHg7Jyk7DQoJCQlsZXQgaHRtbHRtcCA9ICc8ZGl2IHN0eWxlPSJ3aWR0aDoxMDAlO2xpbmUtaGVpZ2h0OjMwcHg7Ij7oh6roqILlnJbniYfphY3nva48L2Rpdj4nOw0KCQkJZm9yKGxldCBpPTA7aTwxMDtpKyspew0KCQkJCWZvcihsZXQgaj0wO2o8MTA7aisrKXsNCgkJCQkJbGV0IGJ1dHRvbiA9ICc8YnV0dG9uIGlkPSJjYW52YXNDdXN0b20nK2oraSsnIiB0eXBlPSJidXR0b24iIHYtb246Y2xpY2s9XCdjYW52YXNDdXN0b20oJytqKycsJytpKycpXCc+PC9idXR0b24+JzsNCgkJCQkJaHRtbHRtcCArPSBidXR0b247DQoJCQkJfQ0KCQkJfQ0KCQkJLy9ib3guaWQgPSAnY2FudmFzQ3VzdG9tQXJlYSc7DQoJCQkvL2JveC5pbm5lckhUTUwgPSBodG1sdG1wOw0KCQkJYm94ICs9IGh0bWx0bXAgKyc8L2xpPjxsaT48YnV0dG9uIHR5cGU9ImJ1dHRvbiIgdi1vbjpjbGljaz0iYWRkVGV4dCgpIj5URVhUPC9idXR0b24+PC9saT4nOw0KCQkJLy90aGlzLmJzYXJlYS5hcHBlbmRDaGlsZChib3gpOw0KCQkJdGhpcy5ic2FyZWEgKz0gYm94Ow0KCQkJLypsZXQgYm94MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIik7DQoJCQkJYm94Mi5pbm5lckhUTUwgPSAnPGJ1dHRvbiB0eXBlPSJidXR0b24iIHYtb246Y2xpY2s9ImFkZFRleHQoKSI+VEVYVDwvYnV0dG9uPic7DQoJCQl0aGlzLmJzYXJlYS5hcHBlbmRDaGlsZChib3gyKTsqLw0KCQl9LA0KCQkvL+aWsOWinuaWh+WtlywNCgkJYWRkVGV4dDogZnVuY3Rpb24oYXJyLG50aCl7DQoJCQlpZih0aGlzLmNhbnZhc1NldC5wb2ludC5sZW5ndGggPT0gMCl7DQoJCQkJYWxlcnQoJ+iri+WFiOW7uueri+eVq+W4gycpOw0KCQkJCXJldHVybiBmYWxzZTsNCgkJCX0NCgkJCWFyciA9IGFyciB8fCB7dGV4dDoiIix4OjAseTowLHNpemU6MzYsZm9udDoiJ05vdG9cXCBTYW5zXFwgVEMnIixjb2xvcjoiIzAwMCIsd2VpZ2h0OjQwMH07DQoJCQludGggPSBudGgrMXx8ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgidGV4dC1ibG9jayIpLmxlbmd0aCsxOw0KCQkJbGV0IGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KCQkJCWJveC5pZCA9ICJ0ZXh0QmxvY2siK250aDsNCgkJCQlib3guY2xhc3NOYW1lPSJ0ZXh0LWJsb2NrIjsNCgkJCQlib3guaW5uZXJIVE1MID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlbXBTZWxlY3RUZXh0IikuaW5uZXJIVE1MOw0KCQkJCWJveC5zdHlsZS50b3AgPSAiMCI7DQoJCQkJYm94LnN0eWxlLmxlZnQgPSAiMCI7DQoJCQkJYm94LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJCdXR0b24iKVswXS5zZXRBdHRyaWJ1dGUoIm9ubW91c2Vkb3duIiwndGV4dF9kb3duKCcrbnRoKycpJyk7DQoJCQkJYm94LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInBpY2tlciIpWzBdLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCJwaWNrZXIgcGlja2VyIitudGgpOw0KCQkJCWJveC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJwaWNrZXIiKVswXS5zZXRBdHRyaWJ1dGUoImRhdGEtbnRoIixudGgpOw0KCQkJCWJveC5zZXRBdHRyaWJ1dGUoIm9ubW91c2V1cCIsJ3VwKCknKTsNCgkJCWxldCB0ZXh0ID0gYm94LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInRleHQiKVswXTsNCgkJCQl0ZXh0LnNldEF0dHJpYnV0ZSgib25jaGFuZ2UiLCd0ZXh0VmFsdWUoJytudGgrJyknKTsNCgkJCQl0ZXh0LnZhbHVlID0gYXJyLnRleHQ7DQoJCQkJdGV4dC5zdHlsZS5jb2xvciA9IGFyci5jb2xvcjsNCgkJCWxldCBzaXplID0gYm94LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInNpemUiKVswXTsNCgkJCQlzaXplLnNldEF0dHJpYnV0ZSgib25jaGFuZ2UiLCd0ZXh0U2l6ZSgnK250aCsnKScpOw0KCQkJbGV0IHR5cGUgPSBib3guZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZm9udC10eXBlIilbMF07DQoJCQkJdHlwZS5zZXRBdHRyaWJ1dGUoIm9uY2hhbmdlIiwndGV4dEZvbnQoJytudGgrJyknKTsNCgkJCWxldCB3ZWlnaHQgPSBib3guZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZm9udC13ZWlnaHQiKVswXTsNCgkJCQl3ZWlnaHQuc2V0QXR0cmlidXRlKCJvbmNoYW5nZSIsJ3RleHRXZWlnaHQoJytudGgrJyknKTsNCgkJCWxldCBzY2FsZSA9IHRoaXMuc2V0U2NhbGUoKTsNCgkJCQlib3guZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgidGV4dC1jb250cm9sIilbMF0uc2V0QXR0cmlidXRlKCJzdHlsZSIsJ3RyYW5zZm9ybTogc2NhbGUoJytzY2FsZSsnKScpOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgidGV4dC1hcmVhIilbMF0uYXBwZW5kQ2hpbGQoYm94KTsNCgkJCWlmKCF0aGlzLmNhbnZhc1NldC50ZXh0KXRoaXMuY2FudmFzU2V0LnRleHQgPSBbXTsNCgkJCSh0aGlzLmNhbnZhc1NldC50ZXh0Lmxlbmd0aDxudGgpP3RoaXMuY2FudmFzU2V0LnRleHQucHVzaChhcnIpOnRoaXMuY2FudmFzU2V0LnRleHRbbnRoLTFdPWFycjsNCgkJCXRoaXMudGV4dFZhbHVlKG50aCk7DQoJCQl0aGlzLnRleHRTaXplKG50aCxhcnIuc2l6ZSk7DQoJCQl0aGlzLnRleHRGb250KG50aCxhcnIuZm9udCk7DQoJCQl0aGlzLnRleHRXZWlnaHQobnRoLGFyci53ZGlnaHQpOw0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRleHRCbG9jayIrbnRoKS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJwaWNrZXIiKVswXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBhcnIuY29sb3I7DQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGV4dEJsb2NrIitudGgpLnN0eWxlLnRvcCA9IGFyci55ICsgInB4IjsNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXh0QmxvY2siK250aCkuc3R5bGUubGVmdCA9IGFyci54ICsgInB4IjsNCgkJCS8qQ29sb3JwaWNrZXIuY3JlYXRlKHsNCgkJCQliaW5kQ2xhc3M6J3BpY2tlcicrbnRoLCAvLyDov5nph4znmoRwaWNrZXLlj6/pmo/mhI/loasg5LiN6aG76KaB6Lef5oiR5ZCM5qC3DQoJCQkJaW5pdENvbG9yOmFyci5jb2xvciwNCgkJCQljaGFuZ2U6IGZ1bmN0aW9uKGVsZW0saGV4KXsNCgkJCQkgIC8vIGVsZW06IOe7keWumueahOWFg+e0oA0KCQkJCSAgLy8gaGV477ya5b2T5YmN6YCJ5Lit6aKc6Imy55qEaGV45YC8DQoJCQkJICBlbGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGhleDsNCgkJCQkgIGxldCBudGggPSBlbGVtLmdldEF0dHJpYnV0ZSgiZGF0YS1udGgiKTsNCgkJCQkgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXh0QmxvY2siK250aCkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgidGV4dCIpWzBdLnN0eWxlLmNvbG9yID0gaGV4Ow0KCQkJCSAgdGhpcy5jYW52YXNTZXQudGV4dFtudGgtMV0uY29sb3IgPSBoZXg7DQoJCQkJfQ0KCQkJfSkqLw0KCQl9LA0KCQl0ZXh0VmFsdWU6IGZ1bmN0aW9uKG50aCl7DQoJCQlsZXQgdGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXh0QmxvY2siK250aCkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgidGV4dCIpWzBdOw0KCQkJCXRleHQuc2V0QXR0cmlidXRlKCJzaXplIix0ZXh0LnZhbHVlLmxlbmd0aCoyKTsNCgkJCQlpZih0ZXh0LnZhbHVlLmxlbmd0aD09MCl0ZXh0LnNldEF0dHJpYnV0ZSgic2l6ZSIsNSk7DQoJCQl0aGlzLmNhbnZhc1NldC50ZXh0W250aC0xXS50ZXh0ID0gdGV4dC52YWx1ZTsNCgkJfSwNCgkJdGV4dFNpemU6IGZ1bmN0aW9uKG50aCxzaXplKXsNCgkJCWxldCB0ZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRleHRCbG9jayIrbnRoKS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJ0ZXh0IilbMF07DQoJCQkJc2l6ZSA9IHNpemV8fGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXh0QmxvY2siK250aCkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgic2l6ZSIpWzBdLnZhbHVlOw0KCQkJdGhpcy5jYW52YXNTZXQudGV4dFtudGgtMV0uc2l6ZSA9IHNpemU7DQoJCQl0ZXh0LnN0eWxlLmZvbnRTaXplID0gc2l6ZSsicHgiOw0KCQkJdGV4dC5zdHlsZS5oZWlnaHQgPSBzaXplKyJweCI7DQoJCQl0ZXh0LnN0eWxlLmxpbmVIZWlnaHQgPSBzaXplKyJweCI7DQoJCX0sDQoJCXRleHRGb250OiBmdW5jdGlvbihudGgsZm9udCl7DQoJCQlsZXQgdGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXh0QmxvY2siK250aCkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgidGV4dCIpWzBdOw0KCQkJCWZvbnQgPSBmb250fHxkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGV4dEJsb2NrIitudGgpLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImZvbnQtdHlwZSIpWzBdLnZhbHVlOw0KCQkJdGhpcy5jYW52YXNTZXQudGV4dFtudGgtMV0uZm9udCA9IGZvbnQ7DQoJCQl0ZXh0LnN0eWxlLmZvbnRGYW1pbHkgPSBmb250Ow0KCQl9LA0KCQl0ZXh0V2VpZ2h0OiBmdW5jdGlvbihudGgsd2VpZ2h0KXsNCgkJCWxldCB0ZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRleHRCbG9jayIrbnRoKS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJ0ZXh0IilbMF07DQoJCQkJd2VpZ2h0ID0gd2VpZ2h0fHxkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGV4dEJsb2NrIitudGgpLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImZvbnQtd2VpZ2h0IilbMF0udmFsdWU7DQoJCQl0aGlzLmNhbnZhc1NldC50ZXh0W250aC0xXS53ZWlnaHQgPSB3ZWlnaHQ7DQoJCQl0ZXh0LnN0eWxlLmZvbnRXZWlnaHQgPSB3ZWlnaHQ7DQoJCX0sDQoJCWdldEltZzogZnVuY3Rpb24oKSB7DQoJCQkvLyDnmbzpgIEgQWpheCDmn6XoqaLoq4vmsYLkuKbomZXnkIYNCgkJCXZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7DQoJCQlyZXF1ZXN0Lm9wZW4oIkdFVCIsICJpbWcucGhwP2ltZz0iICsgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImtleXdvcmQiKS52YWx1ZSk7DQoJCQlyZXF1ZXN0LnNlbmQoKTsNCgkJCWRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdGltZycpKTsNCgkJCXJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7DQoJCQkJLy8g5Ly65pyN5Zmo6KuL5rGC5a6M5oiQDQoJCQkJaWYgKHJlcXVlc3QucmVhZHlTdGF0ZSA9PT0gNCkgew0KCQkJCQkvLyDkvLrmnI3lmajlm57mh4nmiJDlip8NCgkJCQkJaWYgKHJlcXVlc3Quc3RhdHVzID09PSAyMDApIHsNCgkJCQkJCXZhciB0eXBlID0gcmVxdWVzdC5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1UeXBlIik7ICAgLy8g5Y+W5b6X5Zue5oeJ6aGe5Z6LDQoNCgkJCQkJCS8vIOWIpOaWt+WbnuaHiemhnuWeiw0KCQkJCQkJaWYgKHR5cGUuaW5kZXhPZigiYXBwbGljYXRpb24vanNvbiIpID09PSAwKSB7CQkJICAgDQoJCQkJCQkJbGV0IGRhdGEgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTsNCgkJCQkJCQlsZXQgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQoJCQkJCQkJCWJveC5pZCA9ICJzZWxlY3RpbWciOw0KCQkJCQkJCQlib3guaW5uZXJIVE1MID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlbXBTZWxlY3RJbWciKS5pbm5lckhUTUw7DQoJCQkJCQkJaWYgKGRhdGEuaW1hZ2VzKSB7DQoJCQkJCQkJCWxldCBpbWFnZXMgPSAiIjsNCgkJCQkJCQkJZm9yKGxldCBpPTA7aTxkYXRhLmltYWdlcy5sZW5ndGg7aSsrKXsNCgkJCQkJCQkJCWltYWdlcys9JzxsaT48aW1nIHNyYz0iaW1hZ2VzLycrZGF0YS5pbWFnZXNbaV0rJyIgdi1vbjpjbGljaz0iYWRkaW1nKHRlbXBTZXQubV9udGgsXCcnK2RhdGEuaW1hZ2VzW2ldKydcJywwLDAsMSwwKTtkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwnc2VsZWN0aW1nXCcpKSI+PC9saT4nOw0KCQkJCQkJCQl9DQoJCQkJCQkJCWJveC5nZXRFbGVtZW50c0J5VGFnTmFtZSgidWwiKVswXS5pbm5lckhUTUwgPSBpbWFnZXM7DQoJCQkJCQkJfSBlbHNlIHsNCgkJCQkJCQkJYm94LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ1bCIpWzBdLmlubmVySFRNTCA9IGRhdGEubXNnOw0KCQkJCQkJCX0NCgkJCQkJCQlkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGJveCk7DQoJCQkJCQl9DQoJCQkJCX0gZWxzZSB7DQoJCQkJCQlhbGVydCgi55m855Sf6Yyv6KqkOiAiICsgcmVxdWVzdC5zdGF0dXMpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfQ0KfQ0KCQkvL3ZhciBhcnIgPSAneyJwb2ludCI6W1swLDQwMCw4MDBdLFswLDQwMCw4MDBdXSwiY2FudmFzUG9zaXRpb24iOltbMCwwLDEsMV0sWzAsMSwxLDJdLFsxLDAsMiwyXV0sImltZ1Bvc2l0aW9uIjpbWzAsMCwxLCJpbWcuanBnIl0sWzAsMCwxLCJpbWcyLmpwZyJdXSwic3BhY2luZyI6MX0nOw0KCQkvKnZhciBjYW52YXNTZXQgPSB7fTsNCgkJdmFyIHRlbXBTZXQgPSB7DQoJCQkiY2FudmFzQXJlYSI6W10sDQoJCQkiY2FudmFzUG9zaXRpb25DdXN0b20iOltdLA0KCQkJLy/ntIDpjITmu5HpvKDmk43kvZzkuovku7YNCgkJCSJ0ZXh0X2lzRG93biI6ZmFsc2UsDQoJCQkiY29udHJvbF9pc0Rvd24iOmZhbHNlLA0KCQkJInBvbml0eHlfaXNEb3duIjpmYWxzZSwNCgkJCSJjYW52YXNDdXN0b21faXNEb3duIjpmYWxzZSwNCgkJCS8v57SA6YyE5ruR6byg5pON5L2c5pW45pOaLeiHquioguWNgOWhiuWOn+Wni+i1t+m7ng0KCQkJImNhbnZhc0N1c3RvbV94IjowLA0KCQkJImNhbnZhc0N1c3RvbV95IjowLA0KCQkJLy/ntIDpjITmu5HpvKDmk43kvZzmlbjmk5oNCgkJCSJtX250aCI6MCwNCgkJCSJtX21vdmVfeCI6MCwNCgkJCSJtX21vdmVfeSI6MCwNCgkJCSJtX2Rvd25feCI6MCwNCgkJCSJtX2Rvd25feSI6MCwNCgkJCSJtX250aF94IjowLA0KCQkJIm1fbnRoX3kiOjANCgkJfTsNCgkJdGhpcy5hZGRib3hTZWxlY3QoKTsNCgkJaWYoIWNhbnZhc1NldERhdGEudmFsdWUgPT0gZmFsc2Upew0KCQkJLy/ovInlhaXljp/lp4voqK3lrpoNCgkJCWNhbnZhc1NldCA9IEpTT04ucGFyc2UoY2FudmFzU2V0RGF0YS52YWx1ZSk7DQoJCQl0aGlzLnJlc2V0Q2FudmFzKHRoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uLmxlbmd0aCk7DQoJCQkvL+W7uueri+aWh+Wtl+izh+aWmQ0KCQkJaWYoIXRoaXMuY2FudmFzU2V0LnRleHQpdGhpcy5jYW52YXNTZXQudGV4dCA9IFtdOw0KCQkJaWYodGhpcy5jYW52YXNTZXQudGV4dC5sZW5ndGggPiAwKXsNCgkJCQlmb3IobGV0IGk9MDtpPHRoaXMuY2FudmFzU2V0LnRleHQubGVuZ3RoO2krKyl7DQoJCQkJCXRoaXMuYWRkVGV4dCh0aGlzLmNhbnZhc1NldC50ZXh0W2ldLGkpOw0KCQkJCX0NCgkJCX0NCgkJfQ0KCQl3aW5kb3cub25yZXNpemUgPSBmdW5jdGlvbigpew0KCQkJaWYoIXRoaXMuY2FudmFzU2V0LmNhbnZhc1Bvc2l0aW9uID09IGZhbHNlKXRoaXMucmVzZXRDYW52YXModGhpcy5jYW52YXNTZXQuY2FudmFzUG9zaXRpb24ubGVuZ3RoKTsNCgkJfSovDQo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkJA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\r\n\t<div id=\"app\" @mouseup=\"up()\" @mousemove=\"move()\">\r\n\t\t<!--<ul class=\"box-select\" v-html=\"bsarea\">-->\r\n\t\t<ul class=\"box-select\">\r\n\t\t\t<li v-for=\"(todo, index) in todos\" :key='index'>\r\n\t\t\t\t<button type=\"button\" v-on:click=\"changeBox(todo)\"><svg v-html=\"madeSVG(index)\"></svg></button>\r\n\t\t\t</li>\r\n\t\t\t<li id=\"canvasCustomArea\">\r\n\t\t\t\t<div style=\"width:100%;line-height:30px;\">自訂圖片配置</div>\r\n\t\t\t\t<div v-for=\"i in 10\" :key='i'>\r\n\t\t\t\t\t<button v-for=\"j in 10\" :key='j' :id=\"'canvasCustom'+(j-1)+(i-1)\" type=\"button\" v-on:click=\"canvasCustom(j-1,i-1)\"></button>\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t\t<li><button type=\"button\" v-on:click=\"addText()\">TEXT</button></li>\r\n\t\t</ul>\r\n\t\t<div class=\"edit-box-wrap\">\r\n\t\t\t<div class=\"edit-box\" v-bind:style=\"earea_style\">\r\n\t\t\t\t<div class=\"canvas-area\" v-html=\"canvas_area\"></div>\r\n\t\t\t\t<div class=\"control-area\">\r\n\t\t\t\t\t<div v-for=\"(control, index) in controls\" :key='control.id' :id=\"'control'+(index+1)\" \r\n\t\t\t\t\t@mousedown=\"control_down(index+1)\" \r\n\t\t\t\t\t@wheel=\"MouseWheel(index+1)\" \r\n\t\t\t\t\t@mouseout=\"up()\" \r\n\t\t\t\t\t:style=\"control.style\">\r\n\t\t\t\t\t\t<button type=\"button\" \r\n\t\t\t\t\t\tv-on:click=\"searchimg(index+1)\" \r\n\t\t\t\t\t\t:style=\"'transform:scale('+control.scale+')'\">變更圖片</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div v-for=\"(pointxy, index) in pointxys\" :key='pointxy.id' \r\n\t\t\t\t\t@mousedown=\"ponitxy_down(index+1)\" \r\n\t\t\t\t\tclass=\"pointxy\" \r\n\t\t\t\t\t:id=\"'pointxy'+(index+1)\" \r\n\t\t\t\t\t:style=\"pointxy.style\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"text-area\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"button-area\">\r\n\t\t\t圖片尺寸 \r\n\t\t\t寬 <input type=\"number\" name=\"canvasWidth\" v-on:change='canvas_Width()' min=\"10\" max=\"3000\" v-model=\"canvasWidth\">\r\n\t\t\t高 <input type=\"number\" name=\"canvasHeight\" v-on:change='canvas_Height()' min=\"10\" max=\"3000\" v-model=\"canvasHeight\">\r\n\t\t\t間距 <input type=\"number\" name=\"canvaslinewidth\" v-on:change='canvas_line_Width()' min=0 v-model=\"canvasSet.spacing\">\r\n\t\t\t<button type=\"button\" v-on:click=\"changeTEST\">測試</button>\r\n\t\t\t<button type=\"button\" v-on:click=\"getBase64()\">完成送出</button>\r\n\t\t\t<button type=\"button\" v-on:click=\"resetCanvas(this.canvasSet.canvasPosition.length);\">重新整理</button>\r\n\t\t</div>\r\n\t\t\r\n\t\t<!--<textarea id=\"canvasSetData\" style=\"display:none;\">\r\n\t\t\t{\"point\":[[0,480,960],[0,480,960]],\"canvasPosition\":[[0,0,1,1],[1,0,2,1],[0,1,1,2],[1,1,2,2]],\"spacing\":0,\"imgPosition\":[[\"images/5415_P_20200307012921_1.jpg\",-21,-108,1.2,348],[\"images/5428_P_20200307002947_1.jpg\",-18,-92,1.15,0],[\"images/5345_P_20200220221542_1.jpg\",1,-70,1,0],[\"images/5488_P_20200330124416_1.jpg\",-25,-113,1.2,12]],\"text\":[{\"text\":\"文字\",\"x\":304,\"y\":565,\"size\":36,\"font\":\"'Noto\\\\ Sans\\\\ TC'\",\"color\":\"#cf610c\",\"weight\":\"400\"}]}\r\n\t\t</textarea>-->\r\n\t\t<textarea id=\"canvasSetData\" style=\"display:none;\" v-model=\"canvasSet\"></textarea>\r\n\t\t<div id=\"tempSelectImg\">\r\n\t\t\t<div class=\"selectimg-area\">\r\n\t\t\t\t<div class=\"selectimg\">\r\n\t\t\t\t\t<button type=\"button\" onclick=\"document.body.removeChild(document.getElementById('selectimg'))\">關閉</button>\r\n\t\t\t\t\t<input type=\"text\" name=\"keyword\" size=\"20\" id=\"keyword\">\r\n\t\t\t\t\t<button type=\"button\" v-on:click=\"getImg()\">搜尋</button>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li><img src=\"images/5522_P_20200328085257_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'images/5522_P_20200328085257_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"images/5523_P_20200325183143_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'images/5523_P_20200325183143_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"images/5524_P_20200417151430_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'images/5524_P_20200417151430_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"images/5525_P_20200328083559_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'images/5525_P_20200328083559_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"images/5526_P_20200328084253_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'images/5526_P_20200328084253_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"images/5527_P_20200330181837_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'images/5527_P_20200330181837_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"images/5528_P_20200328082251_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'images/5528_P_20200328082251_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"images/5529_P_20200328082627_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'images/5529_P_20200328082627_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"images/5536_P_20200407212522_1.jpg\" v-on:click=\"addimg(tempSet.m_nth,'images/5536_P_20200407212522_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div id=\"tempSearchImg\">\r\n\t\t\t<div class=\"selectimg-area\">\r\n\t\t\t\t<div class=\"selectimg\">\r\n\t\t\t\t\t<button type=\"button\" onclick=\"document.body.removeChild(document.getElementById('selectimg'))\">關閉</button>\r\n\t\t\t\t\t<input type=\"text\" name=\"keyword\" size=\"20\" id=\"keyword\">\r\n\t\t\t\t\t<button type=\"button\" v-on:click=\"getImg()\">搜尋</button>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5719_P_20200806154558_1.jpg\" v-on:click=\"console.log(999);addimg(tempSet.m_nth,'./assets/5719_P_20200806154558_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5720_P_20200806172459_1.jpg\" v-on:click=\"console.log(999);addimg(tempSet.m_nth,'./assets/5720_P_20200806172459_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5732_P_20200804164529_1.jpg\" v-on:click=\"console.log(999);addimg(tempSet.m_nth,'./assets/5732_P_20200804164529_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5741_P_20200731175711_1.jpg\" v-on:click=\"console.log(999);addimg(tempSet.m_nth,'./assets/5741_P_20200731175711_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5742_P_20200731174705_1.jpg\" v-on:click=\"console.log(999);addimg(tempSet.m_nth,'./assets/5742_P_20200731174705_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5749_P_20200731181755_1.jpg\" v-on:click=\"console.log(999);addimg(tempSet.m_nth,'./assets/5749_P_20200731181755_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5751_P_20200803164106_5.jpg\" v-on:click=\"console.log(999);addimg(tempSet.m_nth,'./assets/5751_P_20200803164106_5.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5752_P_20200803173334_1.jpg\" v-on:click=\"console.log(999);addimg(tempSet.m_nth,'./assets/5752_P_20200803173334_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5754_P_20200731212125_1.jpg\" v-on:click=\"console.log(999);addimg(tempSet.m_nth,'./assets/5754_P_20200731212125_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5763_P_20200731183842_5.jpg\" v-on:click=\"console.log(999);addimg(tempSet.m_nth,'./assets/5763_P_20200731183842_5.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5765_P_20200803182012_1.jpg\" v-on:click=\"console.log(999);addimg(tempSet.m_nth,'./assets/5765_P_20200803182012_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t\t<li><img src=\"./assets/5767_P_20200804154721_1.jpg\" v-on:click=\"console.log(999);addimg(tempSet.m_nth,'./assets/5767_P_20200804154721_1.jpg',0,0,1,0);document.body.removeChild(document.getElementById('selectimg'))\"></li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div id=\"tempShow\">\r\n\t\t\t<div class=\"selectimg-area\">\r\n\t\t\t\t<div class=\"selectimg\">\r\n\t\t\t\t\t<button type=\"button\" onclick=\"document.body.removeChild(document.getElementById('selectimg'))\">關閉</button>\r\n\t\t\t\t\t<img>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div id=\"tempSelectText\">\r\n\t\t\t<input type=\"text\" class=\"text\" style=\"font-weight: 400;font-size: 36px;line-height: 36px;height: 36px;color:#f00;font-family: Noto Sans TC;\" size=\"3\">\r\n\t\t\t<div class=\"text-control\">\r\n\t\t\t\t<button type=\"button\">拖曳移動</button><br>\r\n\t\t\t\t<input class=\"size\" type=\"number\" min=\"6\" value=\"36\" title=\"文字大小\"><br>\r\n\t\t\t\t<select class=\"font-type\" title=\"字體\">\r\n\t\t\t\t\t<option value=\"'Noto\\ Sans\\ TC'\" style=\"font-family:'Noto Sans TC',sans-serif;\">Noto Sans TC-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'Noto\\ Serif\\ TC'\" style=\"font-family:'Noto Serif TC',sans-serif;\">Noto Serif TC-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'STXihei'\" style=\"font-family:STXihei;\">華文細黑-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'STHeiti'\" style=\"font-family:STHeiti;\">華文黑體-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'STKaiti'\" style=\"font-family:STKaiti;\">華文楷體-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'STSong'\" style=\"font-family:STSong;\">華文宋體-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'STFangsong'\" style=\"font-family:STFangsong;\">華文仿宋-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'LiHei Pro Medium'\" style=\"font-family:LiHei Pro Medium;\">儷黑 Pro-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'LiSong Pro Light'\" style=\"font-family:LiSong Pro Light;\">儷宋 Pro-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'BiauKai'\" style=\"font-family:BiauKai;\">標楷體-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'Apple LiGothic Medium'\" style=\"font-family:Apple LiGothic Medium;\">蘋果儷中黑-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'Apple LiSung Light'\" style=\"font-family:Apple LiSung Light;\">蘋果儷細宋-範例Sample</option>\r\n\r\n\t\t\t\t\t<option value=\"'PMingLiU'\" style=\"font-family:PMingLiU;\">新細明體-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'MingLiU'\" style=\"font-family:MingLiU;\">細明體-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'DFKai-SB'\" style=\"font-family:DFKai-SB;\">標楷體-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'SimHei'\" style=\"font-family:SimHei;\">黑體-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'NSimSun'\" style=\"font-family:NSimSun;\">新宋體-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'FangSong'\" style=\"font-family:FangSong;\">仿宋-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'KaiTi'\" style=\"font-family:KaiTi;\">楷體-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'FangSong_GB2312'\" style=\"font-family:FangSong_GB2312;\">仿宋_GB2312-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'KaiTi_GB2312'\" style=\"font-family:KaiTi_GB2312;\">楷體_GB2312-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'Microsoft JhengHei'\" style=\"font-family:Microsoft JhengHei;\">微軟正黑體-範例Sample</option>\r\n\t\t\t\t\t<option value=\"'Microsoft YaHei'\" style=\"font-family:Microsoft YaHei;\">微軟雅黑體-範例Sample</option>\r\n\t\t\t\t</select><br>\r\n\t\t\t\t<select class=\"font-weight\" title=\"文字粗細\">\r\n\t\t\t\t\t<option value=\"100\">細</option>\r\n\t\t\t\t\t<option value=\"400\" selected=\"selected\">標準</option>\r\n\t\t\t\t\t<option value=\"900\">粗</option>\r\n\t\t\t\t</select>\r\n\t\t\t\t<div class=\"picker\" style=\"height:20px;width: 20px;background-color:#f00;\" title=\"文字顏色\"></div>\r\n\t\t\t\t<!--<input type=\"text\" name=\"\" id=\"\">-->\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n//import HelloWorld from './components/HelloWorld.vue'\r\n\r\nexport default {\r\n\tname: 'App',\r\n\t/*components: {\r\n\t\tHelloWorld\r\n\t}*/\r\n\t//props:['prop1','prop2'],\r\n\t//created: function () {\r\n\tmounted: function() {\r\n\t\t//alert('{{prop1}} created.');\r\n\t\t//if(!this.canvasSet.canvasPosition == false)this.resetCanvas(this.canvasSet.canvasPosition.length);\r\n\t\t//this.addboxSelect();\r\n\t\t//if(!canvasSetData.value == false){\r\n\t\t//console.log(this.todos);\r\n\t\tif(this.canvasSet.canvasPosition.length > 0){\r\n\t\t\t//載入原始設定\r\n\t\t\t//canvasSet = JSON.parse(canvasSetData.value);\r\n\t\t\tthis.resetCanvas(this.canvasSet.canvasPosition.length);\r\n\t\t\t//setTimeout('this.resetCanvas(this.canvasSet.canvasPosition.length)',500);\r\n\t\t\t//建立文字資料\r\n\t\t\t/*if(!this.canvasSet.text)this.canvasSet.text = [];\r\n\t\t\tif(this.canvasSet.text.length > 0){\r\n\t\t\t\tfor(let i=0;i<this.canvasSet.text.length;i++){\r\n\t\t\t\t\tthis.addText(this.canvasSet.text[i],i);\r\n\t\t\t\t}\r\n\t\t\t}*/\r\n\t\t}\r\n\t\t/*window.onresize = function(){\r\n\t\t\tif(!this.canvasSet.canvasPosition == false)this.resetCanvas(this.canvasSet.canvasPosition.length);\r\n\t\t}*/\r\n\t},\r\n\t/*computed: {\r\n\t\t// a computed getter\r\n\t\treversedMessage: function () {\r\n\t\t\t// `this` points to the vm instance\r\n\t\t\treturn this.message.split('').reverse().join('')\r\n\t\t},\r\n\t\tbsarea() {\r\n\t\t\t//return '<button></button >'\r\n\t\t\treturn this.addboxSelect();\r\n\t\t}\r\n\t},*/\r\n\tdata(){\r\n\t\treturn{\r\n\t\t\tcontrols:[],\r\n\t\t\tpointxys:[],\r\n\t\t\ttodos: [\r\n\t\t\t\t{\"point\":[[0,480,960],[0,960]],\"canvasPosition\":[[0,0,1,1],[1,0,2,1]]},\r\n\t\t\t\t{\"point\":[[0,960],[0,480,960]],\"canvasPosition\":[[0,0,1,1],[0,1,1,2]]},\r\n\t\t\t\t{\"point\":[[0,240,480,960],[0,960]],\"canvasPosition\":[[0,0,1,1],[1,0,2,1],[2,0,3,1]]},\r\n\t\t\t\t{\"point\":[[0,960],[0,240,480,960]],\"canvasPosition\":[[0,0,1,1],[0,1,1,2],[0,2,1,3]]},\r\n\t\t\t\t{\"point\":[[0,480,960],[0,480,960]],\"canvasPosition\":[[0,0,1,1],[0,1,1,2],[1,0,2,2]]},\r\n\t\t\t\t{\"point\":[[0,480,960],[0,480,960]],\"canvasPosition\":[[0,0,1,1],[1,0,2,1],[0,1,2,2]]},\r\n\t\t\t\t{\"point\":[[0,480,960],[0,480,960]],\"canvasPosition\":[[0,0,2,1],[0,1,1,2],[1,1,2,2]]},\r\n\t\t\t\t{\"point\":[[0,480,960],[0,480,960]],\"canvasPosition\":[[0,0,1,2],[1,0,2,1],[1,1,2,2]]},\r\n\t\t\t\t{\"point\":[[0,240,480,720,960],[0,960]],\"canvasPosition\":[[0,0,1,1],[1,0,2,1],[2,0,3,1],[3,0,4,1]]},\r\n\t\t\t\t{\"point\":[[0,960],[0,240,480,720,960]],\"canvasPosition\":[[0,0,1,1],[0,1,1,2],[0,2,1,3],[0,3,1,4]]},\r\n\t\t\t\t{\"point\":[[0,480,960],[0,480,960]],\"canvasPosition\":[[0,0,1,1],[1,0,2,1],[0,1,1,2],[1,1,2,2]]},\r\n\t\t\t\t{\"point\":[[0,480,960],[0,320,640,960]],\"canvasPosition\":[[0,0,1,1],[0,1,1,2],[0,2,1,3],[1,0,2,3]]},\r\n\t\t\t\t{\"point\":[[0,320,640,960],[0,480,960]],\"canvasPosition\":[[0,0,1,1],[1,0,2,1],[2,0,3,1],[0,1,3,2]]},\r\n\t\t\t\t{\"point\":[[0,320,640,960],[0,480,960]],\"canvasPosition\":[[0,0,3,1],[0,1,1,2],[1,1,2,2],[2,1,3,2]]},\r\n\t\t\t\t{\"point\":[[0,480,960],[0,320,640,960]],\"canvasPosition\":[[0,0,1,3],[1,0,2,1],[1,1,2,2],[1,2,2,3]]}\r\n\t\t\t],\r\n\t\t\t//carea: '',\r\n\t\t\t//bsarea: '',\r\n\t\t\tcanvas_area:'',\r\n\t\t\tearea_style:'transform: scale(1)',\r\n\t\t\tcanvasWidth:0,\r\n\t\t\tcanvasHeight:0,\r\n\t\t\t//canvaslinewidth:0,\r\n\t\t\t//canvasSet: {\"point\":[[0,480,960],[0,480,960]],\"canvasPosition\":[[0,0,2,1],[0,1,1,2],[1,1,2,2]],\"spacing\":0,\"imgPosition\":[[\"images/5383_P_20200320122209_5.jpg\",0,0,1,0],[\"images/5415_P_20200307012921_1.jpg\",0,0,1,0],[\"images/5428_P_20200307002947_1.jpg\",0,-52,1,0]]},\r\n\t\t\tcanvasSet:{\r\n\t\t\t\t\"point\":[],\r\n\t\t\t\t\"canvasPosition\":[],\r\n\t\t\t\t\"spacing\":0,\r\n\t\t\t\t\"imgPosition\":[]\r\n\t\t\t},\r\n\t\t\ttempSet: {\r\n\t\t\t\t\"canvasArea\":[],\r\n\t\t\t\t\"canvasPositionCustom\":[],\r\n\t\t\t\t//紀錄滑鼠操作事件\r\n\t\t\t\t\"text_isDown\":false,\r\n\t\t\t\t\"control_isDown\":false,\r\n\t\t\t\t\"ponitxy_isDown\":false,\r\n\t\t\t\t\"canvasCustom_isDown\":false,\r\n\t\t\t\t//紀錄滑鼠操作數據-自訂區塊原始起點\r\n\t\t\t\t\"canvasCustom_x\":0,\r\n\t\t\t\t\"canvasCustom_y\":0,\r\n\t\t\t\t//紀錄滑鼠操作數據\r\n\t\t\t\t\"m_nth\":0,\r\n\t\t\t\t\"m_move_x\":0,\r\n\t\t\t\t\"m_move_y\":0,\r\n\t\t\t\t\"m_down_x\":0,\r\n\t\t\t\t\"m_down_y\":0,\r\n\t\t\t\t\"m_nth_x\":0,\r\n\t\t\t\t\"m_nth_y\":0\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods:{\r\n\t\taddComment:function (event) {\r\n\t\t\tif(event.target.nodeName === 'BUTTON'){\r\n\t\t\t\t// 获取触发事件对象的属性\r\n\t\t\t\tconsole.log(123);\r\n\t\t\t}\r\n\t\t},\r\n\t\tresetCanvas: function(size,imgReposition){\r\n\t\t\timgReposition = imgReposition || false;\r\n\t\t\tlet barea = document.getElementsByClassName(\"button-area\")[0];// eslint-disable-line no-unused-vars\r\n\t\t\tthis.canvasWidth = this.canvasSet.point[0][this.canvasSet.point[0].length-1];\r\n\t\t\tthis.canvasHeight = this.canvasSet.point[1][this.canvasSet.point[1].length-1];\r\n\t\t\tthis.canvas_area='';\r\n\t\t\tconsole.log(this.canvasWidth);\r\n\t\t\t//設定畫布顯示縮放倍率\r\n\t\t\tlet scale = 1;\r\n\t\t\t\r\n\t\t\tlet earea_wrap_w = window.innerWidth - 300;\r\n\t\t\tlet earea_wrap_h = window.innerHeight;\r\n\t\t\tif(this.canvasWidth>earea_wrap_w*0.9){\r\n\t\t\t\tthis.earea_style ='transform: scale('+(earea_wrap_w*0.9/this.canvasWidth)+')';\r\n\t\t\t\tscale = 1/(earea_wrap_w*0.9/this.canvasWidth);\r\n\t\t\t}\r\n\t\t\tif(this.canvasHeight*(earea_wrap_w*0.9/this.canvasWidth)>earea_wrap_h*0.9){\r\n\t\t\t\tthis.earea_style ='transform: scale('+(earea_wrap_h*0.9/this.canvasHeight)+')';\r\n\t\t\t\tscale = 1/(earea_wrap_h*0.9/this.canvasHeight);\r\n\t\t\t}\r\n\t\t\tfor(let i=0;i<document.getElementsByClassName(\"text-control\").length;i++){\r\n\t\t\t\tdocument.getElementsByClassName(\"text-control\")[i].setAttribute(\"style\",'transform: scale('+scale+')');\r\n\t\t\t}\r\n\t\t\t//取得畫布可見區域起點終點寬高\r\n\t\t\tfor(let i=0;i<size;i++){\r\n\t\t\t\tthis.tempSet.canvasArea[i]=[\r\n\t\t\t\t\tthis.canvasSet.point[0][this.canvasSet.canvasPosition[i][0]],\r\n\t\t\t\t\tthis.canvasSet.point[1][this.canvasSet.canvasPosition[i][1]],\r\n\t\t\t\t\tthis.canvasSet.point[0][this.canvasSet.canvasPosition[i][2]],\r\n\t\t\t\t\tthis.canvasSet.point[1][this.canvasSet.canvasPosition[i][3]],\r\n\t\t\t\t\tthis.canvasSet.point[0][this.canvasSet.canvasPosition[i][2]]-this.canvasSet.point[0][this.canvasSet.canvasPosition[i][0]],\r\n\t\t\t\t\tthis.canvasSet.point[1][this.canvasSet.canvasPosition[i][3]]-this.canvasSet.point[1][this.canvasSet.canvasPosition[i][1]]\r\n\t\t\t\t];\r\n\t\t\t\t//console.log(this.canvasSet.point[0]);\r\n\t\t\t}\r\n\t\t\t//console.log(this.canvasSet.point);\r\n\t\t\tthis.controls = [];\r\n\t\t\tthis.pointxys = [];\r\n\t\t\tfor(let i=1;i<=size+1;i++){\r\n\t\t\t\t//建立畫布\r\n\t\t\t\tlet box = document.createElement(\"canvas\");\r\n\t\t\t\t\tif(i<=size){\r\n\t\t\t\t\t\t//console.log(this.tempSet.canvasArea[i-1][4]);\r\n\t\t\t\t\t\tbox.id = \"canvas\"+i;\r\n\t\t\t\t\t\tbox.width = this.tempSet.canvasArea[i-1][4]-(+this.canvasSet.spacing*2);\r\n\t\t\t\t\t\tbox.height = this.tempSet.canvasArea[i-1][5]-(+this.canvasSet.spacing*2);\r\n\t\t\t\t\t\tbox.style.left = (this.tempSet.canvasArea[i-1][0]+(+this.canvasSet.spacing)) + \"px\";\r\n\t\t\t\t\t\tbox.style.top = (this.tempSet.canvasArea[i-1][1]+(+this.canvasSet.spacing)) + \"px\";\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tbox.id = \"finalCanvas\";\r\n\t\t\t\t\t\tbox.width = this.canvasWidth;\r\n\t\t\t\t\t\tbox.height = this.canvasHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\tlet wrap = document.createElement(\"div\");\r\n\t\t\t\t\twrap.appendChild(box);\r\n\t\t\t\t\tthis.canvas_area+=wrap.innerHTML;\r\n\t\t\t\tif(i<=size){\r\n\t\t\t\t\t//建立緩衝畫布\r\n\t\t\t\t\tlet box = document.createElement(\"canvas\");\r\n\t\t\t\t\t\tbox.id = \"tempcanvas\"+i;\r\n\t\t\t\t\t\tbox.width = this.tempSet.canvasArea[i-1][4]-(+this.canvasSet.spacing*2);\r\n\t\t\t\t\t\tbox.height = this.tempSet.canvasArea[i-1][5]-(+this.canvasSet.spacing*2);\r\n\t\t\t\t\t\tbox.style.left = (this.tempSet.canvasArea[i-1][0]+(+this.canvasSet.spacing)) + \"px\";\r\n\t\t\t\t\t\t//console.log(this.tempSet.canvasArea[i-1][0],this.canvasSet.spacing,this.tempSet.canvasArea[i-1][0]+(+this.canvasSet.spacing))\r\n\t\t\t\t\t\tbox.style.top = (this.tempSet.canvasArea[i-1][1]+(+this.canvasSet.spacing)) + \"px\";\r\n\t\t\t\t\tlet wrap = document.createElement(\"div\");\r\n\t\t\t\t\t\twrap.appendChild(box);\r\n\t\t\t\t\t\tthis.canvas_area+=wrap.innerHTML;\r\n\t\t\t\t\t//建立圖片定位紀錄\r\n\t\t\t\t\tif(!this.canvasSet.imgPosition)this.canvasSet.imgPosition=[];\r\n\t\t\t\t\tif(!this.canvasSet.imgPosition[i-1]){\r\n\t\t\t\t\t\tthis.canvasSet.imgPosition.push([]);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.addimg(i,this.canvasSet.imgPosition[i-1][0],this.canvasSet.imgPosition[i-1][1],this.canvasSet.imgPosition[i-1][2],this.canvasSet.imgPosition[i-1][3],this.canvasSet.imgPosition[i-1][4],imgReposition);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//建立畫布控制區\r\n\t\t\t\t\tlet box2 = {style:\"\",scale:scale};\r\n\t\t\t\t\tlet x = this.tempSet.canvasArea[i-1][0],\r\n\t\t\t\t\t\ty = this.tempSet.canvasArea[i-1][1],\r\n\t\t\t\t\t\tw = this.tempSet.canvasArea[i-1][4],\r\n\t\t\t\t\t\th = this.tempSet.canvasArea[i-1][5];\r\n\t\t\t\t\t\tbox2.style='top:'+y+'px;left:'+x+'px;width:'+w+'px;height:'+h+'px;';\r\n\t\t\t\t\t\tthis.controls.push(box2);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//建立畫布可見範圍控制按鈕\r\n\t\t\tfor(let i=1;i<size+1;i++){\r\n\t\t\t\tlet box = {style:\"\"};\r\n\t\t\t\tlet style = '';\r\n\t\t\t\t\t\tif(scale != 1)style='transform:scale('+scale+');';\r\n\t\t\t\t\tbox.style='top:'+this.tempSet.canvasArea[i-1][3]+'px;left:'+this.tempSet.canvasArea[i-1][2]+'px;'+style;\r\n\t\t\t\t\tthis.pointxys.push(box);\r\n\t\t\t}\r\n\t\t},\r\n\t\t//置入圖片,\r\n\t\taddimg: function(nth,imgName,imgx,imgy,imgz,imgr,imgReposition){\r\n\t\t\tconsole.log(123);\r\n\t\t\timgReposition = imgReposition || false;\r\n\t\t\tif(!imgName)return false;\r\n\t\t\tlet cvs = document.getElementById(\"canvas\"+nth),\r\n\t\t\t\tcvstemp = document.getElementById(\"tempcanvas\"+nth),\r\n\t\t\t\tctx = cvs.getContext(\"2d\"),\r\n\t\t\t\tctxtemp = cvstemp.getContext(\"2d\");\r\n\t\t\tctx.globalCompositeOperation=\"copy\";\r\n\t\t\tlet img = new Image();\r\n\t\t\t\timg.src=imgName;\r\n\t\t\t\timg.setAttribute('crossorigin', 'anonymous');\r\n\t\t\t\timg.crossOrigin = 'anonymous';\r\n\t\t\timgx = imgx || 0;\r\n\t\t\timgy = imgy || 0;\r\n\t\t\timgz = imgz || 1;\r\n\t\t\timgr = imgr || 0;\r\n\t\t\t//建立圖片緩衝後清除圖片\r\n\t\t\tctxtemp.drawImage(cvs, 0, 0);\r\n\t\t\tctx.clearRect(0,0,cvs.width,cvs.height);\r\n\t\t\timg.onload=function(){\r\n\t\t\t\tlet imgw = this.tempSet.canvasArea[nth-1][4],\r\n\t\t\t\t\timgh = img.height*imgw/img.width;\r\n\t\t\t\tif(imgh<this.tempSet.canvasArea[nth-1][5]){\r\n\t\t\t\t\timgh = this.tempSet.canvasArea[nth-1][5];\r\n\t\t\t\t\timgw = img.width*imgh/img.height;\r\n\t\t\t\t}\r\n\t\t\t\t//限制移動區域不可超出圖片,增加縮小圖片功能後停用,除非畫布變更\r\n\t\t\t\tif(imgReposition==true){\r\n\t\t\t\t\tif(imgx>0 && imgy>0){\r\n\t\t\t\t\t\timgx = 0;\r\n\t\t\t\t\t\timgy = 0;\r\n\t\t\t\t\t}else if(imgx>0){\r\n\t\t\t\t\t\timgx = 0;\r\n\t\t\t\t\t}else if(imgy>0){\r\n\t\t\t\t\t\timgy = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(imgx+(imgw*imgz)<this.tempSet.canvasArea[nth-1][4] && imgy+(imgh*imgz)<this.tempSet.canvasArea[nth-1][5]){\r\n\t\t\t\t\t\timgx = this.tempSet.canvasArea[nth-1][4]-(imgw*imgz);\r\n\t\t\t\t\t\timgy = this.tempSet.canvasArea[nth-1][5]-(imgh*imgz);\r\n\t\t\t\t\t}else if(imgx+(imgw*imgz)<this.tempSet.canvasArea[nth-1][4]){\r\n\t\t\t\t\t\timgx = this.tempSet.canvasArea[nth-1][4]-(imgw*imgz);\r\n\t\t\t\t\t}else if(imgy+(imgh*imgz)<this.tempSet.canvasArea[nth-1][5]){\r\n\t\t\t\t\t\timgy = this.tempSet.canvasArea[nth-1][5]-(imgh*imgz);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//紀錄圖片數據\r\n\t\t\t\tthis.canvasSet.imgPosition[nth-1]=[imgName,imgx,imgy,imgz,imgr];\r\n\t\t\t\tctx.translate(imgx-(+this.canvasSet.spacing)+(imgw*imgz/2),imgy-(+this.canvasSet.spacing)+(imgh*imgz/2));\r\n\t\t\t\tctx.rotate(imgr/180*Math.PI);\r\n\t\t\t\tctx.drawImage(img,imgx-(imgw*imgz/2), imgy-(imgh*imgz/2), imgw * imgz, imgh * imgz);\r\n\t\t\t\tctx.rotate(-imgr/180*Math.PI);\r\n\t\t\t\tctx.translate(+this.canvasSet.spacing-imgx-(imgw*imgz/2),+this.canvasSet.spacing-imgy-(imgh*imgz/2));//重設參考點為0,0\r\n\t\t\t\t//清理重疊區域\r\n\t\t\t\tctxtemp.clearRect(0,0,cvs.width,cvs.height);\r\n\t\t\t}\r\n\t\t},\r\n\t\t//各圖合併一張圖,\r\n\t\tgetBase64: function(){// eslint-disable-line no-unused-vars\r\n\t\t\t//數據資料轉成json\r\n\t\t\t//canvasSetData.value = JSON.stringify(this.canvasSet);\r\n\t\t\tlet domContext = finalCanvas.getContext('2d');\r\n\t\t\t\tdomContext.clearRect(0,0,finalCanvas.width,finalCanvas.height);\r\n\t\t\t\tdomContext.fillStyle=\"#ffffff\";\r\n\t\t\t\tdomContext.fillRect(0,0,finalCanvas.width,finalCanvas.height);\r\n\t\t\t//domContext.scale(2,2);\r\n\t\t\tfor(let i=1;i<=this.tempSet.canvasArea.length;i++){\r\n\t\t\t\tlet cvs = document.getElementById(\"canvas\"+i);\r\n\t\t\t\tdomContext.drawImage(cvs, this.tempSet.canvasArea[i-1][0]+(+this.canvasSet.spacing), this.tempSet.canvasArea[i-1][1]+(+this.canvasSet.spacing));\r\n\t\t\t}\r\n\t\t\tif(!this.canvasSet.text==false){\r\n\t\t\t\tfor(let i=0;i<this.canvasSet.text.length;i++){\r\n\t\t\t\t\tdomContext.textBaseline = \"top\";//canvas文字定位從左下角改成上方\r\n\t\t\t\t\tdomContext.font = this.canvasSet.text[i].weight + \" \" + this.canvasSet.text[i].size + \"px \" + this.canvasSet.text[i].font;\r\n\t\t\t\t\tdomContext.fillStyle = this.canvasSet.text[i].color;\r\n\t\t\t\t\tdomContext.fillText(this.canvasSet.text[i].text,this.canvasSet.text[i].x,this.canvasSet.text[i].y);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.tempSet.dataURL = finalCanvas.toDataURL();   //get base64 img\r\n\t\t\tlet box = document.createElement(\"div\");\r\n\t\t\t\tbox.id = \"selectimg\";\r\n\t\t\t\tbox.innerHTML = document.getElementById(\"tempShow\").innerHTML;\r\n\t\t\t\tbox.getElementsByTagName(\"img\")[0].setAttribute(\"src\",this.tempSet.dataURL);\r\n\t\t\tdocument.body.appendChild(box);\r\n\t\t},\r\n\t\t//設定畫布顯示縮放倍率,\r\n\t\tsetScale: function(){\r\n\t\t\tlet earea_wrap = document.getElementsByClassName(\"edit-box-wrap\")[0],\r\n\t\t\t\tcanvasWidth = this.canvasSet.point[0][this.canvasSet.point[0].length-1],\r\n\t\t\t\tcanvasHeight = this.canvasSet.point[1][this.canvasSet.point[1].length-1];\r\n\t\t\tlet scale = 1;\r\n\t\t\tif(canvasWidth>earea_wrap.clientWidth*0.9){\r\n\t\t\t\tscale = 1/(earea_wrap.clientWidth*0.9/canvasWidth);\r\n\t\t\t}\r\n\t\t\tif(canvasHeight*(earea_wrap.clientWidth*0.9/canvasWidth)>earea_wrap.clientHeight*0.9){\r\n\t\t\t\tscale = 1/(earea_wrap.clientHeight*0.9/canvasHeight);\r\n\t\t\t}\r\n\t\t\treturn scale;\r\n\t\t},\r\n\t\t//拖曳圖片,\r\n\t\tcontrol_down: function(nth){// eslint-disable-line no-unused-vars\r\n\t\t\tif(this.tempSet.text_isDown == true)return false;\r\n\t\t\tif(!this.canvasSet.imgPosition[nth-1][0]){\r\n\t\t\t\t//searchimg(nth);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.tempSet.m_nth = nth;\r\n\t\t\tthis.tempSet.control_isDown = true;\r\n\t\t\t//獲取滑鼠按下時座標\r\n\t\t\tthis.tempSet.m_down_x = event.clientX;\r\n\t\t\tthis.tempSet.m_down_y = event.clientY;\r\n\t\t\tthis.tempSet.m_nth_x = this.canvasSet.imgPosition[this.tempSet.m_nth-1][1];\r\n\t\t\tthis.tempSet.m_nth_y = this.canvasSet.imgPosition[this.tempSet.m_nth-1][2];\r\n\t\t},\r\n\t\t//滑鼠移動,\r\n\t\tmove: function(){// eslint-disable-line no-unused-vars\r\n\t\t\t//獲取滑鼠移動實時座標\r\n\t\t\tthis.tempSet.m_move_x = event.clientX;\r\n\t\t\tthis.tempSet.m_move_y = event.clientY;\r\n\t\t\t//設定畫布顯示縮放倍率\r\n\t\t\t//if(this.canvasSet.point.length > 0)var scale = this.setScale();\r\n\t\t\t//滑鼠按下時移動才觸發\r\n\t\t\tif(this.tempSet.control_isDown){\r\n\t\t\t\t//把新div座標值賦給div物件\r\n\t\t\t\tlet x = Math.floor(+this.tempSet.m_nth_x + (this.tempSet.m_move_x - this.tempSet.m_down_x)*this.setScale()),\r\n\t\t\t\t\ty = Math.floor(+this.tempSet.m_nth_y + (this.tempSet.m_move_y - this.tempSet.m_down_y)*this.setScale());\r\n\t\t\t\tthis.addimg(this.tempSet.m_nth,this.canvasSet.imgPosition[this.tempSet.m_nth-1][0],x,y,this.canvasSet.imgPosition[this.tempSet.m_nth-1][3],this.canvasSet.imgPosition[this.tempSet.m_nth-1][4]);\r\n\t\t\t}\r\n\t\t\tif(this.tempSet.text_isDown){\r\n\t\t\t\t//把新div座標值賦給div物件\r\n\t\t\t\tlet x = Math.floor(+this.tempSet.m_nth_x + (this.tempSet.m_move_x - this.tempSet.m_down_x)*this.setScale()),\r\n\t\t\t\t\ty = Math.floor(+this.tempSet.m_nth_y + (this.tempSet.m_move_y - this.tempSet.m_down_y)*this.setScale());\r\n\t\t\t\tdocument.getElementById(\"textBlock\"+this.tempSet.m_nth).style.left = x + \"px\";\r\n\t\t\t\tdocument.getElementById(\"textBlock\"+this.tempSet.m_nth).style.top = y + \"px\";\r\n\t\t\t\tthis.canvasSet.text[this.tempSet.m_nth-1].x = x;\r\n\t\t\t\tthis.canvasSet.text[this.tempSet.m_nth-1].y = y;\r\n\t\t\t}\r\n\t\t\tif(this.tempSet.ponitxy_isDown){\r\n\t\t\t\t//把新div座標值賦給div物件\r\n\t\t\t\tlet x = Math.floor(+this.tempSet.m_nth_x + (this.tempSet.m_move_x - this.tempSet.m_down_x)*this.setScale()),\r\n\t\t\t\t\ty = Math.floor(+this.tempSet.m_nth_y + (this.tempSet.m_move_y - this.tempSet.m_down_y)*this.setScale()),\r\n\t\t\t\t\tthisPointxy = document.getElementById(\"pointxy\"+this.tempSet.m_nth);\r\n\t\t\t\t//檢查與座標間的距離\r\n\t\t\t\tif(\r\n\t\t\t\t\tx<this.canvasSet.point[0][this.canvasSet.canvasPosition[this.tempSet.m_nth-1][2]-1]+10 || \r\n\t\t\t\t\ty<this.canvasSet.point[1][this.canvasSet.canvasPosition[this.tempSet.m_nth-1][3]-1]+10 || \r\n\t\t\t\t\t(!this.canvasSet.point[0][this.canvasSet.canvasPosition[this.tempSet.m_nth-1][2]+1] != true && x>this.canvasSet.point[0][this.canvasSet.canvasPosition[this.tempSet.m_nth-1][2]+1]-10) || \r\n\t\t\t\t\t(!this.canvasSet.point[1][this.canvasSet.canvasPosition[this.tempSet.m_nth-1][3]+1] != true && y>this.canvasSet.point[1][this.canvasSet.canvasPosition[this.tempSet.m_nth-1][3]+1]-10) ||\r\n\t\t\t\t\tx>3000 || y>3000\r\n\t\t\t\t\t)return false;\r\n\t\t\t\tthisPointxy.setAttribute(\"style\",'top:'+y+'px;left:'+x+'px;');\r\n\t\t\t\t//let style = '';\r\n\t\t\t\t//if(scale != 1)style='transform:scale('+scale+');';\r\n\t\t\t\t//this.pointxys[this.tempSet.m_nth-1].style=\r\n\t\t\t\tconsole.log(this.pointxys[this.tempSet.m_nth-1].style);\r\n\t\t\t\tthis.canvasSet.point[0][this.canvasSet.canvasPosition[this.tempSet.m_nth-1][2]]=x;\r\n\t\t\t\tthis.canvasSet.point[1][this.canvasSet.canvasPosition[this.tempSet.m_nth-1][3]]=y;\r\n\t\t\t\tthis.resetCanvas(this.canvasSet.canvasPosition.length);\r\n\t\t\t}\r\n\t\t},\r\n\t\tup: function(){// eslint-disable-line no-unused-vars\r\n\t\t\tthis.tempSet.control_isDown = false;\r\n\t\t\tthis.tempSet.ponitxy_isDown = false;\r\n\t\t\tthis.tempSet.text_isDown = false;\r\n\t\t},\r\n\t\tponitxy_down: function(nth){// eslint-disable-line no-unused-vars\r\n\t\t\tif(this.tempSet.text_isDown == true)return false;\r\n\t\t\tthis.tempSet.m_nth = nth;\r\n\t\t\tthis.tempSet.ponitxy_isDown = true;\r\n\t\t\t//獲取滑鼠按下時座標\r\n\t\t\tthis.tempSet.m_down_x = event.clientX;\r\n\t\t\tthis.tempSet.m_down_y = event.clientY;\r\n\t\t\tthis.tempSet.m_nth_x = this.tempSet.canvasArea[this.tempSet.m_nth-1][2];\r\n\t\t\tthis.tempSet.m_nth_y = this.tempSet.canvasArea[this.tempSet.m_nth-1][3];\r\n\t\t},\r\n\t\ttext_down: function(nth){// eslint-disable-line no-unused-vars\r\n\t\t\tthis.tempSet.m_nth = nth;\r\n\t\t\tthis.tempSet.text_isDown = true;\r\n\t\t\t//獲取滑鼠按下時座標\r\n\t\t\tthis.tempSet.m_down_x = event.clientX;\r\n\t\t\tthis.tempSet.m_down_y = event.clientY;\r\n\t\t\tthis.tempSet.m_nth_x = document.getElementById(\"textBlock\"+nth).offsetLeft;\r\n\t\t\tthis.tempSet.m_nth_y = document.getElementById(\"textBlock\"+nth).offsetTop;\r\n\t\t},\r\n\t\t//event.clientX、event.clientY\r\n\t\t//圖片縮放,\r\n\t\tMouseWheel: function(nth,e){// eslint-disable-line no-unused-vars\r\n\t\t\t//window.event.shiftKey==1\r\n\t\t\tif(!this.canvasSet.imgPosition[nth-1][0]){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\te = e || window.event;\r\n\t\t\tif(e.shiftKey){\r\n\t\t\t\tlet imgr = this.canvasSet.imgPosition[nth-1][4];\r\n\t\t\t\t( e.wheelDelta <= 0 || e.detail > 0) ? imgr-=3 : imgr+=3;\r\n\t\t\t\tif(imgr<0)imgr+=360;\r\n\t\t\t\tif(imgr>360)imgr-=360;\r\n\t\t\t\tthis.addimg(nth,this.canvasSet.imgPosition[nth-1][0],this.canvasSet.imgPosition[nth-1][1],this.canvasSet.imgPosition[nth-1][2],this.canvasSet.imgPosition[nth-1][3],imgr);\r\n\t\t\t}else{\r\n\t\t\t\tlet imgz=this.canvasSet.imgPosition[nth-1][3];\r\n\t\t\t\tlet imgzo = imgz;\r\n\t\t\t\t( e.wheelDelta <= 0 || e.detail > 0) ? imgz-=0.05 : imgz+=0.05;\r\n\t\t\t\timgz = Math.round(imgz*100)/100;\r\n\t\t\t\tif(imgz<0.1)imgz=0.1;\r\n\t\t\t\tlet conterx = this.tempSet.canvasArea[nth-1][4]/2,\r\n\t\t\t\t\tcontery = this.tempSet.canvasArea[nth-1][5]/2,\r\n\t\t\t\t\timgx = Math.round(conterx - ((conterx-this.canvasSet.imgPosition[nth-1][1])*imgz/imgzo)),\r\n\t\t\t\t\timgy = Math.round(contery - ((contery-this.canvasSet.imgPosition[nth-1][2])*imgz/imgzo));\r\n\t\t\t\tthis.addimg(nth,this.canvasSet.imgPosition[nth-1][0],imgx,imgy,imgz,this.canvasSet.imgPosition[nth-1][4]);\r\n\t\t\t}\r\n\t\t},\r\n\t\t//選擇圖片,\r\n\t\tsearchimg: function(nth){// eslint-disable-line no-unused-vars\r\n\t\t\tthis.tempSet.m_nth = nth;\r\n\t\t\tlet box = document.createElement(\"div\");\r\n\t\t\t\tbox.id = \"selectimg\";\r\n\t\t\t\tbox.innerHTML = document.getElementById(\"tempSearchImg\").innerHTML;\r\n\t\t\tdocument.body.appendChild(box);\r\n\t\t}\r\n\t\t/*var selectimg: function(nth){\r\n\t\t\tthis.tempSet.m_nth = nth;\r\n\t\t\tlet box = document.createElement(\"div\");\r\n\t\t\t\tbox.id = \"selectimg\";\r\n\t\t\t\tbox.innerHTML = document.getElementById(\"tempSelectImg\").innerHTML;\r\n\t\t\tdocument.body.appendChild(box);\r\n\t\t}*/,\r\n\t\tcanvas_Width: function(){// eslint-disable-line no-unused-vars\r\n\t\t\tif(this.canvas_check(this.canvasWidth)){\r\n\t\t\t\tthis.canvasSet.point[0][this.canvasSet.point[0].length-1] = this.canvasWidth;\r\n\t\t\t\tthis.resetCanvas(this.canvasSet.canvasPosition.length);\r\n\t\t\t}\r\n\t\t\tthis.canvasWidth = this.canvasSet.point[0][this.canvasSet.point[0].length-1];\r\n\t\t},\r\n\t\tcanvas_Height: function(){// eslint-disable-line no-unused-vars\r\n\t\t\tif(this.canvas_check(this.canvasHeight)){\r\n\t\t\t\tthis.canvasSet.point[1][this.canvasSet.point[1].length-1] = this.canvasHeight;\r\n\t\t\t\tthis.resetCanvas(this.canvasSet.canvasPosition.length);\r\n\t\t\t}\r\n\t\t\tthis.canvasHeight = this.canvasSet.point[1][this.canvasSet.point[1].length-1];\r\n\t\t},\r\n\t\tcanvas_line_Width: function(){// eslint-disable-line no-unused-vars\r\n\t\t\tif(this.canvas_check()){\r\n\t\t\t\t//this.canvasSet.spacing = this.canvaslinewidth;\r\n\t\t\t\tthis.resetCanvas(this.canvasSet.canvasPosition.length);\r\n\t\t\t}else{\r\n\t\t\t\tif(this.canvasSet.spacing>3000){\r\n\t\t\t\t\tthis.canvasSet.spacing=3000;\r\n\t\t\t\t}else if(this.canvasSet.spacing<0){\r\n\t\t\t\t\tthis.canvasSet.spacing=0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconsole.log(this.canvasSet.spacing);\r\n\t\t\t//this.canvaslinewidth = this.canvasSet.spacing;\r\n\t\t},\r\n\t\tcanvas_check: function(value){\r\n\t\t\tif(value>3000){\r\n\t\t\t\talert(\"勿超過3000\");\r\n\t\t\t\treturn false;\r\n\t\t\t}else if(value<0){\r\n\t\t\t\talert(\"勿為負數\");\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\tchangeTEST: function(){\r\n\t\t\tconsole.log(\"start\");\r\n\t\t},\r\n\t\tchangeBox: function(arr){\r\n\t\t\t//arr = JSON.parse(JSON.stringify(arr));\r\n\t\t\tthis.tempSet.canvasPositionCustom=[];\r\n\t\t\t//this.addboxSelect();\r\n\t\t\tthis.canvasSet.point = arr.point;\r\n\t\t\t//console.log(arr.point[0]);\r\n\t\t\tthis.canvasSet.canvasPosition = arr.canvasPosition;\r\n\t\t\t//if(!document.getElementsByName('canvasWidth')[0].value == false){\r\n\t\t\tif(this.canvasWidth!=0){\r\n\t\t\t\tlet mag = this.canvasWidth / this.canvasSet.point[0][this.canvasSet.point[0].length-1];\r\n\t\t\t\tconsole.log(this.canvasWidth);\r\n\t\t\t\tconsole.log(mag);\r\n\t\t\t\tfor(let i=0;i<this.canvasSet.point[0].length;i++){\r\n\t\t\t\t\tthis.canvasSet.point[0][i]=this.canvasSet.point[0][i]*mag;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tthis.canvasWidth = this.canvasSet.point[0][this.canvasSet.point[0].length-1];\r\n\t\t\t}\r\n\t\t\t//if(!document.getElementsByName('canvasHeight')[0].value == false){\r\n\t\t\tif(this.canvasHeight!=0){\r\n\t\t\t\tlet mag = this.canvasHeight / this.canvasSet.point[1][this.canvasSet.point[1].length-1];\r\n\t\t\t\tconsole.log(mag);\r\n\t\t\t\tfor(let i=0;i<this.canvasSet.point[1].length;i++){\r\n\t\t\t\t\tthis.canvasSet.point[1][i]=this.canvasSet.point[1][i]*mag;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tthis.canvasHeight = this.canvasSet.point[1][this.canvasSet.point[1].length-1];\r\n\t\t\t}\r\n\t\t\t//if(!this.canvasSet.spacing)this.canvasSet.spacing = 0;\r\n\t\t\tthis.resetCanvas(this.canvasSet.canvasPosition.length,true);\r\n\t\t},\r\n\t\tmakeSVG: function(tag, attrs) {\r\n\t\t\tlet box = document.createElement(\"div\");\r\n\t\t\tlet el= document.createElementNS('http://www.w3.org/2000/svg', tag);\r\n\t\t\tfor (let k in attrs)\r\n\t\t\t\tel.setAttribute(k, attrs[k]);\r\n\t\t\t\tbox.appendChild(el);\r\n\t\t\treturn box.innerHTML;\r\n\t\t},\r\n\t\tcanvasCustom: function(x,y){// eslint-disable-line no-unused-vars\r\n\t\t\tif(document.getElementById(\"canvasCustom\"+x+y).className == 'lock')return false;\r\n\t\t\tif(!this.tempSet.canvasCustom_isDown){\r\n\t\t\t\tthis.tempSet.canvasCustom_x = x;\r\n\t\t\t\tthis.tempSet.canvasCustom_y = y;\r\n\t\t\t\tthis.tempSet.canvasCustom_isDown=true;\r\n\t\t\t}else{\r\n\t\t\t\tlet tmp_x = this.tempSet.canvasCustom_x,\r\n\t\t\t\t\ttmp_y = this.tempSet.canvasCustom_y,\r\n\t\t\t\t\ttemp_error = false;\r\n\t\t\t\tif(this.tempSet.canvasCustom_x>x){\r\n\t\t\t\t\tthis.tempSet.canvasCustom_x = x;\r\n\t\t\t\t\tx = tmp_x;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.tempSet.canvasCustom_y>y){\r\n\t\t\t\t\tthis.tempSet.canvasCustom_y = y;\r\n\t\t\t\t\ty = tmp_y;\r\n\t\t\t\t}\r\n\t\t\t\tfor(let i=this.tempSet.canvasCustom_x;i<=x;i++){\r\n\t\t\t\t\tfor(let j=this.tempSet.canvasCustom_y;j<=y;j++){\r\n\t\t\t\t\t\tif(document.getElementById(\"canvasCustom\"+i+j).className == 'lock'){\r\n\t\t\t\t\t\t\ttemp_error = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(temp_error){\r\n\t\t\t\t\talert(\"選取範圍重複\");\r\n\t\t\t\t\tthis.tempSet.canvasCustom_isDown=false;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tlet colorStr=\"\";\r\n\t\t\t\tlet r = function(){return (Math.floor(Math.random()*224+16)).toString(16)};\r\n\t\t\t\t//產生一個六位的字串\r\n\t\t\t\tcolorStr = \"#\"+r()+r()+r();\r\n\t\t\t\tfor(let i=this.tempSet.canvasCustom_x;i<=x;i++){\r\n\t\t\t\t\tfor(let j=this.tempSet.canvasCustom_y;j<=y;j++){\r\n\t\t\t\t\t\tdocument.getElementById(\"canvasCustom\"+i+j).className = 'lock';\r\n\t\t\t\t\t\tdocument.getElementById(\"canvasCustom\"+i+j).style.backgroundColor=colorStr;\r\n\t\t\t\t\t\tdocument.getElementById(\"canvasCustom\"+i+j).disabled=\"disabled\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.tempSet.canvasPositionCustom.push([this.tempSet.canvasCustom_x,this.tempSet.canvasCustom_y,x+1,y+1])\r\n\t\t\t\tthis.tempSet.canvasCustom_isDown=false;\r\n\t\t\t\tif(document.getElementsByClassName(\"lock\").length==100){\r\n\t\t\t\t\tlet point=[[0,96,192,288,384,480,576,672,768,864,960],[0,96,192,288,384,480,576,672,768,864,960]];\r\n\t\t\t\t\tlet canvasPosition=[[],[]];\r\n\t\t\t\t\tlet arr=[];\r\n\t\t\t\t\tfor(let i=0;i<this.tempSet.canvasPositionCustom.length;i++){\r\n\t\t\t\t\t\tarr = arr.concat(this.tempSet.canvasPositionCustom[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(let i=0;i<arr.length/2;i++){\r\n\t\t\t\t\t\tcanvasPosition[0].push(arr[i*2]);\r\n\t\t\t\t\t\tif(i*2+1<arr.length)canvasPosition[1].push(arr[i*2+1]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcanvasPosition[0]=canvasPosition[0].filter( (el, i, arr) => arr.indexOf(el) === i).sort(function (a, b) {return a - b});\r\n\t\t\t\t\tcanvasPosition[1]=canvasPosition[1].filter( (el, i, arr) => arr.indexOf(el) === i).sort(function (a, b) {return a - b});\r\n\t\t\t\t\tarr = {point:[[],[]]};\r\n\t\t\t\t\tfor(let i=0;i<canvasPosition[0].length;i++){\r\n\t\t\t\t\t\tarr.point[0].push(point[0][canvasPosition[0][i]]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(let i=0;i<canvasPosition[1].length;i++){\r\n\t\t\t\t\t\tarr.point[1].push(point[1][canvasPosition[1][i]]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(let i=0;i<this.tempSet.canvasPositionCustom.length;i++){\r\n\t\t\t\t\t\tfor(let j=0;j<canvasPosition[0].length;j++){\r\n\t\t\t\t\t\t\tif(this.tempSet.canvasPositionCustom[i][0]==canvasPosition[0][j])this.tempSet.canvasPositionCustom[i][0]=j;\r\n\t\t\t\t\t\t\tif(this.tempSet.canvasPositionCustom[i][2]==canvasPosition[0][j])this.tempSet.canvasPositionCustom[i][2]=j;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor(let j=0;j<canvasPosition[1].length;j++){\r\n\t\t\t\t\t\t\tif(this.tempSet.canvasPositionCustom[i][1]==canvasPosition[1][j])this.tempSet.canvasPositionCustom[i][1]=j;\r\n\t\t\t\t\t\t\tif(this.tempSet.canvasPositionCustom[i][3]==canvasPosition[1][j])this.tempSet.canvasPositionCustom[i][3]=j;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tarr.canvasPosition=this.tempSet.canvasPositionCustom;\r\n\t\t\t\t\tthis.changeBox(arr);\r\n\t\t\t\t\tfor(let k=0;k<100;k++){\r\n\t\t\t\t\t\tdocument.getElementsByClassName(\"lock\")[0].removeAttribute('style');\r\n\t\t\t\t\t\tdocument.getElementsByClassName(\"lock\")[0].removeAttribute('disabled');\r\n\t\t\t\t\t\tdocument.getElementsByClassName(\"lock\")[0].removeAttribute('class');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmadeSVG: function(nth){\r\n\t\t\t//return \"456\";\r\n\t\t\t//console.log(this.todos[nth])\r\n\t\t\t//return nth;\r\n\t\t\tlet boxpos = this.todos[nth].point;\r\n\t\t\tlet boxset = this.todos[nth].canvasPosition;\r\n\t\t\tlet boxzoomx = 50/boxpos[0][boxpos[0].length-1];\r\n\t\t\tlet boxzoomy = 50/boxpos[1][boxpos[1].length-1];\r\n\t\t\tlet box = \"\";\r\n\t\t\tfor(let j=0;j<this.todos[nth].canvasPosition.length;j++){\r\n\t\t\t\tlet rect = this.makeSVG('rect', {x:boxpos[0][boxset[j][0]]*boxzoomx+1, y:boxpos[1][boxset[j][1]]*boxzoomy+1, height:(boxpos[1][boxset[j][3]]-boxpos[1][boxset[j][1]])*boxzoomx-2, width:(boxpos[0][boxset[j][2]]-boxpos[0][boxset[j][0]])*boxzoomy-2, fill:\"#666\"});\r\n\t\t\t\t//box.getElementsByTagName(\"svg\")[0].appendChild(rect);\r\n\t\t\t\tbox += rect;\r\n\t\t\t}\r\n\t\t\t//console.log(this.todos[nth].point);\r\n\t\t\treturn box;\r\n\t\t},\r\n\t\taddboxSelect: function(){\r\n\t\t\t//let box = document.createElement(\"li\");\r\n\t\t\tlet box = '<li id=\"canvasCustomArea\">';\r\n\t\t\t\t//box.setAttribute(\"style\",'width:220px;height:220px;');\r\n\t\t\tlet htmltmp = '<div style=\"width:100%;line-height:30px;\">自訂圖片配置</div>';\r\n\t\t\tfor(let i=0;i<10;i++){\r\n\t\t\t\tfor(let j=0;j<10;j++){\r\n\t\t\t\t\tlet button = '<button id=\"canvasCustom'+j+i+'\" type=\"button\" v-on:click=\\'canvasCustom('+j+','+i+')\\'></button>';\r\n\t\t\t\t\thtmltmp += button;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//box.id = 'canvasCustomArea';\r\n\t\t\t//box.innerHTML = htmltmp;\r\n\t\t\tbox += htmltmp +'</li><li><button type=\"button\" v-on:click=\"addText()\">TEXT</button></li>';\r\n\t\t\t//this.bsarea.appendChild(box);\r\n\t\t\tthis.bsarea += box;\r\n\t\t\t/*let box2 = document.createElement(\"li\");\r\n\t\t\t\tbox2.innerHTML = '<button type=\"button\" v-on:click=\"addText()\">TEXT</button>';\r\n\t\t\tthis.bsarea.appendChild(box2);*/\r\n\t\t},\r\n\t\t//新增文字,\r\n\t\taddText: function(arr,nth){\r\n\t\t\tif(this.canvasSet.point.length == 0){\r\n\t\t\t\talert('請先建立畫布');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tarr = arr || {text:\"\",x:0,y:0,size:36,font:\"'Noto\\\\ Sans\\\\ TC'\",color:\"#000\",weight:400};\r\n\t\t\tnth = nth+1||document.getElementsByClassName(\"text-block\").length+1;\r\n\t\t\tlet box = document.createElement(\"div\");\r\n\t\t\t\tbox.id = \"textBlock\"+nth;\r\n\t\t\t\tbox.className=\"text-block\";\r\n\t\t\t\tbox.innerHTML = document.getElementById(\"tempSelectText\").innerHTML;\r\n\t\t\t\tbox.style.top = \"0\";\r\n\t\t\t\tbox.style.left = \"0\";\r\n\t\t\t\tbox.getElementsByTagName(\"Button\")[0].setAttribute(\"onmousedown\",'text_down('+nth+')');\r\n\t\t\t\tbox.getElementsByClassName(\"picker\")[0].setAttribute(\"class\",\"picker picker\"+nth);\r\n\t\t\t\tbox.getElementsByClassName(\"picker\")[0].setAttribute(\"data-nth\",nth);\r\n\t\t\t\tbox.setAttribute(\"onmouseup\",'up()');\r\n\t\t\tlet text = box.getElementsByClassName(\"text\")[0];\r\n\t\t\t\ttext.setAttribute(\"onchange\",'textValue('+nth+')');\r\n\t\t\t\ttext.value = arr.text;\r\n\t\t\t\ttext.style.color = arr.color;\r\n\t\t\tlet size = box.getElementsByClassName(\"size\")[0];\r\n\t\t\t\tsize.setAttribute(\"onchange\",'textSize('+nth+')');\r\n\t\t\tlet type = box.getElementsByClassName(\"font-type\")[0];\r\n\t\t\t\ttype.setAttribute(\"onchange\",'textFont('+nth+')');\r\n\t\t\tlet weight = box.getElementsByClassName(\"font-weight\")[0];\r\n\t\t\t\tweight.setAttribute(\"onchange\",'textWeight('+nth+')');\r\n\t\t\tlet scale = this.setScale();\r\n\t\t\t\tbox.getElementsByClassName(\"text-control\")[0].setAttribute(\"style\",'transform: scale('+scale+')');\r\n\t\t\tdocument.getElementsByClassName(\"text-area\")[0].appendChild(box);\r\n\t\t\tif(!this.canvasSet.text)this.canvasSet.text = [];\r\n\t\t\t(this.canvasSet.text.length<nth)?this.canvasSet.text.push(arr):this.canvasSet.text[nth-1]=arr;\r\n\t\t\tthis.textValue(nth);\r\n\t\t\tthis.textSize(nth,arr.size);\r\n\t\t\tthis.textFont(nth,arr.font);\r\n\t\t\tthis.textWeight(nth,arr.wdight);\r\n\t\t\tdocument.getElementById(\"textBlock\"+nth).getElementsByClassName(\"picker\")[0].style.backgroundColor = arr.color;\r\n\t\t\tdocument.getElementById(\"textBlock\"+nth).style.top = arr.y + \"px\";\r\n\t\t\tdocument.getElementById(\"textBlock\"+nth).style.left = arr.x + \"px\";\r\n\t\t\t/*Colorpicker.create({\r\n\t\t\t\tbindClass:'picker'+nth, // 这里的picker可随意填 不须要跟我同样\r\n\t\t\t\tinitColor:arr.color,\r\n\t\t\t\tchange: function(elem,hex){\r\n\t\t\t\t  // elem: 绑定的元素\r\n\t\t\t\t  // hex：当前选中颜色的hex值\r\n\t\t\t\t  elem.style.backgroundColor = hex;\r\n\t\t\t\t  let nth = elem.getAttribute(\"data-nth\");\r\n\t\t\t\t  document.getElementById(\"textBlock\"+nth).getElementsByClassName(\"text\")[0].style.color = hex;\r\n\t\t\t\t  this.canvasSet.text[nth-1].color = hex;\r\n\t\t\t\t}\r\n\t\t\t})*/\r\n\t\t},\r\n\t\ttextValue: function(nth){\r\n\t\t\tlet text = document.getElementById(\"textBlock\"+nth).getElementsByClassName(\"text\")[0];\r\n\t\t\t\ttext.setAttribute(\"size\",text.value.length*2);\r\n\t\t\t\tif(text.value.length==0)text.setAttribute(\"size\",5);\r\n\t\t\tthis.canvasSet.text[nth-1].text = text.value;\r\n\t\t},\r\n\t\ttextSize: function(nth,size){\r\n\t\t\tlet text = document.getElementById(\"textBlock\"+nth).getElementsByClassName(\"text\")[0];\r\n\t\t\t\tsize = size||document.getElementById(\"textBlock\"+nth).getElementsByClassName(\"size\")[0].value;\r\n\t\t\tthis.canvasSet.text[nth-1].size = size;\r\n\t\t\ttext.style.fontSize = size+\"px\";\r\n\t\t\ttext.style.height = size+\"px\";\r\n\t\t\ttext.style.lineHeight = size+\"px\";\r\n\t\t},\r\n\t\ttextFont: function(nth,font){\r\n\t\t\tlet text = document.getElementById(\"textBlock\"+nth).getElementsByClassName(\"text\")[0];\r\n\t\t\t\tfont = font||document.getElementById(\"textBlock\"+nth).getElementsByClassName(\"font-type\")[0].value;\r\n\t\t\tthis.canvasSet.text[nth-1].font = font;\r\n\t\t\ttext.style.fontFamily = font;\r\n\t\t},\r\n\t\ttextWeight: function(nth,weight){\r\n\t\t\tlet text = document.getElementById(\"textBlock\"+nth).getElementsByClassName(\"text\")[0];\r\n\t\t\t\tweight = weight||document.getElementById(\"textBlock\"+nth).getElementsByClassName(\"font-weight\")[0].value;\r\n\t\t\tthis.canvasSet.text[nth-1].weight = weight;\r\n\t\t\ttext.style.fontWeight = weight;\r\n\t\t},\r\n\t\tgetImg: function() {\r\n\t\t\t// 發送 Ajax 查詢請求並處理\r\n\t\t\tvar request = new XMLHttpRequest();\r\n\t\t\trequest.open(\"GET\", \"img.php?img=\" + document.getElementById(\"keyword\").value);\r\n\t\t\trequest.send();\r\n\t\t\tdocument.body.removeChild(document.getElementById('selectimg'));\r\n\t\t\trequest.onreadystatechange = function() {\r\n\t\t\t\t// 伺服器請求完成\r\n\t\t\t\tif (request.readyState === 4) {\r\n\t\t\t\t\t// 伺服器回應成功\r\n\t\t\t\t\tif (request.status === 200) {\r\n\t\t\t\t\t\tvar type = request.getResponseHeader(\"Content-Type\");   // 取得回應類型\r\n\r\n\t\t\t\t\t\t// 判斷回應類型\r\n\t\t\t\t\t\tif (type.indexOf(\"application/json\") === 0) {\t\t\t   \r\n\t\t\t\t\t\t\tlet data = JSON.parse(request.responseText);\r\n\t\t\t\t\t\t\tlet box = document.createElement(\"div\");\r\n\t\t\t\t\t\t\t\tbox.id = \"selectimg\";\r\n\t\t\t\t\t\t\t\tbox.innerHTML = document.getElementById(\"tempSelectImg\").innerHTML;\r\n\t\t\t\t\t\t\tif (data.images) {\r\n\t\t\t\t\t\t\t\tlet images = \"\";\r\n\t\t\t\t\t\t\t\tfor(let i=0;i<data.images.length;i++){\r\n\t\t\t\t\t\t\t\t\timages+='<li><img src=\"images/'+data.images[i]+'\" v-on:click=\"addimg(tempSet.m_nth,\\''+data.images[i]+'\\',0,0,1,0);document.body.removeChild(document.getElementById(\\'selectimg\\'))\"></li>';\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbox.getElementsByTagName(\"ul\")[0].innerHTML = images;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tbox.getElementsByTagName(\"ul\")[0].innerHTML = data.msg;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdocument.body.appendChild(box);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\talert(\"發生錯誤: \" + request.status);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\t\t//var arr = '{\"point\":[[0,400,800],[0,400,800]],\"canvasPosition\":[[0,0,1,1],[0,1,1,2],[1,0,2,2]],\"imgPosition\":[[0,0,1,\"img.jpg\"],[0,0,1,\"img2.jpg\"]],\"spacing\":1}';\r\n\t\t/*var canvasSet = {};\r\n\t\tvar tempSet = {\r\n\t\t\t\"canvasArea\":[],\r\n\t\t\t\"canvasPositionCustom\":[],\r\n\t\t\t//紀錄滑鼠操作事件\r\n\t\t\t\"text_isDown\":false,\r\n\t\t\t\"control_isDown\":false,\r\n\t\t\t\"ponitxy_isDown\":false,\r\n\t\t\t\"canvasCustom_isDown\":false,\r\n\t\t\t//紀錄滑鼠操作數據-自訂區塊原始起點\r\n\t\t\t\"canvasCustom_x\":0,\r\n\t\t\t\"canvasCustom_y\":0,\r\n\t\t\t//紀錄滑鼠操作數據\r\n\t\t\t\"m_nth\":0,\r\n\t\t\t\"m_move_x\":0,\r\n\t\t\t\"m_move_y\":0,\r\n\t\t\t\"m_down_x\":0,\r\n\t\t\t\"m_down_y\":0,\r\n\t\t\t\"m_nth_x\":0,\r\n\t\t\t\"m_nth_y\":0\r\n\t\t};\r\n\t\tthis.addboxSelect();\r\n\t\tif(!canvasSetData.value == false){\r\n\t\t\t//載入原始設定\r\n\t\t\tcanvasSet = JSON.parse(canvasSetData.value);\r\n\t\t\tthis.resetCanvas(this.canvasSet.canvasPosition.length);\r\n\t\t\t//建立文字資料\r\n\t\t\tif(!this.canvasSet.text)this.canvasSet.text = [];\r\n\t\t\tif(this.canvasSet.text.length > 0){\r\n\t\t\t\tfor(let i=0;i<this.canvasSet.text.length;i++){\r\n\t\t\t\t\tthis.addText(this.canvasSet.text[i],i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\twindow.onresize = function(){\r\n\t\t\tif(!this.canvasSet.canvasPosition == false)this.resetCanvas(this.canvasSet.canvasPosition.length);\r\n\t\t}*/\r\n</script>\r\n\r\n<style>\r\n\tbody{\r\n\t\tmargin: 0;\r\n\t\tposition: relative;\r\n\t\tbackground-color: #666;\r\n\t}\r\n\tul{\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t}\r\n\tcanvas:not(#finalCanvas){\r\n\t\tdisplay: block;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t}\r\n\t#finalCanvas{\r\n\t\tvertical-align: middle;\r\n\t\topacity: 0;\r\n\t}\r\n\t#canvasCustomArea{\r\n\t\twidth: 220px;\r\n\t\t/*height: 220px;*/\r\n\t\tpadding: 10px;\r\n\t\tflex-wrap: wrap;\r\n\t\toverflow: auto;\r\n\t\theight: auto;\r\n\t}\r\n\t#canvasCustomArea button{\r\n\t\twidth: 22px;\r\n\t\theight: 22px;\r\n\t\tfloat: left;\r\n\t\tborder-width: 1px;\r\n\t}\r\n\t.box-select{\r\n\t\twidth: 240px;\r\n\t\theight: 100vh;\r\n\t\tpadding: 0 15px;\r\n\t\tfloat: left;\r\n\t\tborder-right: 1px solid #999;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\t.box-select li{\r\n\t\twidth: 80px;\r\n\t\theight: 80px;\r\n\t\tfloat: left;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\t.box-select button{\r\n\t\twidth: 60px;\r\n\t\theight: 60px;\r\n\t\tpadding: 0;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.box-select svg{\r\n\t\twidth: 50px;\r\n\t\theight: 50px;\r\n\t\tmargin: 3px;\r\n\t}\r\n\t.edit-box-wrap{\r\n\t\twidth: calc(100vw - 300px);\r\n\t\theight: 100vh;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tfloat: left;\r\n\t}\r\n\t.edit-box{\r\n\t\tposition: relative;\r\n\t\tbox-shadow: 0 0 5px #666;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\t.button-area{\r\n\t\twidth: calc(100vw - 301px);\r\n\t\tposition: fixed;\r\n\t\tright: 0;\r\n\t\ttop: 0;\r\n\t\tz-index: 100;\r\n\t\tpadding: 10px 15px;\r\n\t\tbackground-color: #fff;\r\n\t\tbox-shadow: 0 2px 2px rgba(0,0,0,0.2);\r\n\t}\r\n\t.button-area button, .button-area input{\r\n\t\twidth: 80px;\r\n\t\ttext-align: center;\r\n\t\t/*transform: skewY(30deg);\r\n\t\ttransform-origin: top left;*/\r\n\t}\r\n\t.button-area button{\r\n\t\tfloat: right;\r\n\t}\r\n\t.control-area, .text-area{\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t}\r\n\t.text-area{\r\n\t\twidth: 0;\r\n\t\theight: 0;\r\n\t}\r\n\t.text-block:hover{\r\n\t\tz-index: 100;\r\n\t}\r\n\t.control-area div, .text-area .text-block{\r\n\t\tposition: absolute;\r\n\t}\r\n\t.control-area div:not(.pointxy){\r\n\t\tborder: 1px dashed rgba(0,0,0,0.2);\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t.control-area div button{\r\n\t\tposition: absolute;\r\n\t\ttop: 5px;\r\n\t\tright: 5px;\r\n\t\tdisplay: none;\r\n\t\tbackground-color: #2aa4b9;\r\n\t\tcolor: #fff;\r\n\t\tcursor: pointer;\r\n\t\tborder-width: 0;\r\n\t\tbox-shadow: 0 1px 2px #666;\r\n\t\ttransform-origin:right top;\r\n\t}\r\n\t.text-area div button{\r\n\t\tbackground-color: #2aa4b9;\r\n\t\tcolor: #fff;\r\n\t\tcursor: pointer;\r\n\t\tborder-width: 0;\r\n\t\tbox-shadow: 0 1px 2px #666;\r\n\t}\r\n\t.control-area div:hover button, .text-block:hover .text-control, .text-area input[type=\"text\"]:focus + .text-control{\r\n\t\tdisplay: block;\r\n\t}\r\n\t.text-area input[type=\"text\"]{\r\n\t\twidth: auto;\r\n\t\theight: auto;\r\n\t\tpadding: 0;\r\n\t\tborder: 0;\r\n\t\toutline: 1px dashed rgba(0,0,0,0.4);\r\n\t\tbackground-color: transparent;\r\n\t}\r\n\t.text-control{\r\n\t\tdisplay: none;\r\n\t\tbackground-color: rgba(0,0,0,0.4);\r\n\t\tpadding: 10px;\r\n\t\tfont-size: 24px;\r\n\t\ttransform-origin: 0 0;\r\n\t\twidth: 160px;\r\n\t}\r\n\t.text-control input, .text-control select{\r\n\t\twidth: 160px;\r\n\t\tbox-sizing: border-box;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.selectimg-area{\r\n\t\tposition: fixed;\r\n\t\theight: 100vh;\r\n\t\twidth: 100vw;\r\n\t\tz-index: 102;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tbackground-color: rgba(0,0,0,0.5);\r\n\t}\r\n\t.selectimg{\r\n\t\tposition: relative;\r\n\t\twidth: 800px;\r\n\t\tpadding: 30px 50px;\r\n\t\tbackground-color: rgba(0,0,0,0.4);\r\n\t\tbox-shadow: 0 0 2px rgba(0,0,0,0.5);\r\n\t\tmax-height: 640px;\r\n\t\toverflow-y: auto;\r\n\t}\r\n\t.selectimg li{\r\n\t\tfloat: left;\r\n\t\twidth: 20%;\r\n\t\tpadding: 10px;\r\n\t\tbox-sizing: border-box;\r\n\t\tlist-style: none;\r\n\t}\r\n\t.selectimg img{\r\n\t\twidth: 100%;\r\n\t}\r\n\t.selectimg button:first-of-type{\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tright: 0;\r\n\t}\r\n\t.pointxy{\r\n\t\twidth: 8px;\r\n\t\theight: 8px;\r\n\t\tborder: 4px solid #999;\r\n\t\tborder-radius: 8px;\r\n\t\tmargin-top: -8px;\r\n\t\tmargin-left: -8px;\r\n\t\tbackground-color: #fff;\r\n\t\tposition: absolute;\r\n\t}\r\n\t.pointxy:hover{\r\n\t\tcursor: pointer;\r\n\t\tborder: 4px solid #2aa4b9;\r\n\t\tbox-shadow: 0 1px 3px #333;\r\n\t}\r\n\tdiv.canvas-text{\r\n\t\tposition: relative;\r\n\t}\r\n\t#tempSelectImg,#tempSearchImg,#tempShow,#tempSelectText{\r\n\t\tdisplay:none;\r\n\t}\r\n</style>\r\n"]}]}